<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Chapter 2. Installing and Upgrading MySQL</title><link rel="stylesheet" href="mysql-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="MySQL 5.5 Reference Manual"><link rel="up" href="index.html" title="MySQL 5.5 Reference Manual"><link rel="prev" href="introduction.html" title="Chapter 1. General Information"><link rel="next" href="tutorial.html" title="Chapter 3. Tutorial">
<script language="javascript" type="text/javascript">
  function addOnload(theFunc)
  {
    var previous = window.onload;
    if (typeof window.onload != 'function')
    {
      window.onload = theFunc;
    }
    else
    {
      window.onload = function()
      {
        previous();
        theFunc();
      }
    }
  }

  addOnload(function()
  {
    var base = new Date(1328790650*1000);
    var now = new Date();
    var diff = ((now-base)/1000)/(24*3600);

    if (diff > 90) {
      var nodes = document.getElementsByClassName('titlepage');
      nodes[0].innerHTML = '<p style="border: 5px #ff0000 solid; padding: 5px; margin 5px">' +
        'This copy of the manual is more than 90 days old. We encourage you to download a ' +
        'new version from <a href="http://dev.mysql.com">dev.mysql.com/doc</a>.</p>' + nodes[0].innerHTML;
    }
  });
</script>
<noscript></noscript>
</head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 2. Installing and Upgrading MySQL</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="introduction.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="tutorial.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="installing"></a>Chapter 2. Installing and Upgrading MySQL</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="installing.html#general-installation-issues">2.1. General Installation Guidance</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#supported-os">2.1.1. Operating Systems Supported by MySQL Community Server</a></span></dt><dt><span class="section"><a href="installing.html#which-version">2.1.2. Choosing Which MySQL Distribution to Install</a></span></dt><dt><span class="section"><a href="installing.html#getting-mysql">2.1.3. How to Get MySQL</a></span></dt><dt><span class="section"><a href="installing.html#verifying-package-integrity">2.1.4. Verifying Package Integrity Using MD5 Checksums or
      <code class="literal">GnuPG</code></a></span></dt><dt><span class="section"><a href="installing.html#installation-layouts">2.1.5. Installation Layouts</a></span></dt><dt><span class="section"><a href="installing.html#compiler-characteristics">2.1.6. Compiler-Specific Build Characteristics</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#binary-installation">2.2. Installing MySQL from Generic Binaries on Unix/Linux</a></span></dt><dt><span class="section"><a href="installing.html#windows-installation">2.3. Installing MySQL on Microsoft Windows</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#windows-installation-layout">2.3.1. MySQL Installation Layout on Microsoft Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-choosing-package">2.3.2. Choosing An Installation Package</a></span></dt><dt><span class="section"><a href="installing.html#mi">2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer</a></span></dt><dt><span class="section"><a href="installing.html#windows-using-installer">2.3.4. Installing MySQL on Microsoft Windows Using an MSI Package</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard">2.3.5. MySQL Server Instance Configuration Wizard</a></span></dt><dt><span class="section"><a href="installing.html#windows-install-archive">2.3.6. Installing MySQL on Microsoft Windows Using a
      <code class="literal">noinstall</code> Zip Archive</a></span></dt><dt><span class="section"><a href="installing.html#windows-troubleshooting">2.3.7. Troubleshooting a MySQL Installation Under Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-upgrading">2.3.8. Upgrading MySQL on Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-postinstallation">2.3.9. Windows Postinstallation Procedures</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#macosx-installation">2.4. Installing MySQL on Mac OS X</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#macosx-installation-notes">2.4.1. General Notes on Installing MySQL on Mac OS X</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-pkg">2.4.2. Installing MySQL on Mac OS X Using Native Packages</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-startupitem">2.4.3. Installing the MySQL Startup Item</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-prefpane">2.4.4. Installing and Using the MySQL Preference Pane</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-server">2.4.5. Using the Bundled MySQL on Mac OS X Server</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#linux-installation">2.5. Installing MySQL on Linux</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#linux-installation-rpm">2.5.1. Installing MySQL from RPM Packages on Linux</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-native">2.5.2. Installing MySQL on Linux using Native Package Manager</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#solaris-installation">2.6. Installing MySQL on Solaris and OpenSolaris</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#solaris-installation-pkg">2.6.1. Installing MySQL on Solaris using a Solaris <code class="literal">PKG</code></a></span></dt><dt><span class="section"><a href="installing.html#solaris-installation-opensolaris">2.6.2. Installing MySQL on OpenSolaris using IPS</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#hpux-installation">2.7. Installing MySQL on HP-UX</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#hpux-installation-general">2.7.1. General Notes on Installing MySQL on HP-UX</a></span></dt><dt><span class="section"><a href="installing.html#hpux-installation-depot">2.7.2. Installing MySQL on HP-UX using DEPOT</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#freebsd-installation">2.8. Installing MySQL on FreeBSD</a></span></dt><dt><span class="section"><a href="installing.html#source-installation">2.9. Installing MySQL from Source</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#source-installation-layout">2.9.1. MySQL Layout for Source Installation</a></span></dt><dt><span class="section"><a href="installing.html#installing-source-distribution">2.9.2. Installing MySQL from a Standard Source Distribution</a></span></dt><dt><span class="section"><a href="installing.html#installing-development-tree">2.9.3. Installing MySQL from a Development Source Tree</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-options">2.9.4. MySQL Source-Configuration Options</a></span></dt><dt><span class="section"><a href="installing.html#compilation-problems">2.9.5. Dealing with Problems Compiling MySQL</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-third-party">2.9.6. MySQL Configuration and Third-Party Tools</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#postinstallation">2.10. Postinstallation Setup and Testing</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#unix-postinstallation">2.10.1. Unix Postinstallation Procedures</a></span></dt><dt><span class="section"><a href="installing.html#default-privileges">2.10.2. Securing the Initial MySQL Accounts</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#upgrading-downgrading">2.11. Upgrading or Downgrading MySQL</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#upgrading">2.11.1. Upgrading MySQL</a></span></dt><dt><span class="section"><a href="installing.html#downgrading">2.11.2. Downgrading MySQL</a></span></dt><dt><span class="section"><a href="installing.html#checking-table-incompatibilities">2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt</a></span></dt><dt><span class="section"><a href="installing.html#rebuilding-tables">2.11.4. Rebuilding or Repairing Tables or Indexes</a></span></dt><dt><span class="section"><a href="installing.html#copying-databases">2.11.5. Copying MySQL Databases to Another Machine</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#environment-variables">2.12. Environment Variables</a></span></dt><dt><span class="section"><a href="installing.html#perl-support">2.13. Perl Installation Notes</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#perl-installation">2.13.1. Installing Perl on Unix</a></span></dt><dt><span class="section"><a href="installing.html#activestate-perl">2.13.2. Installing ActiveState Perl on Windows</a></span></dt><dt><span class="section"><a href="installing.html#perl-support-problems">2.13.3. Problems Using the Perl <code class="literal">DBI</code>/<code class="literal">DBD</code>
      Interface</a></span></dt></dl></dd></dl></div><a class="indexterm" name="id511306"></a><p>
    This chapter describes how to obtain and install MySQL. A summary of
    the procedure follows and later sections provide the details. If you
    plan to upgrade an existing version of MySQL to a newer version
    rather than install MySQL for the first time, see
    <a href="installing.html#upgrading" title="2.11.1. Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>, for information about upgrade
    procedures and about issues that you should consider before
    upgrading.
  </p><p>
    If you are interested in migrating to MySQL from another database
    system, you may wish to read <a href="faqs.html#faqs-migration" title="B.8. MySQL 5.5 FAQ: Migration">Section B.8, “MySQL 5.5 FAQ: Migration”</a>, which
    contains answers to some common questions concerning migration
    issues.
  </p><div class="orderedlist"><ol type="1"><li><p>
        <span class="bold"><strong>Determine whether MySQL runs and is
        supported on your platform.</strong></span>
      </p><p>
        Please note that not all platforms are equally suitable for
        running MySQL, and that not all platforms on which MySQL is
        known to run are officially supported by Oracle Corporation:
      </p></li><li><p>
        <span class="bold"><strong>Choose which distribution to
        install.</strong></span>
      </p><p>
        Several versions of MySQL are available, and most are available
        in several distribution formats. You can choose from
        pre-packaged distributions containing binary (precompiled)
        programs or source code. When in doubt, use a binary
        distribution. We also provide public access to our current
        source tree for those who want to see our most recent
        developments and help us test new code. To determine which
        version and type of distribution you should use, see
        <a href="installing.html#which-version" title="2.1.2. Choosing Which MySQL Distribution to Install">Section 2.1.2, “Choosing Which MySQL Distribution to Install”</a>.
      </p></li><li><p>
        <span class="bold"><strong>Download the distribution that you want to
        install.</strong></span>
      </p><p>
        For instructions, see <a href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>. To verify
        the integrity of the distribution, use the instructions in
        <a href="installing.html#verifying-package-integrity" title="2.1.4. Verifying Package Integrity Using MD5 Checksums or
      GnuPG">Section 2.1.4, “Verifying Package Integrity Using MD5 Checksums or
      <code class="literal">GnuPG</code>”</a>.
      </p></li><li><p>
        <span class="bold"><strong>Install the distribution.</strong></span>
      </p><p>
        To install MySQL from a binary distribution, use the
        instructions in <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>.
      </p><p>
        To install MySQL from a source distribution or from the current
        development source tree, use the instructions in
        <a href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
      </p></li><li><p>
        <span class="bold"><strong>Perform any necessary postinstallation
        setup.</strong></span>
      </p><p>
        After installing MySQL, read <a href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
        This section contains important information about making sure
        the MySQL server is working properly. It also describes how to
        secure the initial MySQL user accounts, <span class="emphasis"><em>which have no
        passwords</em></span> until you assign passwords. The section
        applies whether you install MySQL using a binary or source
        distribution.
      </p></li><li><p>
        If you want to run the MySQL benchmark scripts, Perl support for
        MySQL must be available. See <a href="installing.html#perl-support" title="2.13. Perl Installation Notes">Section 2.13, “Perl Installation Notes”</a>.
      </p></li></ol></div><p>
    Instructions for installing MySQL on different platforms and
    environments is available on a platform by platform basis:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        <span class="bold"><strong>Unix, Linux, FreeBSD</strong></span>
      </p><p>
        For instructions on installing MySQL on most Linux and Unix
        platforms using a generic binary (for example, a
        <code class="filename">.tar.gz</code> package), see
        <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>.
      </p><p>
        For information on building MySQL entirely from the source code
        distributions or the source code repositories, see
        <a href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>
      </p><p>
        For specific platform help on installation, configuration, and
        building from source see the corresponding platform section:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Linux, including notes on distribution specific methods, see
            <a href="installing.html#linux-installation" title="2.5. Installing MySQL on Linux">Section 2.5, “Installing MySQL on Linux”</a>.
          </p></li><li><p>
            Solaris and OpenSolaris, including PKG and IPS formats, see
            <a href="installing.html#solaris-installation" title="2.6. Installing MySQL on Solaris and OpenSolaris">Section 2.6, “Installing MySQL on Solaris and OpenSolaris”</a>.
          </p></li><li><p>
            IBM AIX, see <a href="installing.html#solaris-installation" title="2.6. Installing MySQL on Solaris and OpenSolaris">Section 2.6, “Installing MySQL on Solaris and OpenSolaris”</a>.
          </p></li><li><p>
            Hewlett-Packard HP-UX, including the DEPOT package format,
            see <a href="installing.html#hpux-installation" title="2.7. Installing MySQL on HP-UX">Section 2.7, “Installing MySQL on HP-UX”</a>.
          </p></li><li><p>
            FreeBSD, see <a href="installing.html#freebsd-installation" title="2.8. Installing MySQL on FreeBSD">Section 2.8, “Installing MySQL on FreeBSD”</a>.
          </p></li></ul></div></li><li><p>
        <span class="bold"><strong>Microsoft Windows</strong></span>
      </p><p>
        For instructions on installing MySQL on Microsoft Windows, using
        either a Zipped binary or an MSI package, see
        <a href="installing.html#windows-installation" title="2.3. Installing MySQL on Microsoft Windows">Section 2.3, “Installing MySQL on Microsoft Windows”</a>.
      </p><p>
        For information on using the MySQL Server Instance Config
        Wizard, see <a href="installing.html#mysql-config-wizard" title="2.3.5. MySQL Server Instance Configuration Wizard">Section 2.3.5, “MySQL Server Instance Configuration Wizard”</a>.
      </p><p>
        For details and instructions on building MySQL from source code
        using Microsoft Visual Studio, see
        <a href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
      </p></li><li><p>
        <span class="bold"><strong>Mac OS X</strong></span>
      </p><p>
        For installation on Mac OS X, including using both the binary
        package and native PKG formats, see
        <a href="installing.html#macosx-installation" title="2.4. Installing MySQL on Mac OS X">Section 2.4, “Installing MySQL on Mac OS X”</a>.
      </p><p>
        For information on making use of the MySQL Startup Item to
        automatically start and stop MySQL, see
        <a href="installing.html#macosx-installation-startupitem" title="2.4.3. Installing the MySQL Startup Item">Section 2.4.3, “Installing the MySQL Startup Item”</a>.
      </p><p>
        For information on the MySQL Preference Pane, see
        <a href="installing.html#macosx-installation-prefpane" title="2.4.4. Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>.
      </p></li><li><p>
        <span class="bold"><strong>IBM i5/OS</strong></span>
      </p></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="general-installation-issues"></a>2.1. General Installation Guidance</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#supported-os">2.1.1. Operating Systems Supported by MySQL Community Server</a></span></dt><dt><span class="section"><a href="installing.html#which-version">2.1.2. Choosing Which MySQL Distribution to Install</a></span></dt><dt><span class="section"><a href="installing.html#getting-mysql">2.1.3. How to Get MySQL</a></span></dt><dt><span class="section"><a href="installing.html#verifying-package-integrity">2.1.4. Verifying Package Integrity Using MD5 Checksums or
      <code class="literal">GnuPG</code></a></span></dt><dt><span class="section"><a href="installing.html#installation-layouts">2.1.5. Installation Layouts</a></span></dt><dt><span class="section"><a href="installing.html#compiler-characteristics">2.1.6. Compiler-Specific Build Characteristics</a></span></dt></dl></div><p>
    The immediately following sections contain the information necessary
    to choose, download, and verify your distribution. The instructions
    in later sections of the chapter describe how to install the
    distribution that you choose. For binary distributions, see the
    instructions at <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a> or the
    corresponding section for your platform if available. To build MySQL
    from source, use the instructions in
    <a href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="supported-os"></a>2.1.1. Operating Systems Supported by MySQL Community Server</h3></div></div></div><a class="indexterm" name="id511718"></a><a class="indexterm" name="id511730"></a><a class="indexterm" name="id511739"></a><a class="indexterm" name="id511748"></a><a class="indexterm" name="id511757"></a><p>
      This section lists the operating systems on which MySQL Community
      Server is known to run.
    </p><div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p xmlns="">
        Oracle Corporation does not necessarily provide official support
        for all the platforms listed in this section. For information
        about those platforms that are officially supported, see
        http://www.mysql.com/support/supportedplatforms.html on the
        MySQL Web site.
      </p></div><p>
      We use <span><strong class="command">CMake</strong></span>, so it is possible to port MySQL
      to all modern systems that have a C++ compiler and a working
      implementation of POSIX threads. (Thread support is needed for the
      server. To compile only the client code, the only requirement is a
      C++ compiler.)
    </p><p>
      MySQL has been reported to compile successfully on the following
      combinations of operating system and thread package.
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          FreeBSD 5.x and up with native threads. See
          <a href="installing.html#freebsd-installation" title="2.8. Installing MySQL on FreeBSD">Section 2.8, “Installing MySQL on FreeBSD”</a>.
        </p></li><li><p>
          HP-UX 11.x with the native threads. See
          <a href="installing.html#hpux-installation" title="2.7. Installing MySQL on HP-UX">Section 2.7, “Installing MySQL on HP-UX”</a>.
        </p></li><li><p>
          Linux. Builds on all recent Linux distributions based on the
          2.6 kernel. See <a href="installing.html#linux-installation" title="2.5. Installing MySQL on Linux">Section 2.5, “Installing MySQL on Linux”</a>.
        </p></li><li><p>
          Mac OS X. See <a href="installing.html#macosx-installation" title="2.4. Installing MySQL on Mac OS X">Section 2.4, “Installing MySQL on Mac OS X”</a>.
        </p></li><li><p>
          Solaris 2.8 on SPARC and x86, including support for native
          threads. See <a href="installing.html#solaris-installation" title="2.6. Installing MySQL on Solaris and OpenSolaris">Section 2.6, “Installing MySQL on Solaris and OpenSolaris”</a>.
        </p></li><li><p>
          Windows XP, Windows Vista, Windows Server 2003, and Windows
          Server 2008. See <a href="installing.html#windows-installation" title="2.3. Installing MySQL on Microsoft Windows">Section 2.3, “Installing MySQL on Microsoft Windows”</a>.
        </p></li></ul></div><p>
      MySQL has also been known to run on other systems in the past. See
      <a href="installing.html#general-installation-issues" title="2.1. General Installation Guidance">Section 2.1, “General Installation Guidance”</a>. Some porting effort
      might be required for current versions of MySQL on these systems.
    </p><p>
      Not all platforms are equally well-suited for running MySQL. How
      well a certain platform is suited for a high-load mission-critical
      MySQL server is determined by the following factors:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          General stability of the thread library. A platform may have
          an excellent reputation otherwise, but MySQL is only as stable
          as the thread library it calls, even if everything else is
          perfect.
        </p></li><li><p>
          The capability of the kernel and the thread library to take
          advantage of symmetric multi-processor (SMP) systems. In other
          words, when a process creates a thread, it should be possible
          for that thread to run on a CPU different from the original
          process.
        </p></li><li><p>
          The capability of the kernel and the thread library to run
          many threads that acquire and release a mutex over a short
          critical region frequently without excessive context switches.
          If the implementation of
          <code class="literal">pthread_mutex_lock()</code> is too anxious to
          yield CPU time, this hurts MySQL tremendously. If this issue
          is not taken care of, adding extra CPUs actually makes MySQL
          slower.
        </p></li><li><p>
          General file system stability and performance.
        </p></li><li><p>
          Table size. If your tables are large, performance is affected
          by the ability of the file system to deal with large files and
          dealing with them efficiently.
        </p></li><li><p>
          Our level of expertise here at Oracle Corporation with the
          platform. If we know a platform well, we enable
          platform-specific optimizations and fixes at compile time. We
          can also provide advice on configuring your system optimally
          for MySQL.
        </p></li><li><p>
          The amount of testing we have done internally for similar
          configurations.
        </p></li><li><p>
          The number of users that have run MySQL successfully on the
          platform in similar configurations. If this number is high,
          the likelihood of encountering platform-specific surprises is
          much smaller.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="which-version"></a>2.1.2. Choosing Which MySQL Distribution to Install</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#choosing-version">2.1.2.1. Choosing Which Version of MySQL to Install</a></span></dt><dt><span class="section"><a href="installing.html#choosing-distribution-format">2.1.2.2. Choosing a Distribution Format</a></span></dt><dt><span class="section"><a href="installing.html#many-versions">2.1.2.3. How and When Updates Are Released</a></span></dt></dl></div><p>
      When preparing to install MySQL, you should decide which version
      to use. MySQL development occurs in several release series, and
      you can pick the one that best fits your needs. After deciding
      which version to install, you can choose a distribution format.
      Releases are available in binary or source format.
    </p><a class="indexterm" name="id511980"></a><a class="indexterm" name="id511989"></a><a class="indexterm" name="id511998"></a><a class="indexterm" name="id512007"></a><a class="indexterm" name="id512019"></a><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="choosing-version"></a>2.1.2.1. Choosing Which Version of MySQL to Install</h4></div></div></div><p>
        The first decision to make is whether you want to use a
        production (stable) release or a development release. In the
        MySQL development process, multiple release series co-exist,
        each at a different stage of maturity.
      </p><h5><a name="id512053"></a>
    Production Releases
  </h5><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL 5.5: Latest General Availability (Production) release
      </p></li><li><p>
        MySQL 5.1: Previous stable (production-quality) release
      </p></li><li><p>
        MySQL 5.0: Older stable release nearing the end of the product
        lifecycle
      </p></li></ul></div><h5><a name="id512084"></a>
    Development Release
  </h5><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL 5.6: Current release under development (pre-Production)
      </p></li></ul></div><p>
    MySQL 4.1, 4.0, and 3.23 are old releases that are no longer
    supported.
  </p><p>
    See http://www.mysql.com/about/legal/lifecycle/ for information
    about support policies and schedules.
  </p><p>
        Normally, if you are beginning to use MySQL for the first time
        or trying to port it to some system for which there is no binary
        distribution, use the most recent General Availability series
        listed in the preceding descriptions. All MySQL releases, even
        those from development series, are checked with the MySQL
        benchmarks and an extensive test suite before being issued.
      </p><p>
        If you are running an older system and want to upgrade, but do
        not want to take the chance of having a nonseamless upgrade, you
        should upgrade to the latest version in the same release series
        you are using (where only the last part of the version number is
        newer than yours). We have tried to fix only fatal bugs and make
        only small, relatively “<span class="quote">safe</span>” changes to that
        version.
      </p><p>
        If you want to use new features not present in the production
        release series, you can use a version from a development series.
        Be aware that development releases are not as stable as
        production releases.
      </p><p>
        We do not use a complete code freeze because this prevents us
        from making bugfixes and other fixes that must be done. We may
        add small things that should not affect anything that currently
        works in a production release. Naturally, relevant bugfixes from
        an earlier series propagate to later series.
      </p><p>
        If you want to use the very latest sources containing all
        current patches and bugfixes, you can use one of our source code
        repositories (see
        <a href="installing.html#installing-development-tree" title="2.9.3. Installing MySQL from a Development Source Tree">Section 2.9.3, “Installing MySQL from a Development Source Tree”</a>). These are not
        “<span class="quote">releases</span>” as such, but are available as previews
        of the code on which future releases are to be based.
      </p><a class="indexterm" name="id512156"></a><a class="indexterm" name="id512169"></a><p>
        The naming scheme in MySQL 5.5 uses release names
        that consist of three numbers and a suffix; for example,
        <span class="bold"><strong>mysql-5.5.6-m3</strong></span>. The numbers
        within the release name are interpreted as follows:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            The first number (<span class="bold"><strong>5</strong></span>) is the
            major version and describes the file format. All MySQL 5
            releases have the same file format.
          </p></li><li><p>
            The second number (<span class="bold"><strong>5</strong></span>) is
            the release level. Taken together, the major version and
            release level constitute the release series number.
          </p></li><li><p>
            The third number (<span class="bold"><strong>6</strong></span>) is the
            version number within the release series. This is
            incremented for each new release. Usually you want the
            latest version for the series you have chosen.
          </p></li></ul></div><p>
        For each minor update, the last number in the version string is
        incremented. When there are major new features or minor
        incompatibilities with previous versions, the second number in
        the version string is incremented. When the file format changes,
        the first number is increased.
      </p><p>
        Release names also include a suffix to indicates the stability
        level of the release. Releases within a series progress through
        a set of suffixes to indicate how the stability level improves.
        The possible suffixes are:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="bold"><strong>m<span class="emphasis"><em>N</em></span></strong></span>
            (for example, <span class="bold"><strong>m1</strong></span>,
            <span class="bold"><strong>m2</strong></span>,
            <span class="bold"><strong>m3</strong></span>, ...) indicate a
            milestone number. MySQL development uses a milestone model,
            in which each milestone proceeds through a small number of
            versions with a tight focus on a small subset of thoroughly
            tested features. Following the releases for one milestone,
            development proceeds with another small number of releases
            that focuses on the next small set of features, also
            thoroughly tested. Features within milestone releases may be
            considered to be of pre-production quality.
          </p></li><li><p>
            <span class="bold"><strong>rc</strong></span> indicates a Release
            Candidate. Release candidates are believed to be stable,
            having passed all of MySQL's internal testing, and with all
            known fatal runtime bugs fixed. However, the release has not
            been in widespread use long enough to know for sure that all
            bugs have been identified. Only minor fixes are added.
          </p></li><li><p>
            If there is no suffix, it indicates that the release is a
            General Availability (GA) or Production release. GA releases
            are stable, having successfully passed through all earlier
            release stages and are believed to be reliable, free of
            serious bugs, and suitable for use in production systems.
            Only critical bugfixes are applied to the release.
          </p></li></ul></div><p>
        All releases of MySQL are run through our standard tests and
        benchmarks to ensure that they are relatively safe to use.
        Because the standard tests are extended over time to check for
        all previously found bugs, the test suite keeps getting better.
      </p><a class="indexterm" name="id512319"></a><a class="indexterm" name="id512332"></a><p>
        All releases have been tested at least with these tools:
      </p><div class="itemizedlist"><ul type="disc"><li><p><b>An internal test suite. </b>
              The <code class="filename">mysql-test</code> directory contains an
              extensive set of test cases. We run these tests for every
              server binary. See <a href="extending-mysql.html#mysql-test-suite" title="22.1.2. The MySQL Test Suite">Section 22.1.2, “The MySQL Test Suite”</a>, for
              more information about this test suite.
            </p></li><li><p><b>The MySQL benchmark suite. </b>
              This suite runs a range of common queries. It is also a
              test to determine whether the latest batch of
              optimizations actually made the code faster. See
              <a href="optimization.html#mysql-benchmarks" title="7.12.2. The MySQL Benchmark Suite">Section 7.12.2, “The MySQL Benchmark Suite”</a>.
            </p></li></ul></div><p>
        We also perform additional integration and nonfunctional testing
        of the latest MySQL version in our internal production
        environment. Integration testing is done with different
        connectors, storage engines, replication modes, backup,
        partitioning, stored programs, and so forth in various
        combinations. Additional nonfunctional testing is done in areas
        of performance, concurrency, stress, high volume, upgrade and
        downgrade.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="choosing-distribution-format"></a>2.1.2.2. Choosing a Distribution Format</h4></div></div></div><p>
        After choosing which version of MySQL to install, you should
        decide whether to use a binary distribution or a source
        distribution. In most cases, you should probably use a binary
        distribution, if one exists for your platform. Binary
        distributions are available in native format for many platforms,
        such as RPM files for Linux or PKG package installers for Mac OS
        X or Solaris. Distributions also are available as Zip archives
        or compressed <span><strong class="command">tar</strong></span> files.
      </p><p>
        Reasons to choose a binary distribution include the following:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Binary distributions generally are easier to install than
            source distributions.
          </p></li><li><p>
            To satisfy different user requirements, we provide several
            servers in binary distributions. <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
            is an optimized server that is a smaller, faster binary.
            <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld-debug</strong></span></a> is compiled with debugging
            support.
          </p><p>
            Each of these servers is compiled from the same source
            distribution, though with different configuration options.
            All native MySQL clients can connect to servers from either
            MySQL version.
          </p></li></ul></div><p>
        Under some circumstances, you may be better off installing MySQL
        from a source distribution:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            You want to install MySQL at some explicit location. The
            standard binary distributions are ready to run at any
            installation location, but you might require even more
            flexibility to place MySQL components where you want.
          </p></li><li><p>
            You want to configure <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to ensure
            that features are available that might not be included in
            the standard binary distributions. Here is a list of the
            most common extra options that you may want to use to ensure
            feature availability:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                <a href="installing.html#option_cmake_with_libwrap"><code class="option">-DWITH_LIBWRAP=1</code></a> for TCP
                wrappers support.
              </p></li><li><p>
                <a href="installing.html#option_cmake_with_zlib"><code class="option">-DWITH_ZLIB={system|bundled}</code></a>
                for features that depend on compression
              </p></li><li><p>
                <a href="installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a> for
                debugging support
              </p></li></ul></div></li><li><p>
            You want to configure <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> without some
            features that are included in the standard binary
            distributions. For example, distributions normally are
            compiled with support for all character sets. If you want a
            smaller MySQL server, you can recompile it with support for
            only the character sets you need.
          </p></li><li><p>
            You want to use the latest sources from one of the Bazaar
            repositories to have access to all current bugfixes. For
            example, if you have found a bug and reported it to the
            MySQL development team, the bugfix is committed to the
            source repository and you can access it there. The bugfix
            does not appear in a release until a release actually is
            issued.
          </p></li><li><p>
            You want to read (or modify) the C and C++ code that makes
            up MySQL. For this purpose, you should get a source
            distribution, because the source code is always the ultimate
            manual.
          </p></li><li><p>
            Source distributions contain more tests and examples than
            binary distributions.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="many-versions"></a>2.1.2.3. How and When Updates Are Released</h4></div></div></div><a class="indexterm" name="id512605"></a><a class="indexterm" name="id512618"></a><p>
        MySQL is evolving quite rapidly and we want to share new
        developments with other MySQL users. We try to produce a new
        release whenever we have new and useful features that others
        also seem to have a need for.
      </p><p>
        We also try to help users who request features that are easy to
        implement. We take note of what our licensed users want, and we
        especially take note of what our support customers want and try
        to help them in this regard.
      </p><p>
        No one is <span class="emphasis"><em>required</em></span> to download a new
        release. The News section helps you determine whether the new
        release has something you really want. See
        <a href="news.html" title="Appendix D. MySQL Change History">Appendix D, <i>MySQL Change History</i></a>.
      </p><p>
        We use the following policy when updating MySQL:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Enterprise Server releases are meant to appear every 18
            months, supplemented by quarterly service packs and monthly
            rapid updates. Community Server releases are meant to appear
            2 to 3 times per year.
          </p></li><li><p>
            Releases are issued within each series. For each release,
            the last number in the version is one more than the previous
            release within the same series.
          </p></li><li><p>
            Binary distributions for some platforms are made by us for
            major releases. Other people may make binary distributions
            for other systems, but probably less frequently.
          </p></li><li><p>
            We make fixes available as soon as we have identified and
            corrected small or noncritical but annoying bugs. The fixes
            are available in source form immediately from our public
            Bazaar repositories, and are included in the next release.
          </p></li><li><p>
            If by any chance a security vulnerability or critical bug is
            found in a release, our policy is to fix it in a new release
            as soon as possible. (We would like other companies to do
            this, too!)
          </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="getting-mysql"></a>2.1.3. How to Get MySQL</h3></div></div></div><a class="indexterm" name="id512714"></a><a class="indexterm" name="id512723"></a><a class="indexterm" name="id512732"></a><a class="indexterm" name="id512744"></a><a class="indexterm" name="id512753"></a><a class="indexterm" name="id512762"></a><p>
      Check our downloads page at <a href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>
      for information about the current version of MySQL and for
      downloading instructions. For a complete up-to-date list of MySQL
      download mirror sites, see
      <a href="http://dev.mysql.com/downloads/mirrors.html" target="_top">http://dev.mysql.com/downloads/mirrors.html</a>. You can also find
      information there about becoming a MySQL mirror site and how to
      report a bad or out-of-date mirror.
    </p><p>
      To obtain the latest development source, see
      <a href="installing.html#installing-development-tree" title="2.9.3. Installing MySQL from a Development Source Tree">Section 2.9.3, “Installing MySQL from a Development Source Tree”</a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="verifying-package-integrity"></a>2.1.4. Verifying Package Integrity Using MD5 Checksums or
      <code class="literal">GnuPG</code></h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#verifying-md5-checksum">2.1.4.1. Verifying the MD5 Checksum</a></span></dt><dt><span class="section"><a href="installing.html#checking-gpg-signature">2.1.4.2. Signature Checking Using <code class="literal">GnuPG</code></a></span></dt><dt><span class="section"><a href="installing.html#checking-rpm-signature">2.1.4.3. Signature Checking Using <code class="literal">RPM</code></a></span></dt></dl></div><p>
      After you have downloaded the MySQL package that suits your needs
      and before you attempt to install it, you should make sure that it
      is intact and has not been tampered with. There are three means of
      integrity checking:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          MD5 checksums
        </p></li><li><p>
          Cryptographic signatures using <code class="literal">GnuPG</code>, the
          GNU Privacy Guard
        </p></li><li><p>
          For RPM packages, the built-in RPM integrity verification
          mechanism
        </p></li></ul></div><p>
      The following sections describe how to use these methods.
    </p><p>
      If you notice that the MD5 checksum or GPG signatures do not
      match, first try to download the respective package one more time,
      perhaps from another mirror site. If you repeatedly cannot
      successfully verify the integrity of the package, please notify us
      about such incidents, including the full package name and the
      download site you have been using, at
      <code class="email">&lt;<a href="mailto:webmaster@mysql.com">webmaster@mysql.com</a>&gt;</code> or
      <code class="email">&lt;<a href="mailto:build@mysql.com">build@mysql.com</a>&gt;</code>. Do not report downloading problems
      using the bug-reporting system.
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="verifying-md5-checksum"></a>2.1.4.1. Verifying the MD5 Checksum</h4></div></div></div><p>
        After you have downloaded a MySQL package, you should make sure
        that its MD5 checksum matches the one provided on the MySQL
        download pages. Each package has an individual checksum that you
        can verify with the following command, where
        <em class="replaceable"><code>package_name</code></em> is the name of the
        package you downloaded:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>md5sum <em class="replaceable"><code>package_name</code></em></code></strong>
</pre><p>
        Example:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>md5sum mysql-standard-5.5.22-linux-i686.tar.gz</code></strong>
aaab65abbec64d5e907dcd41b8699945  mysql-standard-5.5.22-linux-i686.tar.gz
</pre><p>
        You should verify that the resulting checksum (the string of
        hexadecimal digits) matches the one displayed on the download
        page immediately below the respective package.
      </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
          Make sure to verify the checksum of the <span class="emphasis"><em>archive
          file</em></span> (for example, the <code class="filename">.zip</code> or
          <code class="filename">.tar.gz</code> file) and not of the files that
          are contained inside of the archive.
        </p></div><p>
        Note that not all operating systems support the
        <span><strong class="command">md5sum</strong></span> command. On some, it is simply called
        <span><strong class="command">md5</strong></span>, and others do not ship it at all. On
        Linux, it is part of the <span class="bold"><strong>GNU Text
        Utilities</strong></span> package, which is available for a wide
        range of platforms. You can download the source code from
        <a href="http://www.gnu.org/software/textutils/" target="_top">http://www.gnu.org/software/textutils/</a> as well.
        If you have OpenSSL installed, you can use the command
        <span><strong class="command">openssl md5
        <em class="replaceable"><code>package_name</code></em></strong></span> instead. A
        Windows implementation of the <span><strong class="command">md5</strong></span> command
        line utility is available from
        <a href="http://www.fourmilab.ch/md5/" target="_top">http://www.fourmilab.ch/md5/</a>.
        <span><strong class="command">winMd5Sum</strong></span> is a graphical MD5 checking tool
        that can be obtained from
        <a href="http://www.nullriver.com/index/products/winmd5sum" target="_top">http://www.nullriver.com/index/products/winmd5sum</a>.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="checking-gpg-signature"></a>2.1.4.2. Signature Checking Using <code class="literal">GnuPG</code></h4></div></div></div><p>
        Another method of verifying the integrity and authenticity of a
        package is to use cryptographic signatures. This is more
        reliable than using MD5 checksums, but requires more work.
      </p><p>
        We sign MySQL downloadable packages with
        <span><strong class="command">GnuPG</strong></span> (GNU Privacy Guard).
        <span><strong class="command">GnuPG</strong></span> is an Open Source alternative to the
        well-known Pretty Good Privacy (<span><strong class="command">PGP</strong></span>) by Phil
        Zimmermann. See <a href="http://www.gnupg.org/" target="_top">http://www.gnupg.org/</a> for more
        information about <span><strong class="command">GnuPG</strong></span> and how to obtain and
        install it on your system. Most Linux distributions ship with
        <span><strong class="command">GnuPG</strong></span> installed by default. For more
        information about <span><strong class="command">GnuPG</strong></span>, see
        <a href="http://www.openpgp.org/" target="_top">http://www.openpgp.org/</a>.
      </p><p>
        To verify the signature for a specific package, you first need
        to obtain a copy of our public GPG build key, which you can
        download from <a href="http://pgp.mit.com/" target="_top">http://pgp.mit.com/</a>. The key that
        you want to obtain is named
        <code class="literal">mysql-build@oss.oracle.com</code>. Alternatively,
        you can cut and paste the key directly from the following text:
      </p><pre class="programlisting">-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: PGP Universal 2.9.1 (Build 347)

mQGiBD4+owwRBAC14GIfUfCyEDSIePvEW3SAFUdJBtoQHH/nJKZyQT7h9bPlUWC3
RODjQReyCITRrdwyrKUGku2FmeVGwn2u2WmDMNABLnpprWPkBdCk96+OmSLN9brZ
fw2vOUgCmYv2hW0hyDHuvYlQA/BThQoADgj8AW6/0Lo7V1W9/8VuHP0gQwCgvzV3
BqOxRznNCRCRxAuAuVztHRcEAJooQK1+iSiunZMYD1WufeXfshc57S/+yeJkegNW
hxwR9pRWVArNYJdDRT+rf2RUe3vpquKNQU/hnEIUHJRQqYHo8gTxvxXNQc7fJYLV
K2HtkrPbP72vwsEKMYhhr0eKCbtLGfls9krjJ6sBgACyP/Vb7hiPwxh6rDZ7ITnE
kYpXBACmWpP8NJTkamEnPCia2ZoOHODANwpUkP43I7jsDmgtobZX9qnrAXw+uNDI
QJEXM6FSbi0LLtZciNlYsafwAPEOMDKpMqAK6IyisNtPvaLd8lH0bPAnWqcyefep
rv0sxxqUEMcM3o7wwgfN83POkDasDbs3pjwPhxvhz6//62zQJ7Q2TXlTUUwgUmVs
ZWFzZSBFbmdpbmVlcmluZyA8bXlzcWwtYnVpbGRAb3NzLm9yYWNsZS5jb20+iGYE
ExECACYCGyMGCwkIBwMCBBUCCAMEFgIDAQIeAQIXgAUCTnc+KgUJE/sCFQAKCRCM
cY07UHLh9SbMAJ4l1+qBz2BZNSGCZwwA6YbhGPC7FwCgp8z5TzIw4YQuL5NGJ/sy
0oSazqmJASIEEAECAAwFAk53QS4FAwASdQAACgkQlxC4m8pXrXwJ8Qf/be/UO9mq
foc2sMyhwMpN4/fdBWwfLkA12FXQDOQMvwH9HsmEjnfUgYKXschZRi+DuHXe1P7l
8G2aQLubhBsQf9ejKvRFTzuWMQkdIq+6Koulxv6ofkCcv3d1xtO2W7nb5yxcpVBP
rRfGFGebJvZa58DymCNgyGtAU6AOz4veavNmI2+GIDQsY66+tYDvZ+CxwzdYu+HD
V9HmrJfc6deM0mnBn7SRjqzxJPgoTQhihTav6q/R5/2p5NvQ/H84OgS6GjosfGc2
duUDzCP/kheMRKfzuyKCOHQPtJuIj8++gfpHtEU7IDUX1So3c9n0PdpeBvclsDbp
RnCNxQWU4mBot7kCDQQ+PqMdEAgA7+GJfxbMdY4wslPnjH9rF4N2qfWsEN/lxaZo
JYc3a6M02WCnHl6ahT2/tBK2w1QI4YFteR47gCvtgb6O1JHffOo2HfLmRDRiRjd1
DTCHqeyX7CHhcghj/dNRlW2Z0l5QFEcmV9U0Vhp3aFfWC4Ujfs3LU+hkAWzE7zaD
5cH9J7yv/6xuZVw411x0h4UqsTcWMu0iM1BzELqX1DY7LwoPEb/O9Rkbf4fmLe11
EzIaCa4PqARXQZc4dhSinMt6K3X4BrRsKTfozBu74F47D8Ilbf5vSYHbuE5p/1oI
Dznkg/p8kW+3FxuWrycciqFTcNz215yyX39LXFnlLzKUb/F5GwADBQf+Lwqqa8CG
rRfsOAJxim63CHfty5mUc5rUSnTslGYEIOCR1BeQauyPZbPDsDD9MZ1ZaSafanFv
wFG6Llx9xkU7tzq+vKLoWkm4u5xf3vn55VjnSd1aQ9eQnUcXiL4cnBGoTbOWI39E
cyzgslzBdC++MPjcQTcA7p6JUVsP6oAB3FQWg54tuUo0Ec8bsM8b3Ev42LmuQT5N
dKHGwHsXTPtl0klk4bQk4OajHsiy1BMahpT27jWjJlMiJc+IWJ0mghkKHt926s/y
mfdf5HkdQ1cyvsz5tryVI3Fx78XeSYfQvuuwqp2H139pXGEkg0n6KdUOetdZWhe7
0YGNPw1yjWJT1IhUBBgRAgAMBQJOdz3tBQkT+wG4ABIHZUdQRwABAQkQjHGNO1By
4fUUmwCbBYr2+bBEn/L2BOcnw9Z/QFWuhRMAoKVgCFm5fadQ3Afi+UQlAcOphrnJ
=Eto8
-----END PGP PUBLIC KEY BLOCK-----</pre><p>
        To import the build key into your personal public GPG keyring,
        use <span><strong class="command">gpg --import</strong></span>. For example, if you have
        saved the key in a file named
        <code class="filename">mysql_pubkey.asc</code>, the import command looks
        like this:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gpg --import mysql_pubkey.asc</code></strong>
gpg: key 5072E1F5: public key "MySQL Release Engineering
&lt;mysql-build@oss.oracle.com&gt;" imported
gpg: Total number processed: 1
gpg:               imported: 1
gpg: no ultimately trusted keys found
</pre><p>
        You can also download the key from the public keyserver using
        the public key id, <code class="literal">5072E1F5</code>:
      </p><pre class="programlisting">shell&gt; gpg --recv-keys 5072E1F5
gpg: requesting key 5072E1F5 from hkp server keys.gnupg.net
gpg: key 5072E1F5: "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
1 new user ID
gpg: key 5072E1F5: "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
53 new signatures
gpg: no ultimately trusted keys found
gpg: Total number processed: 1
gpg:           new user IDs: 1
gpg:         new signatures: 53</pre><p>
        If you want to import the key into your RPM configuration to
        validate RPM install packages, you should be able to import the
        key directly:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --import mysql_pubkey.asc</code></strong>
</pre><p>
        If you experience problems, try exporting the key from
        <span><strong class="command">gpg</strong></span> and importing:
      </p><pre class="programlisting">shell&gt; gpg --export -a 5072e1f5 &gt; 5072e1f5.asc
shell&gt; rpm --import 5072e1f5.asc</pre><p>
        Alternatively, <span><strong class="command">rpm</strong></span> also supports loading the
        key directly from a URL, and you cas use this manual page:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --import http://dev.mysql.com/doc/refman/5.5/en/checking-gpg-signature.html</code></strong>
</pre><p>
        After you have downloaded and imported the public build key,
        download your desired MySQL package and the corresponding
        signature, which also is available from the download page. The
        signature file has the same name as the distribution file with
        an <code class="filename">.asc</code> extension, as shown by the examples
        in the following table.
      </p><div class="table"><a name="id513256"></a><p class="title"><b>Table 2.1. MySQL Package and Signature Files</b></p><table summary="MySQL Package and Signature Files" border="1"><colgroup><col><col></colgroup><thead><tr><th>File Type</th><th>File Name</th></tr></thead><tbody><tr><td>Distribution file</td><td><code class="literal">mysql-standard-5.5.22-linux-i686.tar.gz</code></td></tr><tr><td>Signature file</td><td><code class="literal">mysql-standard-5.5.22-linux-i686.tar.gz.asc</code></td></tr></tbody></table></div><p>
        Make sure that both files are stored in the same directory and
        then run the following command to verify the signature for the
        distribution file:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gpg --verify <em class="replaceable"><code>package_name</code></em>.asc</code></strong>
</pre><p>
        Example:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gpg --verify mysql-standard-5.5.22-linux-i686.tar.gz.asc</code></strong>
gpg: Signature made Tue 01 Feb 2011 02:38:30 AM CST using DSA key ID 5072E1F5
gpg: Good signature from "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
</pre><p>
        The <code class="literal">Good signature</code> message indicates that
        everything is all right. You can ignore any <code class="literal">insecure
        memory</code> warning you might obtain.
      </p><p>
        See the GPG documentation for more information on how to work
        with public keys.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="checking-rpm-signature"></a>2.1.4.3. Signature Checking Using <code class="literal">RPM</code></h4></div></div></div><p>
        For RPM packages, there is no separate signature. RPM packages
        have a built-in GPG signature and MD5 checksum. You can verify a
        package by running the following command:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --checksig <em class="replaceable"><code>package_name</code></em>.rpm</code></strong>
</pre><p>
        Example:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --checksig MySQL-server-5.5.22-0.glibc23.i386.rpm</code></strong>
MySQL-server-5.5.22-0.glibc23.i386.rpm: md5 gpg OK
</pre><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
          If you are using RPM 4.1 and it complains about <code class="literal">(GPG)
          NOT OK (MISSING KEYS: GPG#5072e1f5)</code>, even though you
          have imported the MySQL public build key into your own GPG
          keyring, you need to import the key into the RPM keyring
          first. RPM 4.1 no longer uses your personal GPG keyring (or
          GPG itself). Rather, RPM maintains a separate keyring because
          it is a system-wide application and a user's GPG public
          keyring is a user-specific file. To import the MySQL public
          key into the RPM keyring, first obtain the key as described in
          <a href="installing.html#checking-gpg-signature" title="2.1.4.2. Signature Checking Using GnuPG">Section 2.1.4.2, “Signature Checking Using <code class="literal">GnuPG</code>”</a>. Then use
          <span><strong class="command">rpm --import</strong></span> to import the key. For
          example, if you have saved the public key in a file named
          <code class="filename">mysql_pubkey.asc</code>, import it using this
          command:
        </p></div><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --import mysql_pubkey.asc</code></strong>
</pre><p>
        If you need to obtain the MySQL public key, see
        <a href="installing.html#checking-gpg-signature" title="2.1.4.2. Signature Checking Using GnuPG">Section 2.1.4.2, “Signature Checking Using <code class="literal">GnuPG</code>”</a>.
      </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="installation-layouts"></a>2.1.5. Installation Layouts</h3></div></div></div><a class="indexterm" name="id513494"></a><a class="indexterm" name="id513502"></a><a class="indexterm" name="id513511"></a><a class="indexterm" name="id513524"></a><p>
      The installation layout differs for different installation types
      (for example, native packages, binary tarballs, and source
      tarballs), which can lead to confusion when managing different
      systems or using different installation sources. The individual
      layouts are given in the corresponding installation type or
      platform chapter, as described following. Note that the layout of
      installations from vendors other than Oracle may differ from these
      layouts.
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          <a href="installing.html#windows-installation-layout" title="2.3.1. MySQL Installation Layout on Microsoft Windows">Section 2.3.1, “MySQL Installation Layout on Microsoft Windows”</a>
        </p></li><li><p>
          <a href="installing.html#source-installation-layout" title="2.9.1. MySQL Layout for Source Installation">Section 2.9.1, “MySQL Layout for Source Installation”</a>
        </p></li><li><p>
          <a href="installing.html#binary-installation-layout" title="Table 2.2. MySQL Installation Layout for Generic Unix/Linux Binary Package">Table 2.2, “MySQL Installation Layout for Generic Unix/Linux Binary Package”</a>
        </p></li><li><p>
          <a href="installing.html#mysql-installation-layout-linuxrpm" title="Table 2.11. MySQL Installation Layout for Linux RPM">Table 2.11, “MySQL Installation Layout for Linux RPM”</a>
        </p></li><li><p>
          <a href="installing.html#mysql-installation-layout-macosx" title="Table 2.8. MySQL Installation Layout on Mac OS X">Table 2.8, “MySQL Installation Layout on Mac OS X”</a>
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="compiler-characteristics"></a>2.1.6. Compiler-Specific Build Characteristics</h3></div></div></div><a class="indexterm" name="id513608"></a><p>
      In some cases, the compiler used to build MySQL affects the
      features available for use. The notes in this section apply for
      binary distributions provided by Oracle Corporation or that you
      compile yourself from source.
    </p><p>
      <span class="bold"><strong><span><strong class="command">icc</strong></span> (Intel C++ Compiler)
      Builds</strong></span>
    </p><p>
      A server built with <span><strong class="command">icc</strong></span> has these
      characteristics:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          SSL support is not included.
        </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="binary-installation"></a>2.2. Installing MySQL from Generic Binaries on Unix/Linux</h2></div></div></div><a class="indexterm" name="id513668"></a><a class="indexterm" name="id513681"></a><p>
    Oracle provides a set of binary distributions of MySQL. These
    include binary distributions in the form of compressed
    <span><strong class="command">tar</strong></span> files (files with a
    <code class="filename">.tar.gz</code> extension) for a number of platforms,
    as well as binaries in platform-specific package formats for
    selected platforms.
  </p><p>
    This section covers the installation of MySQL from a compressed
    <span><strong class="command">tar</strong></span> file binary distribution. For other
    platform-specific package formats, see the other platform-specific
    sections. For example, for Windows distributions, see
    <a href="installing.html#windows-installation" title="2.3. Installing MySQL on Microsoft Windows">Section 2.3, “Installing MySQL on Microsoft Windows”</a>.
  </p><p>
    To obtain MySQL, see <a href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>.
  </p><p>
    MySQL compressed <span><strong class="command">tar</strong></span> file binary distributions
    have names of the form
    <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em>.tar.gz</code>,
    where <code class="literal"><em class="replaceable"><code>VERSION</code></em></code> is a
    number (for example, <code class="literal">5.5.22</code>), and
    <em class="replaceable"><code>OS</code></em> indicates the type of operating system
    for which the distribution is intended (for example,
    <code class="literal">pc-linux-i686</code> or <code class="literal">winx64</code>).
  </p><p>
    To install MySQL from a compressed <span><strong class="command">tar</strong></span> file
    binary distribution, your system must have GNU
    <code class="literal">gunzip</code> to uncompress the distribution and a
    reasonable <span><strong class="command">tar</strong></span> to unpack it. If your
    <span><strong class="command">tar</strong></span> program supports the <code class="literal">z</code>
    option, it can both uncompress and unpack the file.
  </p><p>
    GNU <span><strong class="command">tar</strong></span> is known to work. The standard
    <span><strong class="command">tar</strong></span> provided with some operating systems is not
    able to unpack the long file names in the MySQL distribution. You
    should download and install GNU <span><strong class="command">tar</strong></span>, or if
    available, use a preinstalled version of GNU tar. Usually this is
    available as <span><strong class="command">gnutar</strong></span>, <span><strong class="command">gtar</strong></span>, or
    as <span><strong class="command">tar</strong></span> within a GNU or Free Software directory,
    such as <code class="filename">/usr/sfw/bin</code> or
    <code class="filename">/usr/local/bin</code>. GNU <span><strong class="command">tar</strong></span> is
    available from <a href="http://www.gnu.org/software/tar/" target="_top">http://www.gnu.org/software/tar/</a>.
  </p><div xmlns="http://www.w3.org/1999/xhtml" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Warning</div><p xmlns="">
      If you have previously installed MySQL using your operating system
      native package management system, such as <code class="literal">yum</code>
      or <code class="literal">apt-get</code>, you may experience problems
      installing using a native binary. Make sure your previous MySQL
      previous installation has been removed entirely (using your
      package management system), and that any additional files, such as
      old versions of your data files, have also been removed. You
      should also check the existence of configuration files such as
      <code class="filename">/etc/my.cnf</code> or the
      <code class="filename">/etc/mysql</code> directory have been deleted.
    </p></div><p>
    If you run into problems and need to file a bug report, please use
    the instructions in <a href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
  </p><p>
    On Unix, to install a compressed <span><strong class="command">tar</strong></span> file binary
    distribution, unpack it at the installation location you choose
    (typically <code class="filename">/usr/local/mysql</code>). This creates the
    directories shown in the following table.
  </p><div class="table"><a name="binary-installation-layout"></a><p class="title"><b>Table 2.2. MySQL Installation Layout for Generic Unix/Linux Binary Package</b></p><table summary="MySQL Installation Layout for Generic Unix/Linux Binary Package" border="1"><colgroup><col><col></colgroup><thead><tr><th>Directory</th><th>Contents of Directory</th></tr></thead><tbody><tr><td><code class="filename">bin</code></td><td>Client programs and the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server</td></tr><tr><td><code class="filename">data</code></td><td>Log files, databases</td></tr><tr><td><code class="filename">docs</code></td><td>Manual in Info format</td></tr><tr><td><code class="filename">man</code></td><td>Unix manual pages</td></tr><tr><td><code class="filename">include</code></td><td>Include (header) files</td></tr><tr><td><code class="filename">lib</code></td><td>Libraries</td></tr><tr><td><code class="filename">scripts</code></td><td><a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a></td></tr><tr><td><code class="filename">share</code></td><td>Miscellaneous support files, including error messages, sample
            configuration files, SQL for database installation</td></tr><tr><td><code class="filename">sql-bench</code></td><td>Benchmarks</td></tr></tbody></table></div><p>
    Debug versions of the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> binary are available
    as <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld-debug</strong></span></a>. To compile your own debug
    version of MySQL from a source distribution, use the appropriate
    configuration options to enable debugging support. For more
    information on compiling from source, see
    <a href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
  </p><a class="indexterm" name="id514140"></a><p>
    To install and use a MySQL binary distribution, the basic command
    sequence looks like this:
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql mysql</code></strong>
shell&gt; <strong class="userinput"><code>cd /usr/local</code></strong>
shell&gt; <strong class="userinput"><code>tar zxvf <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>ln -s <em class="replaceable"><code>full-path-to-mysql-VERSION-OS</code></em> mysql</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data</code></strong>
# Next command is optional
shell&gt; <strong class="userinput"><code>cp support-files/my-medium.cnf /etc/my.cnf</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
# Next command is optional
shell&gt; <strong class="userinput"><code>cp support-files/mysql.server /etc/init.d/mysql.server</code></strong>
</pre><p>
    A more detailed version of the preceding description for installing
    a binary distribution follows.
  </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
      This procedure assumes that you have <code class="literal">root</code>
      (administrator) access to your system. Alternatively, you can
      prefix each command using the <span><strong class="command">sudo</strong></span> (Linux) or
      <span><strong class="command">pfexec</strong></span> (OpenSolaris) command.
    </p><p xmlns="">
      The procedure does not set up any passwords for MySQL accounts.
      After following the procedure, proceed to
      <a href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
    </p></div><h3><a name="binary-installation-createsysuser"></a>
    Create a <code class="literal">mysql</code> User and Group
  </h3><p>
    If your system does not already have a user and group for
    <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to run as, you may need to create one. The
    following commands add the <code class="literal">mysql</code> group and the
    <code class="literal">mysql</code> user. You might want to call the user and
    group something else instead of <code class="literal">mysql</code>. If so,
    substitute the appropriate name in the following instructions. The
    syntax for <span><strong class="command">useradd</strong></span> and
    <span><strong class="command">groupadd</strong></span> may differ slightly on different
    versions of Unix, or they may have different names such as
    <span><strong class="command">adduser</strong></span> and <span><strong class="command">addgroup</strong></span>.
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql mysql</code></strong>
</pre><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
      Because the user is required only for ownership purposes, not
      login purposes, the <span><strong class="command">useradd</strong></span> command uses the
      <code class="option">-r</code> option to create a user that does not have
      login permissions to your server host. Omit this option to permit
      logins for the user (or if your <span><strong class="command">useradd</strong></span> does
      not support the option).
    </p></div><h3><a name="binary-installation-unpack"></a>
    Obtain and Unpack the Distribution
  </h3><p>
    Pick the directory under which you want to unpack the distribution
    and change location into it. The example here unpacks the
    distribution under <code class="filename">/usr/local</code>. The
    instructions, therefore, assume that you have permission to create
    files and directories in <code class="filename">/usr/local</code>. If that
    directory is protected, you must perform the installation as
    <code class="literal">root</code>.
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /usr/local</code></strong>
</pre><p>
    Obtain a distribution file using the instructions in
    <a href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>. For a given release, binary
    distributions for all platforms are built from the same MySQL source
    distribution.
  </p><p>
    Unpack the distribution, which creates the installation directory.
    Then create a symbolic link to that directory.
    <span><strong class="command">tar</strong></span> can uncompress and unpack the distribution if
    it has <code class="literal">z</code> option support:
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>tar zxvf <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>ln -s <em class="replaceable"><code>full-path-to-mysql-VERSION-OS</code></em> mysql</code></strong>
</pre><p>
    The <span><strong class="command">tar</strong></span> command creates a directory named
    <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em></code>.
    The <code class="literal">ln</code> command makes a symbolic link to that
    directory. This enables you to refer more easily to the installation
    directory as <code class="filename">/usr/local/mysql</code>.
  </p><p>
    If your <span><strong class="command">tar</strong></span> does not have <code class="literal">z</code>
    option support, use <span><strong class="command">gunzip</strong></span> to unpack the
    distribution and <span><strong class="command">tar</strong></span> to unpack it. Replace the
    preceding <span><strong class="command">tar</strong></span> command with the following
    alternative command to uncompress and extract the distribution:
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gunzip &lt; <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz | tar xvf -</code></strong>
</pre><h3><a name="binary-installation-postinstall"></a>
    Perform Postinstallation Setup
  </h3><p>
    The remainder of the installation process involves setting up the
    configuration file, creating the core databases, and starting the
    MySQL server. For instructions, see
    <a href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
  </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
      The accounts that are listed in the MySQL grant tables initially
      have no passwords. After starting the server, you should set up
      passwords for them using the instructions in
      <a href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
    </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="windows-installation"></a>2.3. Installing MySQL on Microsoft Windows</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#windows-installation-layout">2.3.1. MySQL Installation Layout on Microsoft Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-choosing-package">2.3.2. Choosing An Installation Package</a></span></dt><dt><span class="section"><a href="installing.html#mi">2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer</a></span></dt><dt><span class="section"><a href="installing.html#windows-using-installer">2.3.4. Installing MySQL on Microsoft Windows Using an MSI Package</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard">2.3.5. MySQL Server Instance Configuration Wizard</a></span></dt><dt><span class="section"><a href="installing.html#windows-install-archive">2.3.6. Installing MySQL on Microsoft Windows Using a
      <code class="literal">noinstall</code> Zip Archive</a></span></dt><dt><span class="section"><a href="installing.html#windows-troubleshooting">2.3.7. Troubleshooting a MySQL Installation Under Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-upgrading">2.3.8. Upgrading MySQL on Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-postinstallation">2.3.9. Windows Postinstallation Procedures</a></span></dt></dl></div><p>
    A native Windows distribution of MySQL has been available since
    version 3.21 and represents a sizable percentage of the daily
    downloads of MySQL. This section describes the process for
    installing MySQL on Windows.
  </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
      If you are upgrading MySQL from an existing installation older
      than MySQL 4.1.5, you must first perform the procedure described
      in <a href="installing.html#windows-upgrading" title="2.3.8. Upgrading MySQL on Windows">Section 2.3.8, “Upgrading MySQL on Windows”</a>.
    </p></div><p>
    To run MySQL on Windows, you need the following:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        A Windows operating system such as Windows 2000, Windows XP,
        Windows Vista, Windows Server 2003, or Windows Server 2008. Both
        32-bit and 64-bit versions are supported.
      </p><p>
        A Windows operating system permits you to run the MySQL server
        as a service. See <a href="installing.html#windows-start-service" title="2.3.6.7. Starting MySQL as a Windows Service">Section 2.3.6.7, “Starting MySQL as a Windows Service”</a>.
      </p><p>
        Generally, you should install MySQL on Windows using an account
        that has administrator rights. Otherwise, you may encounter
        problems with certain operations such as editing the
        <code class="literal">PATH</code> environment variable or accessing the
        <span><strong class="command">Service Control Manager</strong></span>. Once installed,
        MySQL does not need to be executed using a user with
        Administrator privileges.
      </p></li><li><p>
        TCP/IP protocol support.
      </p></li><li><p>
        Enough space on the hard drive to unpack, install, and create
        the databases in accordance with your requirements (generally a
        minimum of 200 megabytes is recommended.)
      </p></li></ul></div><p>
    For a list of limitations within the Windows version of MySQL, see
    <a href="restrictions.html#limits-windows" title="E.10.5. Windows Platform Limitations">Section E.10.5, “Windows Platform Limitations”</a>.
  </p><p>
    There may also be other requirements, depending on how you plan to
    use MySQL:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        If you plan to connect to the MySQL server using ODBC, you need
        a Connector/ODBC driver. See <a href="connectors-apis.html#connector-odbc" title="21.1. MySQL Connector/ODBC">Section 21.1, “MySQL Connector/ODBC”</a>.
      </p></li><li><p>
        If you plan to use MySQL server with ADO.NET applications, you
        need the Connector/Net driver. See
        <a href="connectors-apis.html#connector-net" title="21.2. MySQL Connector/Net">Section 21.2, “MySQL Connector/Net”</a>.
      </p></li><li><p>
        If you need tables with a size larger than 4GB, install MySQL on
        an NTFS or newer file system. Do not forget to use
        <code class="literal">MAX_ROWS</code> and
        <code class="literal">AVG_ROW_LENGTH</code> when you create tables. See
        <a href="sql-syntax.html#create-table" title="12.1.17. CREATE TABLE Syntax">Section 12.1.17, “<code class="literal">CREATE TABLE</code> Syntax”</a>.
      </p></li></ul></div><p>
    MySQL for Windows is available in several distribution formats:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        Binary distributions are available that contain a setup program
        that installs everything you need so that you can start the
        server immediately. Another binary distribution format contains
        an archive that you simply unpack in the installation location
        and then configure yourself. For details, see
        <a href="installing.html#windows-choosing-package" title="2.3.2. Choosing An Installation Package">Section 2.3.2, “Choosing An Installation Package”</a>.
      </p></li><li><p>
        The source distribution contains all the code and support files
        for building the executables using the Visual Studio compiler
        system.
      </p></li></ul></div><p>
    Generally speaking, you should use a binary distribution that
    includes an installer. It is simpler to use than the others, and you
    need no additional tools to get MySQL up and running. The installer
    for the Windows version of MySQL, combined with a GUI Configuration
    Wizard, automatically installs MySQL, creates an option file, starts
    the server, and secures the default user accounts.
  </p><div xmlns="http://www.w3.org/1999/xhtml" class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Caution</div><p xmlns="">
      Using virus scanning software such as Norton/Symantec Anti-Virus
      on directories containing MySQL data and temporary tables can
      cause issues, both in terms of the performance of MySQL and the
      virus-scanning software mis-identifying the contents of the files
      as containing spam. This is because of the fingerprinting
      mechanism used by the virus scanning software, and the way in
      which MySQL rapidly updates different files, which may be
      identified as a potential security risk.
    </p><p xmlns="">
      After installing MySQL Server, it is recommended that you disable
      virus scanning on the main directory
      (<a href="server-administration.html#sysvar_datadir"><code class="literal">datadir</code></a>) being used to store
      your MySQL table data. There is usually a system built into the
      virus scanning software to enable certain directories to be
      specifically ignored during virus scanning.
    </p><p xmlns="">
      In addition, by default, MySQL creates temporary files in the
      standard Windows temporary directory. To prevent the temporary
      files also being scanned, you should configure a separate
      temporary directory for MySQL temporary files and add this to the
      virus scanning exclusion list. To do this, add a configuration
      option for the <a href="server-administration.html#option_mysqld_tmpdir"><code class="option">tmpdir</code></a> parameter to
      your <code class="filename">my.ini</code> configuration file. For more
      information, see <a href="installing.html#windows-create-option-file" title="2.3.6.2. Creating an Option File">Section 2.3.6.2, “Creating an Option File”</a>.
    </p></div><p>
    The following section describes how to install MySQL on Windows
    using a binary distribution. To use an installation package that
    does not include an installer, follow the procedure described in
    <a href="installing.html#windows-install-archive" title="2.3.6. Installing MySQL on Microsoft Windows Using a
      noinstall Zip Archive">Section 2.3.6, “Installing MySQL on Microsoft Windows Using a
      <code class="literal">noinstall</code> Zip Archive”</a>. To install using a source
    distribution, see <a href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
  </p><p>
    MySQL distributions for Windows can be downloaded from
    <a href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>. See
    <a href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="windows-installation-layout"></a>2.3.1. MySQL Installation Layout on Microsoft Windows</h3></div></div></div><p>
      For MySQL 5.5 on Windows, the default installation
      directory is <code class="filename">C:\Program Files\MySQL\MySQL Server
      5.5</code>. Some Windows users prefer to install
      in <code class="filename">C:\mysql</code>, the directory that formerly was
      used as the default. However, the layout of the subdirectories
      remains the same.
    </p><p>
      All of the files are located within this parent directory, using
      the structure shown in the following table.
    </p><div class="table"><a name="id514900"></a><p class="title"><b>Table 2.3. MySQL Installation Layout for Windows</b></p><table summary="MySQL Installation Layout for Windows" border="1"><colgroup><col><col></colgroup><thead><tr><th>Directory</th><th>Contents of Directory</th></tr></thead><tbody><tr><td><code class="filename">bin</code></td><td>Client programs and the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server</td></tr><tr><td><code class="filename">C:\Documents and Settings\All Users\Application
              Data\MySQL</code></td><td>Log files, databases (Windows XP, Windows Server 2003)</td></tr><tr><td><code class="filename">C:\ProgramData\MySQL</code></td><td>Log files, databases (Windows 7, Windows Server 2008)</td></tr><tr><td><code class="filename">examples</code></td><td>Example programs and scripts</td></tr><tr><td><code class="filename">include</code></td><td>Include (header) files</td></tr><tr><td><code class="filename">lib</code></td><td>Libraries</td></tr><tr><td><code class="filename">scripts</code></td><td>Utility scripts</td></tr><tr><td><code class="filename">share</code></td><td>Miscellaneous support files, including error messages, character set
              files, sample configuration files, SQL for database
              installation</td></tr></tbody></table></div><p>
      If you install MySQL using a Windows MSI package, this package
      creates and sets up the data directory that the installed server
      will use, but as of MySQL 5.5.5, it also creates a pristine
      “<span class="quote">template</span>” data directory named
      <code class="filename">data</code> under the installation directory. This
      directory can be useful when the machine will be used to run
      multiple instances of MySQL: After an installation has been
      performed using an MSI package, the template data directory can be
      copied to set up additional MySQL instances. See
      <a href="server-administration.html#multiple-servers" title="5.6. Running Multiple MySQL Instances on One Machine">Section 5.6, “Running Multiple MySQL Instances on One Machine”</a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="windows-choosing-package"></a>2.3.2. Choosing An Installation Package</h3></div></div></div><p>
      For MySQL 5.5, there are installation package formats
      to choose from when installing MySQL on Windows:
    </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        MySQL Installer and the "Complete Package" methods for installing MySQL are
        similar, but different. The MySQL Installer is the newer and more advanced
        option, and it includes all functionality found within the
        "Complete Package."
      </p></div><div class="itemizedlist"><ul type="disc"><li><p>
          <span class="bold"><strong>MySQL Installer</strong></span>: This package has a file
          name similar to
          <code class="filename">mysql-installer-5.5.22.0.msi</code>
          and utilizes MSI's to automatically install MySQL server and
          other products. It will download and apply updates to itself,
          and for each of the installed products. It also configures the
          additional non-server products, such as MySQL Workbench.
        </p><p>
          The installed products are configurable, and this includes:
          documentation with samples and examples, connectors (such as
          C, C++, J, NET, and ODBC), MySQL Workbench, and the MySQL Server
          with its components.
        </p></li><li><p>
          <span class="bold"><strong>The Complete Package</strong></span>: This
          package has a file name similar to
          <code class="filename">mysql-5.5.22-win32.msi</code> and
          contains all files needed for a complete Windows installation,
          including the Configuration Wizard. This package includes
          optional components such as the embedded server and benchmark
          suite.
        </p></li><li><p>
          <span class="bold"><strong>The Noinstall Archive</strong></span>: This
          package has a file name similar to
          <code class="filename">mysql-5.5.22-win32.zip</code> and
          contains all the files found in the Complete install package,
          with the exception of the Configuration Wizard. This package
          does not include an automated installer, and must be manually
          installed and configured.
        </p></li></ul></div><p>
      MySQL Installer is recommended for most users. Both MySQL Installer and the alternative
      "Complete distribution" versions are available as
      <code class="filename">.msi</code> files for use with installations on
      Windows. The Noinstall distribution is packaged as a Zip archive.
      To use a Zip archive, you must have a tool that can unpack
      <code class="filename">.zip</code> files.
    </p><p>
      Your choice of install package affects the installation process
      you must follow. If you choose to install using MySQL Installer, see
      <a href="installing.html#mi" title="2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer">Section 2.3.3, “Installing MySQL on Microsoft Windows Using MySQL Installer”</a>. If you choose to install a standard MSI
      package, see <a href="installing.html#windows-using-installer" title="2.3.4. Installing MySQL on Microsoft Windows Using an MSI Package">Section 2.3.4, “Installing MySQL on Microsoft Windows Using an MSI Package”</a>. If you
      choose to install a Noinstall archive, see
      <a href="installing.html#windows-install-archive" title="2.3.6. Installing MySQL on Microsoft Windows Using a
      noinstall Zip Archive">Section 2.3.6, “Installing MySQL on Microsoft Windows Using a
      <code class="literal">noinstall</code> Zip Archive”</a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mi"></a>2.3.3. Installing MySQL on Microsoft Windows Using MySQL Installer</h3></div></div></div><a class="indexterm" name="id515222"></a><a class="indexterm" name="id515231"></a><p>
    MySQL Installer is designed to simplify the installation and updating process
    for a wide range of MySQL products, and is managed from a single
    application. From this central tool, you can see which components
    are already installed, configure them, and remove them if necessary.
    The installer can also install plugins, documentation, tutorials,
    and examples. The MySQL Installer is only available for Microsoft Windows.
  </p><p>
    MySQL Installer is compatible with pre-existing installations; it simply adds
    these to its list of installed components. (Please note that the
    Installer is bound to the main server version.)
  </p><p>
    MySQL Installer handles the initial configuration of applications. For example:
  </p><div class="orderedlist"><ol type="1"><li><p>
        It will create the initial MySQL Workbench connections, that allow
        immediate use of MySQL Workbench.
      </p></li><li><p>
        It creates the configuration file (<code class="filename">my.ini</code>)
        that is used to run the server.
      </p></li><li><p>
        It creates example tables that are available from the local
        server.
      </p></li></ol></div><p>
    MySQL Installer can also check for updated components and download them
    automatically, should you choose to allow it to do so. The Installer
    has its own Start Menu item so that you can access it more easily.
  </p><p>
    To install MySQL Installer, open the application, and click
     <span class="guibutton">Execute</span> or <span class="guibutton">Next</span>
    when prompted.
  </p><p>
    After the installer itself has been installed and started, the
    following screen is displayed:
  </p><div class="figure"><a name="mui-welcome"></a><p class="title"><b>Figure 2.1. MySQL Installer - Welcome Screen</b></p><div class="mediaobject"><img src="images/mi-welcome-win.png" width="596" height="447" alt="MySQL Installer - Welcome Screen"></div></div><p>
    There are three main options:
  </p><div class="orderedlist"><ol type="1"><li><p>
        Install MySQL Products - The Installation Wizard.
      </p></li><li><p>
        About MySQL - Learn about MySQL products and features.
      </p></li><li><p>
        Resources - Information to help install and configure MySQL.
      </p></li></ol></div><p>
    When you click "Install MySQL Products," the Installer will find and
    install MySQL. But first, you'll need to accept the license
    agreement before proceeding. The license agreement is only displayed
    the initial time that MySQL Installer is executed:
  </p><div class="figure"><a name="mi-license-agreement"></a><p class="title"><b>Figure 2.2. MySQL Installer - License Agreement</b></p><div class="mediaobject"><img src="images/mi-license-agreement-win.png" width="596" height="447" alt="MySQL Installer - License Agreement"></div></div><p>
    If you are connected to the internet, then the program will search
    for the latest MySQL components, and add them to the installation
    bundle, ensuring the best functionality. Click <span class="guibutton">Connect to
    the Internet</span> to complete this step, or if you'd rather
    not, check the <code class="literal">Skip</code> checkbox and continue.
  </p><div class="figure"><a name="mi-find-latest-products-win"></a><p class="title"><b>Figure 2.3. MySQL Installer - Find latest products</b></p><div class="mediaobject"><img src="images/mi-find-latest-products-win.png" width="596" height="447" alt="MySQL Installer - Find latest products"></div></div><p>
    If you chose "Connect to the Internet," the next page will show the
    progress of MySQL Installer's search for available updates. When the search is
    complete (or if you opted to skip the search), you will be taken to
    the <span class="guilabel">Choose Setup Type</span> page:
  </p><div class="figure"><a name="mi-choose-setup-page-win"></a><p class="title"><b>Figure 2.4. MySQL Installer - Choose Setup Type</b></p><div class="mediaobject"><img src="images/mi-choose-setup-type-win.png" width="596" height="447" alt="MySQL Installer - Choose Setup Type"></div></div><p>
    Each type contains a description, so read the <code class="literal">Setup Type
    Description</code> to determine which option will be most
    compatible with your preferences.
  </p><p>
    The Installation and Data paths are also defined here, and a caution
    flag will notify you if the data path you are trying to establish
    already exists.
  </p><p>
    Once you select a setup type, the MySQL Installer will check your system for
    the necessary external requirements, and download and install any
    missing pieces onto your system.
  </p><div class="figure"><a name="mi-check-requirements-win"></a><p class="title"><b>Figure 2.5. MySQL Installer - Check Requirements</b></p><div class="mediaobject"><img src="images/mi-check-requirements-win.png" width="596" height="447" alt="MySQL Installer - Check Requirements"></div></div><p>
    In the next window, you will be able to view a list of the MySQL
    components that are scheduled to be installed, and watch the
    progress of the installation.
  </p><div class="figure"><a name="mi-installation-progress-win"></a><p class="title"><b>Figure 2.6. MySQL Installer - Installation Progress</b></p><div class="mediaobject"><img src="images/mi-installation-progress-win.png" width="596" height="447" alt="MySQL Installer - Installation Progress"></div></div><p>
    As components are installed, you'll see their status change from "to
    be installed" to "install success."
  </p><div class="figure"><a name="mi-installation-progress-status-win"></a><p class="title"><b>Figure 2.7. MySQL Installer - Installation Progress status</b></p><div class="mediaobject"><img src="images/mi-installation-progress-status-win.png" width="596" height="447" alt="MySQL Installer - Installation Progress status"></div></div><p>
    Once all components are installed, the next step is configuration.
    You can watch the progress of this step in the
    <code class="literal">Configuration Overview</code> window:
  </p><div class="figure"><a name="mi-initial-configuration-overview"></a><p class="title"><b>Figure 2.8. MySQL Installer - Configuration Overview</b></p><div class="mediaobject"><img src="images/mi-initial-configuration-overview-win.png" width="596" height="447" alt="MySQL Installer - Configuration Overview"></div></div><p>
    The ideal MySQL Server configuration depends on your intended use,
    as explained in the next window. Choose the description that most
    closely applies to your machine:
  </p><div class="figure"><a name="mi-mysql-server-configuration-choice"></a><p class="title"><b>Figure 2.9. MySQL Installer - MySQL Server Configuration: Choose a platform</b></p><div class="mediaobject"><img src="images/mi-mysql-server-configuration-choice-win.png" width="596" height="447" alt="MySQL Installer- MySQL Server Configuration: Choose a
        platform"></div></div><p>
    Next, choose your basic Network, Windows, and Security Settings:
  </p><div class="figure"><a name="mi-"></a><p class="title"><b>Figure 2.10. MySQL Installer - MySQL Server Configuration: Basic settings</b></p><div class="mediaobject"><img src="images/mi-mysql-server-configuration-setup-win.png" width="596" height="447" alt="MySQL Installer - MySQL Server Configuration: Basic
        settings"></div></div><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
      The <code class="literal">Current Root Password</code>, seen in the figure
      above, is only required if existing data files were found.
    </p></div><p>
    When the MySQL Installer configuration is complete, you can save the log and by
    default, the "Start MySQL Workbench after Setup" option is checked:
  </p><div class="figure"><a name="mi-installation-complete-win"></a><p class="title"><b>Figure 2.11. MySQL Installer - Installation Complete</b></p><div class="mediaobject"><img src="images/mi-installation-complete-win.png" width="596" height="447" alt="MySQL Installer - Installation Complete"></div></div><p>
    You can now open MySQL Installer from the Microsoft Windows Start menu, which
    will pull up the MySQL Installer <code class="literal">Maintenance Screen</code>. This
    will be used to add, update, and remove features.
  </p><div class="figure"><a name="mi-maintenance"></a><p class="title"><b>Figure 2.12. MySQL Installer - Maintenance Screen</b></p><div class="mediaobject"><img src="images/mi-maintenance-win.png" width="596" height="447" alt="MySQL Installer - Maintenance Screen"></div></div><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
      If MySQL Installer is used on a machine with older products installed, an
      <code class="literal">Update Screen</code> is shown instead of the
      <code class="literal">Maintenance Screen</code>. However, the functionality
      remains the same.
    </p></div><p>
    See also the MySQL Workbench documentation
    (<a href="http://dev.mysql.com/doc/workbench/en/" target="_top">http://dev.mysql.com/doc/workbench/en/</a>).
  </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="windows-using-installer"></a>2.3.4. Installing MySQL on Microsoft Windows Using an MSI Package</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#windows-install-wizard">2.3.4.1. Using the MySQL Installation Wizard</a></span></dt><dt><span class="section"><a href="installing.html#windows-installer-msi-quiet">2.3.4.2. Automating MySQL Installation on Microsoft Windows using the MSI Package</a></span></dt><dt><span class="section"><a href="installing.html#windows-installer-uninstalling">2.3.4.3. Removing MySQL When Installed from the MSI Package</a></span></dt></dl></div><p>
      The MSI package is designed to install and configure MySQL in such
      a way that you can immediately get started using MySQL.
    </p><p>
      The MySQL Installation Wizard and MySQL Configuration Wizard are
      available in the Complete install package, which is recommended
      for most standard MySQL installations. Exceptions include users
      who need to install multiple instances of MySQL on a single server
      host and advanced users who want complete control of server
      configuration.
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          For information on installing using the GUI MSI installer
          process, see <a href="installing.html#windows-install-wizard" title="2.3.4.1. Using the MySQL Installation Wizard">Section 2.3.4.1, “Using the MySQL Installation Wizard”</a>.
        </p></li><li><p>
          For information on installing using the command line using the
          MSI package, see
          <a href="installing.html#windows-installer-msi-quiet" title="2.3.4.2. Automating MySQL Installation on Microsoft Windows using the MSI Package">Section 2.3.4.2, “Automating MySQL Installation on Microsoft Windows using the MSI Package”</a>.
        </p></li><li><p>
          If you have previously installed MySQL using the MSI package
          and want to remove MySQL, see
          <a href="installing.html#windows-installer-uninstalling" title="2.3.4.3. Removing MySQL When Installed from the MSI Package">Section 2.3.4.3, “Removing MySQL When Installed from the MSI Package”</a>.
        </p></li></ul></div><p>
      The workflow sequence for using the installer is shown in the
      figure below:
    </p><div class="figure"><a name="installer-windows-workflow-installer"></a><p class="title"><b>Figure 2.13. Installation Workflow for Windows using MSI Installer</b></p><div class="mediaobject"><img src="images/win-msi-follow-autosvg.png" width="852" height="749" alt="Installation Workflow for Windows using MSI
          Installer"></div></div><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        Microsoft Windows XP and later include a firewall which
        specifically blocks ports. If you plan on using MySQL through a
        network port then you should open and create an exception for
        this port before performing the installation. To check and if
        necessary add an exception to the firewall settings:
      </p><div xmlns="" class="orderedlist"><ol type="1"><li><p>
            First ensure that you are logged in as an Administrator or a
            user with Administrator privileges.
          </p></li><li><p>
            Go to the <span class="guilabel">Control Panel</span>, and double
            click the <span class="guilabel">Windows Firewall</span> icon.
          </p></li><li><p>
            Choose the <span class="guilabel">Allow a program through Windows
            Firewall</span> option and click the <span class="guibutton">Add
            port</span> button.
          </p></li><li><p>
            Enter <code class="literal">MySQL</code> into the
            <span class="guilabel">Name</span> text box and
            <code class="literal">3306</code> (or the port of your choice) into
            the <span class="guilabel">Port number</span> text box.
          </p></li><li><p>
            Also ensure that the <span class="guilabel">TCP</span> protocol radio
            button is selected.
          </p></li><li><p>
            If you wish, you can also limit access to the MySQL server
            by choosing the <span class="guilabel">Change scope</span> button.
          </p></li><li><p>
            Confirm your choices by clicking the
            <span class="guibutton">OK</span> button.
          </p></li></ol></div><p xmlns="">
        Additionally, when running the MySQL Installation Wizard on
        Windows Vista or newer, ensure that you are logged in as a user
        with administrative rights.
      </p></div><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        When using Windows Vista or newer, you may want to disable User
        Account Control (UAC) before performing the installation. If you
        do not do so, then MySQL may be identified as a security risk,
        which will mean that you need to enable MySQL. You can disable
        the security checking by following these instructions:
      </p><div xmlns="" class="orderedlist"><ol type="1"><li><p>
            Open <span class="guilabel">Control Panel</span>.
          </p></li><li><p>
            Under the <span class="guilabel">User Accounts and Family
            Safety</span>, select <span class="guilabel">Add or remove user
            accounts.</span>
          </p></li><li><p>
            Click the <span class="guilabel">Got to the main User Accounts
            page</span> link.
          </p></li><li><p>
            Click on <span class="guilabel">Turn User Account Control on or
            off</span>. You may be prompted to provide permission to
            change this setting. Click <span class="guibutton">Continue</span>.
          </p></li><li><p>
            Deselect or uncheck the check box next to <span class="guilabel">Use User
            Account Control (UAC) to help protect your
            computer</span>. Click <span class="guibutton">OK</span> to save
            the setting.
          </p></li></ol></div><p xmlns="">
        You will need to restart to complete the process. Click
        <span class="guibutton">Restart Now</span> to reboot the machine and
        apply the changes. You can then follow the instructions below
        for installing Windows.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="windows-install-wizard"></a>2.3.4.1. Using the MySQL Installation Wizard</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#mysql-install-wizard-starting">2.3.4.1.1. Downloading and Starting the MySQL Installation Wizard</a></span></dt><dt><span class="section"><a href="installing.html#mysql-install-wizard-install-type">2.3.4.1.2. Choosing an Install Type</a></span></dt><dt><span class="section"><a href="installing.html#mysql-install-wizard-custom-install">2.3.4.1.3. The Custom Install Dialog</a></span></dt><dt><span class="section"><a href="installing.html#mysql-install-wizard-confirmation-dialog">2.3.4.1.4. The Confirmation Dialog</a></span></dt><dt><span class="section"><a href="installing.html#mysql-install-wizard-changes">2.3.4.1.5. Changes Made by MySQL Installation Wizard</a></span></dt><dt><span class="section"><a href="installing.html#mysql-install-wizard-upgrading">2.3.4.1.6. Upgrading MySQL with the Installation Wizard</a></span></dt></dl></div><p>
        MySQL Installation Wizard is an installer for the MySQL server
        that uses the latest installer technologies for Microsoft
        Windows. The MySQL Installation Wizard, in combination with the
        MySQL Configuration Wizard, enables a user to install and
        configure a MySQL server that is ready for use immediately after
        installation.
      </p><p>
        The MySQL Installation Wizard is the standard installer for all
        MySQL server distributions, version 4.1.5 and higher. Users of
        previous versions of MySQL need to shut down and remove their
        existing MySQL installations manually before installing MySQL
        with the MySQL Installation Wizard. See
        <a href="installing.html#mysql-install-wizard-upgrading" title="2.3.4.1.6. Upgrading MySQL with the Installation Wizard">Section 2.3.4.1.6, “Upgrading MySQL with the Installation Wizard”</a>, for more
        information on upgrading from a previous version.
      </p><p>
        Microsoft has included an improved version of their Microsoft
        Windows Installer (MSI) in the recent versions of Windows. MSI
        has become the de-facto standard for application installations
        on Windows 2000, Windows XP, and Windows Server 2003. The MySQL
        Installation Wizard makes use of this technology to provide a
        smoother and more flexible installation process.
      </p><p>
        The Microsoft Windows Installer Engine was updated with the
        release of Windows XP; those using a previous version of Windows
        can reference
        <a href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;292539" target="_top">this
        Microsoft Knowledge Base article</a> for information on
        upgrading to the latest version of the Windows Installer Engine.
      </p><p>
        In addition, Microsoft has introduced the WiX (Windows Installer
        XML) toolkit recently. This is the first highly acknowledged
        Open Source project from Microsoft. We have switched to WiX
        because it is an Open Source project and it enables us to handle
        the complete Windows installation process in a flexible manner
        using scripts.
      </p><p>
        Improving the MySQL Installation Wizard depends on the support
        and feedback of users like you. If you find that the MySQL
        Installation Wizard is lacking some feature important to you, or
        if you discover a bug, please report it in our bugs database
        using the instructions given in <a href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
      </p><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-install-wizard-starting"></a>2.3.4.1.1. Downloading and Starting the MySQL Installation Wizard</h5></div></div></div><p>
          The MySQL installation packages can be downloaded from
          <a href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>. If the package you
          download is contained within a Zip archive, you need to
          extract the archive first.
        </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
            If you are installing on Windows Vista or newer, it is best
            to open a network port before beginning the installation. To
            do this, first ensure that you are logged in as an
            Administrator, go to the <code class="literal">Control Panel</code>,
            and double-click the <code class="literal">Windows Firewall</code>
            icon. Choose the <code class="literal">Allow a program through Windows
            Firewall</code> option and click the <span class="guibutton">Add
            port</span> button. Enter <code class="literal">MySQL</code> into
            the <span class="guilabel">Name</span> text box and
            <code class="literal">3306</code> (or the port of your choice) into
            the <span class="guilabel">Port number</span> text box. Also ensure
            that the <span class="guilabel">TCP</span> protocol radio button is
            selected. If you wish, you can also limit access to the
            MySQL server by choosing the <span class="guilabel">Change
            scope</span> button. Confirm your choices by clicking
            the <span class="guibutton">OK</span> button. If you do not open a
            port prior to installation, you cannot configure the MySQL
            server immediately after installation. Additionally, when
            running the MySQL Installation Wizard on Windows Vista or
            newer, ensure that you are logged in as a user with
            administrative rights.
          </p></div><p>
          The process for starting the wizard depends on the contents of
          the installation package you download. If there is a
          <code class="filename">setup.exe</code> file present, double-click it
          to start the installation process. If there is an
          <code class="filename">.msi</code> file present, double-click it to
          start the installation process.
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-install-wizard-install-type"></a>2.3.4.1.2. Choosing an Install Type</h5></div></div></div><p>
          There are three installation types available:
          <span class="bold"><strong>Typical</strong></span>,
          <span class="bold"><strong>Complete</strong></span>, and
          <span class="bold"><strong>Custom</strong></span>.
        </p><p>
          The <span class="bold"><strong>Typical</strong></span> installation type
          installs the MySQL server, the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>
          command-line client, and the command-line utilities. The
          command-line clients and utilities include
          <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>, <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a>,
          and several other tools to help you manage the MySQL server.
        </p><p>
          The <span class="bold"><strong>Complete</strong></span> installation
          type installs all components included in the installation
          package. The full installation package includes components
          such as the embedded server library, the benchmark suite,
          support scripts, and documentation.
        </p><p>
          The <span class="bold"><strong>Custom</strong></span> installation type
          gives you complete control over which packages you wish to
          install and the installation path that is used. See
          <a href="installing.html#mysql-install-wizard-custom-install" title="2.3.4.1.3. The Custom Install Dialog">Section 2.3.4.1.3, “The Custom Install Dialog”</a>, for
          more information on performing a custom install.
        </p><p>
          If you choose the <span class="bold"><strong>Typical</strong></span> or
          <span class="bold"><strong>Complete</strong></span> installation types
          and click the <span class="guibutton">Next</span> button, you advance
          to the confirmation screen to verify your choices and begin
          the installation. If you choose the
          <span class="bold"><strong>Custom</strong></span> installation type and
          click the <span class="guibutton">Next</span> button, you advance to
          the custom installation dialog, described in
          <a href="installing.html#mysql-install-wizard-custom-install" title="2.3.4.1.3. The Custom Install Dialog">Section 2.3.4.1.3, “The Custom Install Dialog”</a>.
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-install-wizard-custom-install"></a>2.3.4.1.3. The Custom Install Dialog</h5></div></div></div><p>
          If you wish to change the installation path or the specific
          components that are installed by the MySQL Installation
          Wizard, choose the <span class="bold"><strong>Custom</strong></span>
          installation type.
        </p><p>
          A tree view on the left side of the custom install dialog
          lists all available components. Components that are not
          installed have a red <span class="guiicon">X</span> icon; components
          that are installed have a gray icon. To change whether a
          component is installed, click that component's icon and choose
          a new option from the drop-down list that appears.
        </p><p>
          You can change the default installation path by clicking the
          <span class="guibutton">Change...</span> button to the right of the
          displayed installation path.
        </p><p>
          After choosing your installation components and installation
          path, click the <span class="guibutton">Next</span> button to advance
          to the confirmation dialog.
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-install-wizard-confirmation-dialog"></a>2.3.4.1.4. The Confirmation Dialog</h5></div></div></div><p>
          Once you choose an installation type and optionally choose
          your installation components, you advance to the confirmation
          dialog. Your installation type and installation path are
          displayed for you to review.
        </p><p>
          To install MySQL if you are satisfied with your settings,
          click the <span class="guibutton">Install</span> button. To change
          your settings, click the <span class="guibutton">Back</span> button.
          To exit the MySQL Installation Wizard without installing
          MySQL, click the <span class="guibutton">Cancel</span> button.
        </p><p>
          The final screen of the installer provides a summary of the
          installation and gives you the option to launch the MySQL
          Configuration Wizard, which you can use to create a
          configuration file, install the MySQL service, and configure
          security settings.
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-install-wizard-changes"></a>2.3.4.1.5. Changes Made by MySQL Installation Wizard</h5></div></div></div><p>
          Once you click the <span class="guibutton">Install</span> button, the
          MySQL Installation Wizard begins the installation process and
          makes certain changes to your system which are described in
          the sections that follow.
        </p><p>
          <span class="bold"><strong>Changes to the Registry</strong></span>
        </p><p>
          The MySQL Installation Wizard creates one Windows registry key
          in a typical install situation, located in
          <code class="literal">HKEY_LOCAL_MACHINE\SOFTWARE\MySQL AB</code>.
        </p><p>
          The MySQL Installation Wizard creates a key named after the
          major version of the server that is being installed, such as
          <code class="literal">MySQL Server 5.5</code>. It contains
          two string values, <code class="literal">Location</code> and
          <code class="literal">Version</code>. The <code class="literal">Location</code>
          string contains the path to the installation directory. In a
          default installation it contains <code class="literal">C:\Program
          Files\MySQL\MySQL Server 5.5\</code>. The
          <code class="literal">Version</code> string contains the release number.
          For example, for an installation of MySQL Server
          5.5.22, the key contains a value of
          <code class="literal">5.5.22</code>.
        </p><p>
          These registry keys are used to help external tools identify
          the installed location of the MySQL server, preventing a
          complete scan of the hard-disk to determine the installation
          path of the MySQL server. The registry keys are not required
          to run the server, and if you install MySQL using the
          <code class="literal">noinstall</code> Zip archive, the registry keys
          are not created.
        </p><p>
          <span class="bold"><strong>Changes to the Start Menu</strong></span>
        </p><p>
          The MySQL Installation Wizard creates a new entry in the
          Windows <span class="guimenu">Start</span> menu under a common MySQL
          menu heading named after the major version of MySQL that you
          have installed. For example, if you install MySQL
          5.5, the MySQL Installation Wizard creates a
          <span class="guisubmenu">MySQL Server 5.5</span> section
          in the <span class="guimenu">Start</span> menu.
        </p><p>
          The following entries are created within the new
          <span class="guimenu">Start</span> menu section:
        </p><div class="itemizedlist"><ul type="disc"><li><p>
              <span class="guimenuitem">MySQL Command Line Client</span>: This
              is a shortcut to the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> command-line
              client and is configured to connect as the
              <code class="literal">root</code> user. The shortcut prompts for a
              <code class="literal">root</code> user password when you connect.
            </p></li><li><p>
              <span class="guimenuitem">MySQL Server Instance Config
              Wizard</span>: This is a shortcut to the MySQL
              Configuration Wizard. Use this shortcut to configure a
              newly installed server, or to reconfigure an existing
              server.
            </p></li><li><p>
              <span class="guimenuitem">MySQL Documentation</span>: This is a
              link to the MySQL server documentation that is stored
              locally in the MySQL server installation directory.
            </p></li></ul></div><p>
          <span class="bold"><strong>Changes to the File System</strong></span>
        </p><p>
          The MySQL Installation Wizard by default installs the MySQL
          5.5 server to <code class="filename">C:\<em class="replaceable"><code>Program
          Files</code></em>\MySQL\MySQL Server
          <em class="replaceable"><code>5.5</code></em></code>, where
          <em class="replaceable"><code>Program Files</code></em> is the default
          location for applications in your system, and
          <em class="replaceable"><code>5.5</code></em> is the major
          version of your MySQL server. This is the recommended location
          for the MySQL server, replacing the former default location
          <code class="filename">C:\mysql</code>.
        </p><p>
          By default, all MySQL applications are stored in a common
          directory at <code class="filename">C:\<em class="replaceable"><code>Program
          Files</code></em>\MySQL</code>, where
          <em class="replaceable"><code>Program Files</code></em> is the default
          location for applications in your Windows installation. A
          typical MySQL installation on a developer machine might look
          like this:
        </p><pre class="programlisting">C:\Program Files\MySQL\MySQL Server 5.5
C:\Program Files\MySQL\MySQL Workbench 5.1 OSS</pre><p>
          This approach makes it easier to manage and maintain all MySQL
          applications installed on a particular system.
        </p><p>
          The default location of the data directory is the
          <code class="filename">AppData</code> directory configured for the user
          that installed the MySQL application.
        </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-install-wizard-upgrading"></a>2.3.4.1.6. Upgrading MySQL with the Installation Wizard</h5></div></div></div><p>
          The MySQL Installation Wizard can perform server upgrades
          automatically using the upgrade capabilities of MSI. That
          means you do not need to remove a previous installation
          manually before installing a new release. The installer
          automatically shuts down and removes the previous MySQL
          service before installing the new version.
        </p><p>
          Automatic upgrades are available only when upgrading between
          installations that have the same major and minor version
          numbers. For example, you can upgrade automatically from MySQL
          5.5.5 to MySQL 5.5.6, but not from
          MySQL 5.1 to MySQL 5.5.
        </p><p>
          See <a href="installing.html#windows-upgrading" title="2.3.8. Upgrading MySQL on Windows">Section 2.3.8, “Upgrading MySQL on Windows”</a>.
        </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="windows-installer-msi-quiet"></a>2.3.4.2. Automating MySQL Installation on Microsoft Windows using the MSI Package</h4></div></div></div><p>
        The Microsoft Installer (MSI) supports a both a
        <span class="emphasis"><em>quiet</em></span> and a <span class="emphasis"><em>passive</em></span>
        mode that can be used to install MySQL automatically without
        requiring intervention. You can use this either in scripts to
        automatically install MySQL or through a terminal connection
        such as Telnet where you do not have access to the standard
        Windows user interface. The MSI packages can also be used in
        combination with Microsoft's Group Policy system (part of
        Windows Server 2003 and Windows Server 2008) to install MySQL
        across multiple machines.
      </p><p>
        To install MySQL from one of the MSI packages automatically from
        the command line (or within a script), you need to use the
        <span><strong class="command">msiexec.exe</strong></span> tool. For example, to perform a
        quiet installation (which shows no dialog boxes or progress):
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>msiexec /i /quiet mysql-<em class="replaceable"><code>5.5.22</code></em>.msi</code></strong>
</pre><p>
        The <code class="option">/i</code> indicates that you want to perform an
        installation. The <code class="option">/quiet</code> option indicates that
        you want no interactive elements.
      </p><p>
        To provide a dialog box showing the progress during
        installation, and the dialog boxes providing information on the
        installation and registration of MySQL, use
        <code class="option">/passive</code> mode instead of
        <code class="option">/quiet</code>:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>msiexec /i /passive mysql-<em class="replaceable"><code>5.5.22</code></em>.msi</code></strong>
</pre><p>
        Regardless of the mode of the installation, installing the
        package in this manner performs a 'Typical' installation, and
        installs the default components into the standard location.
      </p><p>
        You can also use this method to uninstall MySQL by using the
        <code class="option">/uninstall</code> or <code class="option">/x</code> options:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>msiexec /x /quiet mysql-<em class="replaceable"><code>5.5.22</code></em>.msi</code></strong>
</pre><p>
        To install MySQL and configure a MySQL instance from the command
        line, see <a href="installing.html#mysql-config-wizard-cmdline" title="2.3.5.13. MySQL Server Instance Config Wizard: Creating an Instance from the
        Command Line">Section 2.3.5.13, “MySQL Server Instance Config Wizard: Creating an Instance from the
        Command Line”</a>.
      </p><p>
        For information on using MSI packages to install software
        automatically using Group Policy, see
        <a href="http://support.microsoft.com/kb/816102" target="_top">How to use
        Group Policy to remotely install software in Windows Server
        2003</a>.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="windows-installer-uninstalling"></a>2.3.4.3. Removing MySQL When Installed from the MSI Package</h4></div></div></div><p>
        To uninstall a MySQL where you have used the MSI packages, you
        must use the <span class="guilabel">Add/Remove Programs</span> tool
        within <span class="guilabel">Control Panel</span>. To do this:
      </p><div class="orderedlist"><ol type="1"><li><p>
            Right-click the <span class="guilabel">start</span> menu and choose
            <span class="guilabel">Control Panel</span>.
          </p></li><li><p>
            If the Control Panel is set to category mode (you will see
            <span class="guilabel">Pick a category</span> at the top of the
            <span class="guilabel">Control Panel</span> window), double-click
            <span class="guilabel">Add or Remove Programs</span>. If the Control
            is set to classic mode, double-click the <span class="guilabel">Add or
            Remove Programs</span> icon.
          </p></li><li><p>
            Find MySQL in the list of installed software. MySQL Server
            is installed against major version numbers (MySQL
            5.1, MySQL 5.5, etc.). Select the
            version that you want to remove and click
            <span class="guibutton">Remove</span>.
          </p></li><li><p>
            You will be prompted to confirm the removal. Click
            <span class="guibutton">Yes</span> to remove MySQL.
          </p></li></ol></div><p>
        When MySQL is removed using this method, only the installed
        components are removed. Any database information (including the
        tables and data), import or export files, log files, and binary
        logs produced during execution are kept in their configured
        location.
      </p><p>
        If you try to install MySQL again the information will be
        retained and you will be prompted to enter the password
        configured with the original installation.
      </p><p>
        If you want to delete MySQL completely:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Delete the associated data directory. On Windows XP and
            Windows Server 2003, the default data directory is the
            configured AppData directory, which is
            <code class="filename">C:\Documents and Settings\All Users\Application
            Data\MySQL</code> by default.
          </p></li><li><p>
            On Windows 7 and Windows Server 2008, the default data
            directory location is
            <code class="filename">C:\ProgramData\Mysql</code>.
          </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
              The <code class="filename">C:\ProgramData</code> directory is
              hidden by default. You must change your folder options to
              view the hidden file. Choose <span class="guimenu">Organize</span>,
              <span class="guimenuitem">Folder and search options</span>,
              <span class="guilabel">Show hidden folders</span>.
            </p></div></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-config-wizard"></a>2.3.5. MySQL Server Instance Configuration Wizard</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#mysql-config-wizard-starting">2.3.5.1. Starting the MySQL Server Instance Configuration Wizard</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard-maintenance">2.3.5.2. Choosing a Maintenance Option</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard-configuration-type">2.3.5.3. Choosing a Configuration Type</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard-server-type">2.3.5.4. The Server Type Dialog</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard-database-usage">2.3.5.5. The Database Usage Dialog</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard-tablespace">2.3.5.6. The InnoDB Tablespace Dialog</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard-connections">2.3.5.7. The Concurrent Connections Dialog</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard-networking">2.3.5.8. The Networking and Strict Mode Options Dialog</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard-character-set">2.3.5.9. The Character Set Dialog</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard-service">2.3.5.10. The Service Options Dialog</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard-security">2.3.5.11. The Security Options Dialog</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard-confirmation">2.3.5.12. The Confirmation Dialog</a></span></dt><dt><span class="section"><a href="installing.html#mysql-config-wizard-cmdline">2.3.5.13. MySQL Server Instance Config Wizard: Creating an Instance from the
        Command Line</a></span></dt></dl></div><p>
      The MySQL Server Instance Configuration Wizard helps automate the
      process of configuring your server. It creates a custom MySQL
      configuration file (<code class="filename">my.ini</code> or
      <code class="filename">my.cnf</code>) by asking you a series of questions
      and then applying your responses to a template to generate the
      configuration file that is tuned to your installation.
    </p><p>
      The MySQL Server Instance Configuration Wizard is included with
      the MySQL 5.5 server. The MySQL Server Instance
      Configuration Wizard is only available for Windows.
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-starting"></a>2.3.5.1. Starting the MySQL Server Instance Configuration Wizard</h4></div></div></div><p>
        The MySQL Server Instance Configuration Wizard is normally
        started as part of the installation process. You should only
        need to run the MySQL Server Instance Configuration Wizard again
        when you need to change the configuration parameters of your
        server.
      </p><p>
        If you chose not to open a port prior to installing MySQL on
        Windows Vista or newer, you can choose to use the MySQL Server
        Configuration Wizard after installation. However, you must open
        a port in the Windows Firewall. To do this see the instructions
        given in <a href="installing.html#mysql-install-wizard-starting" title="2.3.4.1.1. Downloading and Starting the MySQL Installation Wizard">Section 2.3.4.1.1, “Downloading and Starting the MySQL Installation Wizard”</a>. Rather
        than opening a port, you also have the option of adding MySQL as
        a program that bypasses the Windows Firewall. One or the other
        option is sufficient—you need not do both. Additionally,
        when running the MySQL Server Configuration Wizard on Windows
        Vista or newer, ensure that you are logged in as a user with
        administrative rights.
      </p><div class="mediaobject"><img src="images/mysql-cfg-fig1.png" width="504" height="386" alt="MySQL Server Instance Configuration
          Wizard"></div><p>
        You can launch the MySQL Configuration Wizard by clicking the
        <span class="guimenuitem">MySQL Server Instance Config Wizard</span>
        entry in the <span class="guisubmenu">MySQL</span> section of the
        Windows <span class="guimenu">Start</span> menu.
      </p><p>
        Alternatively, you can navigate to the <code class="filename">bin</code>
        directory of your MySQL installation and launch the
        <code class="filename">MySQLInstanceConfig.exe</code> file directly.
      </p><p>
        The MySQL Server Instance Configuration Wizard places the
        <code class="filename">my.ini</code> file in the installation directory
        for the MySQL server. This helps associate configuration files
        with particular server instances.
      </p><p>
        To ensure that the MySQL server knows where to look for the
        <code class="filename">my.ini</code> file, an argument similar to this is
        passed to the MySQL server as part of the service installation:
      </p><pre class="programlisting">--defaults-file="<em class="replaceable"><code>C:\Program Files\MySQL\MySQL Server 5.5</code></em>\my.ini"
</pre><p>
        Here, <em class="replaceable"><code>C:\Program Files\MySQL\MySQL Server
        5.5</code></em> is replaced with the installation
        path to the MySQL Server. The
        <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option instructs
        the MySQL server to read the specified file for configuration
        options when it starts.
      </p><p>
        Apart from making changes to the <code class="filename">my.ini</code>
        file by running the MySQL Server Instance Configuration Wizard
        again, you can modify it by opening it with a text editor and
        making any necessary changes. You can also modify the server
        configuration with the
        http://www.mysql.com/products/administrator/ utility. For more
        information about server configuration, see
        <a href="server-administration.html#server-options" title="5.1.2. Server Command Options">Section 5.1.2, “Server Command Options”</a>.
      </p><p>
        MySQL clients and utilities such as the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>
        and <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> command-line clients are not
        able to locate the <code class="filename">my.ini</code> file located in
        the server installation directory. To configure the client and
        utility applications, create a new <code class="filename">my.ini</code>
        file in the Windows installation directory (for example,
        <code class="filename">C:\WINDOWS</code>).
      </p><p>
        Under Windows Server 2003, Windows Server 2000, Windows XP, and
        Windows Vista, MySQL Server Instance Configuration Wizard will
        configure MySQL to work as a Windows service. To start and stop
        MySQL you use the <code class="filename">Services</code> application that
        is supplied as part of the Windows Administrator Tools.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-maintenance"></a>2.3.5.2. Choosing a Maintenance Option</h4></div></div></div><p>
        If the MySQL Server Instance Configuration Wizard detects an
        existing configuration file, you have the option of either
        reconfiguring your existing server, or removing the server
        instance by deleting the configuration file and stopping and
        removing the MySQL service.
      </p><p>
        To reconfigure an existing server, choose the
        <span class="guimenuitem">Re-configure Instance</span> option and
        click the <span class="guibutton">Next</span> button. Any existing
        configuration file is not overwritten, but renamed (within the
        same directory) using a timestamp (Windows) or sequential number
        (Linux). To remove the existing server instance, choose the
        <span class="guimenuitem">Remove Instance</span> option and click the
        <span class="guibutton">Next</span> button.
      </p><p>
        If you choose the <span class="guimenuitem">Remove Instance</span>
        option, you advance to a confirmation window. Click the
        <span class="guibutton">Execute</span> button. The MySQL Server
        Configuration Wizard stops and removes the MySQL service, and
        then deletes the configuration file. The server installation and
        its <code class="filename">data</code> folder are not removed.
      </p><p>
        If you choose the <span class="guimenuitem">Re-configure
        Instance</span> option, you advance to the
        <span class="guimenu">Configuration Type</span> dialog where you can
        choose the type of installation that you wish to configure.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-configuration-type"></a>2.3.5.3. Choosing a Configuration Type</h4></div></div></div><p>
        When you start the MySQL Server Instance Configuration Wizard
        for a new MySQL installation, or choose the
        <span class="guimenuitem">Re-configure Instance</span> option for an
        existing installation, you advance to the <span class="guimenu">Configuration
        Type</span> dialog.
      </p><div class="mediaobject"><img src="images/mysql-cfg-fig2.png" width="504" height="386" alt="MySQL Server Instance Configuration Wizard:
          Configuration Type"></div><p>
        There are two configuration types available:
        <span class="guimenuitem">Detailed Configuration</span> and
        <span class="guimenuitem">Standard Configuration</span>. The
        <span class="guimenuitem">Standard Configuration</span> option is
        intended for new users who want to get started with MySQL
        quickly without having to make many decisions about server
        configuration. The <span class="guimenuitem">Detailed
        Configuration</span> option is intended for advanced
        users who want more fine-grained control over server
        configuration.
      </p><p>
        If you are new to MySQL and need a server configured as a
        single-user developer machine, the <span class="guimenuitem">Standard
        Configuration</span> should suit your needs. Choosing the
        <span class="guimenuitem">Standard Configuration</span> option causes
        the MySQL Configuration Wizard to set all configuration options
        automatically with the exception of <span class="guimenuitem">Service
        Options</span> and <span class="guimenuitem">Security
        Options</span>.
      </p><p>
        The <span class="guimenuitem">Standard Configuration</span> sets
        options that may be incompatible with systems where there are
        existing MySQL installations. If you have an existing MySQL
        installation on your system in addition to the installation you
        wish to configure, the <span class="guimenuitem">Detailed
        Configuration</span> option is recommended.
      </p><p>
        To complete the <span class="guimenuitem">Standard
        Configuration</span>, please refer to the sections on
        <span class="guimenuitem">Service Options</span> and
        <span class="guimenuitem">Security Options</span> in
        <a href="installing.html#mysql-config-wizard-service" title="2.3.5.10. The Service Options Dialog">Section 2.3.5.10, “The Service Options Dialog”</a>, and
        <a href="installing.html#mysql-config-wizard-security" title="2.3.5.11. The Security Options Dialog">Section 2.3.5.11, “The Security Options Dialog”</a>, respectively.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-server-type"></a>2.3.5.4. The Server Type Dialog</h4></div></div></div><p>
        There are three different server types available to choose from.
        The server type that you choose affects the decisions that the
        MySQL Server Instance Configuration Wizard makes with regard to
        memory, disk, and processor usage.
      </p><div class="mediaobject"><img src="images/mysql-cfg-fig3.png" width="504" height="386" alt="MySQL Server Instance Configuration Wizard:
          Server Type"></div><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="guimenuitem">Developer Machine</span>: Choose this
            option for a typical desktop workstation where MySQL is
            intended only for personal use. It is assumed that many
            other desktop applications are running. The MySQL server is
            configured to use minimal system resources.
          </p></li><li><p>
            <span class="guimenuitem">Server Machine</span>: Choose this
            option for a server machine where the MySQL server is
            running alongside other server applications such as FTP,
            email, and Web servers. The MySQL server is configured to
            use a moderate portion of the system resources.
          </p></li><li><p>
            <span class="guimenuitem">Dedicated MySQL Server Machine</span>:
            Choose this option for a server machine that is intended to
            run only the MySQL server. It is assumed that no other
            applications are running. The MySQL server is configured to
            use all available system resources.
          </p></li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
          By selecting one of the preconfigured configurations, the
          values and settings of various options in your
          <code class="filename">my.cnf</code> or <code class="filename">my.ini</code>
          will be altered accordingly. The default values and options as
          described in the reference manual may therefore be different
          to the options and values that were created during the
          execution of the configuration wizard.
        </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-database-usage"></a>2.3.5.5. The Database Usage Dialog</h4></div></div></div><p>
        The <span class="guimenu">Database Usage</span> dialog enables you to
        indicate the storage engines that you expect to use when
        creating MySQL tables. The option you choose determines whether
        the <code class="literal">InnoDB</code> storage engine is available and
        what percentage of the server resources are available to
        <code class="literal">InnoDB</code>.
      </p><div class="mediaobject"><img src="images/mysql-cfg-fig4.png" width="504" height="386" alt="MySQL Server Instance Configuration Wizard:
          Usage Dialog"></div><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="guimenuitem">Multifunctional Database</span>: This
            option enables both the <code class="literal">InnoDB</code> and
            <code class="literal">MyISAM</code> storage engines and divides
            resources evenly between the two. This option is recommended
            for users who use both storage engines on a regular basis.
          </p></li><li><p>
            <span class="guimenuitem">Transactional Database Only</span>: This
            option enables both the <code class="literal">InnoDB</code> and
            <code class="literal">MyISAM</code> storage engines, but dedicates
            most server resources to the <code class="literal">InnoDB</code>
            storage engine. This option is recommended for users who use
            <code class="literal">InnoDB</code> almost exclusively and make only
            minimal use of <code class="literal">MyISAM</code>.
          </p></li><li><p>
            <span class="guimenuitem">Non-Transactional Database Only</span>:
            This option disables the <code class="literal">InnoDB</code> storage
            engine completely and dedicates all server resources to the
            <code class="literal">MyISAM</code> storage engine. This option is
            recommended for users who do not use
            <code class="literal">InnoDB</code>.
          </p></li></ul></div><p>
        The Configuration Wizard uses a template to generate the server
        configuration file. The <span class="guimenu">Database Usage</span> dialog
        sets one of the following option strings:
      </p><pre class="programlisting">Multifunctional Database:        MIXED
Transactional Database Only:     INNODB
Non-Transactional Database Only: MYISAM</pre><p>
        When these options are processed through the default template
        (my-template.ini) the result is:
      </p><pre class="programlisting">Multifunctional Database:
default-storage-engine=InnoDB
_myisam_pct=50

Transactional Database Only:
default-storage-engine=InnoDB
_myisam_pct=5

Non-Transactional Database Only:
default-storage-engine=MyISAM
_myisam_pct=100
skip-innodb</pre><p>
        The <code class="literal">_myisam_pct</code> value is used to calculate
        the percentage of resources dedicated to
        <code class="literal">MyISAM</code>. The remaining resources are allocated
        to <code class="literal">InnoDB</code>.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-tablespace"></a>2.3.5.6. The InnoDB Tablespace Dialog</h4></div></div></div><p>
        Some users may want to locate the <code class="literal">InnoDB</code>
        tablespace files in a different location than the MySQL server
        data directory. Placing the tablespace files in a separate
        location can be desirable if your system has a higher capacity
        or higher performance storage device available, such as a RAID
        storage system.
      </p><div class="mediaobject"><img src="images/mysql-cfg-fig5.png" width="504" height="386" alt="MySQL Server Instance Configuration Wizard:
          InnoDB Data Tablespace"></div><p>
        To change the default location for the <code class="literal">InnoDB</code>
        tablespace files, choose a new drive from the drop-down list of
        drive letters and choose a new path from the drop-down list of
        paths. To create a custom path, click the
        <span class="guibutton">...</span> button.
      </p><p>
        If you are modifying the configuration of an existing server,
        you must click the <span class="guibutton">Modify</span> button before
        you change the path. In this situation you must move the
        existing tablespace files to the new location manually before
        starting the server.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-connections"></a>2.3.5.7. The Concurrent Connections Dialog</h4></div></div></div><p>
        To prevent the server from running out of resources, it is
        important to limit the number of concurrent connections to the
        MySQL server that can be established. The <span class="guimenu">Concurrent
        Connections</span> dialog enables you to choose the expected
        usage of your server, and sets the limit for concurrent
        connections accordingly. It is also possible to set the
        concurrent connection limit manually.
      </p><div class="mediaobject"><img src="images/mysql-cfg-fig6.png" width="504" height="386" alt="MySQL Server Instance Configuration Wizard:
          Connections"></div><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="guimenuitem">Decision Support (DSS)/OLAP</span>:
            Choose this option if your server does not require a large
            number of concurrent connections. The maximum number of
            connections is set at 100, with an average of 20 concurrent
            connections assumed.
          </p></li><li><p>
            <span class="guimenuitem">Online Transaction Processing
            (OLTP)</span>: Choose this option if your server
            requires a large number of concurrent connections. The
            maximum number of connections is set at 500.
          </p></li><li><p>
            <span class="guimenuitem">Manual Setting</span>: Choose this
            option to set the maximum number of concurrent connections
            to the server manually. Choose the number of concurrent
            connections from the drop-down box provided, or enter the
            maximum number of connections into the drop-down box if the
            number you desire is not listed.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-networking"></a>2.3.5.8. The Networking and Strict Mode Options Dialog</h4></div></div></div><p>
        Use the <span class="guimenu">Networking Options</span> dialog to enable
        or disable TCP/IP networking and to configure the port number
        that is used to connect to the MySQL server.
      </p><div class="mediaobject"><img src="images/mysql-cfg-fig7.png" width="504" height="386" alt="MySQL Server Instance Configuration Wizard:
          Network Configuration"></div><p>
        TCP/IP networking is enabled by default. To disable TCP/IP
        networking, uncheck the box next to the <span class="guimenuitem">Enable
        TCP/IP Networking</span> option.
      </p><p>
        Port 3306 is used by default. To change the port used to access
        MySQL, choose a new port number from the drop-down box or type a
        new port number directly into the drop-down box. If the port
        number you choose is in use, you are prompted to confirm your
        choice of port number.
      </p><p>
        Set the <span class="guimenu">Server SQL Mode</span> to either enable or
        disable strict mode. Enabling strict mode (default) makes MySQL
        behave more like other database management systems. <span class="emphasis"><em>If
        you run applications that rely on MySQL's old
        “<span class="quote">forgiving</span>” behavior, make sure to either adapt
        those applications or to disable strict mode.</em></span> For
        more information about strict mode, see
        <a href="server-administration.html#server-sql-mode" title="5.1.6. Server SQL Modes">Section 5.1.6, “Server SQL Modes”</a>.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-character-set"></a>2.3.5.9. The Character Set Dialog</h4></div></div></div><p>
        The MySQL server supports multiple character sets and it is
        possible to set a default server character set that is applied
        to all tables, columns, and databases unless overridden. Use the
        <span class="guimenu">Character Set</span> dialog to change the default
        character set of the MySQL server.
      </p><div class="mediaobject"><img src="images/mysql-cfg-fig8.png" width="504" height="386" alt="MySQL Server Instance Configuration Wizard:
          Character Set"></div><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="guimenuitem">Standard Character Set</span>: Choose
            this option if you want to use <code class="literal">latin1</code> as
            the default server character set. <code class="literal">latin1</code>
            is used for English and many Western European languages.
          </p></li><li><p>
            <span class="guimenuitem">Best Support For Multilingualism</span>:
            Choose this option if you want to use
            <code class="literal">utf8</code> as the default server character set.
            This is a Unicode character set that can store characters
            from many different languages.
          </p></li><li><p>
            <span class="guimenuitem">Manual Selected Default Character Set /
            Collation</span>: Choose this option if you want to
            pick the server's default character set manually. Choose the
            desired character set from the provided drop-down list.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-service"></a>2.3.5.10. The Service Options Dialog</h4></div></div></div><p>
        On Windows platforms, the MySQL server can be installed as a
        Windows service. When installed this way, the MySQL server can
        be started automatically during system startup, and even
        restarted automatically by Windows in the event of a service
        failure.
      </p><p>
        The MySQL Server Instance Configuration Wizard installs the
        MySQL server as a service by default, using the service name
        <code class="literal">MySQL</code>. If you do not wish to install the
        service, uncheck the box next to the <span class="guimenuitem">Install As
        Windows Service</span> option. You can change the service
        name by picking a new service name from the drop-down box
        provided or by entering a new service name into the drop-down
        box.
      </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
          Service names can include any legal character except forward
          (<code class="literal">/</code>) or backward (<code class="literal">\</code>)
          slashes, and must be less than 256 characters long.
        </p></div><div xmlns="http://www.w3.org/1999/xhtml" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Warning</div><p xmlns="">
          If you are installing multiple versions of MySQL onto the same
          machine, you <span class="emphasis"><em>must</em></span> choose a different
          service name for each version that you install. If you do not
          choose a different service for each installed version then the
          service manager information will be inconsistent and this will
          cause problems when you try to uninstall a previous version.
        </p><p xmlns="">
          If you have already installed multiple versions using the same
          service name, you must manually edit the contents of the
          <code class="literal">HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services</code>
          parameters within the Windows registry to update the
          association of the service name with the correct server
          version.
        </p><p xmlns="">
          Typically, when installing multiple versions you create a
          service name based on the version information. For example,
          you might install MySQL 5.x as <code class="literal">mysql5</code>, or
          specific versions such as MySQL 5.5.0 as
          <code class="literal">mysql50500</code>.
        </p></div><p>
        To install the MySQL server as a service but not have it started
        automatically at startup, uncheck the box next to the
        <span class="guimenuitem">Launch the MySQL Server Automatically</span>
        option.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-security"></a>2.3.5.11. The Security Options Dialog</h4></div></div></div><p>
        The content of the security options portion of the MySQL Server
        Instance Configuration Wizard will depend on whether this is a
        new installation, or modifying an existing installation.
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="bold"><strong>Setting the root password for a new
            installation</strong></span>
          </p><p>
            <span class="emphasis"><em>It is strongly recommended that you set a
            <code class="literal">root</code> password for your MySQL
            server</em></span>, and the MySQL Server Instance Config
            Wizard requires by default that you do so. If you do not
            wish to set a <code class="literal">root</code> password, uncheck the
            box next to the <span class="guimenuitem">Modify Security
            Settings</span> option.
          </p><div class="mediaobject"><img src="images/mysql-cfg-fig9.png" width="504" height="386" alt="MySQL Server Instance Config Wizard:
              Security"></div></li><li><p>
            To set the <code class="literal">root</code> password, enter the
            desired password into both the <span class="guimenuitem">New root
            password</span> and
            <span class="guimenuitem">Confirm</span> boxes.
          </p><p>
            <span class="bold"><strong>Setting the root password for an
            existing installation</strong></span>
          </p><p>
            If you are modifying the configuration of an existing
            configuration, or you are installing an upgrade and the
            MySQL Server Instance Configuration Wizard has detected an
            existing MySQL system, then you must enter the existing
            password for <code class="literal">root</code> before changing the
            configuration information.
          </p><div class="mediaobject"><img src="images/mysql-cfg-fig9b.png" width="504" height="388" alt="MySQL Server Instance Config Wizard:
              Security (Existing Installation)"></div><p>
            If you want to change the current <code class="literal">root</code>
            password, enter the desired new password into both the
            <span class="guimenuitem">New root password</span> and
            <span class="guimenuitem">Confirm</span> boxes.
          </p></li></ul></div><p>
        To permit <code class="literal">root</code> logins from across the
        network, check the box next to the <span class="guimenuitem">Enable root
        access from remote machines</span> option. This decreases
        the security of your <code class="literal">root</code> account.
      </p><p>
        To create an anonymous user account, check the box next to the
        <span class="guimenuitem">Create An Anonymous Account</span> option.
        Creating an anonymous account can decrease server security and
        cause login and permission difficulties. For this reason, it is
        not recommended.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-confirmation"></a>2.3.5.12. The Confirmation Dialog</h4></div></div></div><p>
        The final dialog in the MySQL Server Instance Configuration
        Wizard is the <span class="guimenu">Confirmation Dialog</span>. To start
        the configuration process, click the
        <span class="guibutton">Execute</span> button. To return to a previous
        dialog, click the <span class="guibutton">Back</span> button. To exit
        the MySQL Server Instance Configuration Wizard without
        configuring the server, click the <span class="guibutton">Cancel</span>
        button.
      </p><div class="mediaobject"><img src="images/mysql-cfg-fig10.png" width="504" height="386" alt="MySQL Server Instance Configuration Wizard:
          Confirmation"></div><p>
        After you click the <span class="guibutton">Execute</span> button, the
        MySQL Server Instance Configuration Wizard performs a series of
        tasks and displays the progress onscreen as the tasks are
        performed.
      </p><p>
        The MySQL Server Instance Configuration Wizard first determines
        configuration file options based on your choices using a
        template prepared by MySQL developers and engineers. This
        template is named <code class="filename">my-template.ini</code> and is
        located in your server installation directory.
      </p><p>
        The MySQL Configuration Wizard then writes these options to the
        corresponding configuration file.
      </p><p>
        If you chose to create a service for the MySQL server, the MySQL
        Server Instance Configuration Wizard creates and starts the
        service. If you are reconfiguring an existing service, the MySQL
        Server Instance Configuration Wizard restarts the service to
        apply your configuration changes.
      </p><p>
        If you chose to set a <code class="literal">root</code> password, the
        MySQL Configuration Wizard connects to the server, sets your new
        <code class="literal">root</code> password, and applies any other security
        settings you may have selected.
      </p><p>
        After the MySQL Server Instance Configuration Wizard has
        completed its tasks, it displays a summary. Click the
        <span class="guibutton">Finish</span> button to exit the MySQL Server
        Configuration Wizard.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-config-wizard-cmdline"></a>2.3.5.13. MySQL Server Instance Config Wizard: Creating an Instance from the
        Command Line</h4></div></div></div><p>
        In addition to using the GUI interface to the MySQL Server
        Instance Config Wizard, you can also create instances
        automatically from the command line.
      </p><p>
        To use the MySQL Server Instance Config Wizard on the command
        line, you need to use the
        <span><strong class="command">MySQLInstanceConfig.exe</strong></span> command that is
        installed with MySQL in the <code class="filename">bin</code> directory
        within the installation directory.
        <span><strong class="command">MySQLInstanceConfig.exe</strong></span> takes a number of
        command-line arguments the set the properties that would
        normally be selected through the GUI interface, and then creates
        a new configuration file (<code class="filename">my.ini</code>) by
        combining these selections with a template configuration file to
        produce the working configuration file.
      </p><p>
        The main command line options are provided in the table below.
        Some of the options are required, while some options are
        optional.
      </p><div class="table"><a name="id519068"></a><p class="title"><b>Table 2.4. MySQL Server Instance Config Wizard Command Line Options</b></p><table summary="MySQL Server Instance Config Wizard Command Line Options" border="1"><colgroup><col><col></colgroup><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td colspan="2">Required Parameters</td></tr><tr><td><code class="literal">-nPRODUCTNAME</code></td><td>The name of the instance when installed</td></tr><tr><td><code class="literal">-pPATH</code></td><td>Path of the base directory for installation. This is equivalent to the
                directory when using the <code class="option">basedir</code>
                configuration parameter</td></tr><tr><td><code class="literal">-vVERSION</code></td><td>The version tag to use for this installation</td></tr><tr><td colspan="2">Action to Perform</td></tr><tr><td><code class="literal">-i</code></td><td>Install an instance</td></tr><tr><td><code class="literal">-r</code></td><td>Remove an instance</td></tr><tr><td><code class="literal">-s</code></td><td>Stop an existing instance</td></tr><tr><td><code class="literal">-q</code></td><td>Perform the operation quietly</td></tr><tr><td><code class="literal">-lFILENAME</code></td><td>Sae the installation progress in a logfile</td></tr><tr><td colspan="2">Config File to Use</td></tr><tr><td><code class="literal">-tFILENAME</code></td><td>Path to the template config file that will be used to generate the
                installed configuration file</td></tr><tr><td><code class="literal">-cFILENAME</code></td><td>Path to a config file to be generated</td></tr></tbody></table></div><p>
        The <code class="option">-t</code> and <code class="option">-c</code> options work
        together to set the configuration parameters for a new instance.
        The <code class="option">-t</code> option specifies the template
        configuration file to use as the basic configuration, which are
        then merged with the configuration parameters generated by the
        MySQL Server Instance Config Wizard into the configuration file
        specified by the <code class="option">-c</code> option.
      </p><p>
        A sample template file, <code class="filename">my-template.ini</code> is
        provided in the toplevel MySQL installation directory. The file
        contains elements are replaced automatically by the MySQL Server
        Instance Config Wizard during configuration.
      </p><p>
        If you specify a configuration file that already exists, the
        existing configuration file will be saved in the file with the
        original, with the date and time added. For example, the
        <code class="filename">mysql.ini</code> will be copied to <code class="filename">mysql
        2009-10-27 1646.ini.bak</code>.
      </p><p>
        The parameters that you can specify on the command line are
        listed in the table below.
      </p><div class="table"><a name="id519336"></a><p class="title"><b>Table 2.5. MySQL Server Instance Config Wizard Parameters</b></p><table summary="MySQL Server Instance Config Wizard Parameters" border="1"><colgroup><col><col></colgroup><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code class="literal">ServiceName=$</code></td><td>Specify the name of the service to be created</td></tr><tr><td><code class="literal">AddBinToPath={yes | no}</code></td><td>Specifies whether to add the binary directory of MySQL to the standard
                <code class="literal">PATH</code> environment variable</td></tr><tr><td><code class="literal">ServerType={DEVELOPMENT | SERVER | DEDICATED}</code></td><td>Specify the server type. For more information, see
                <a href="installing.html#mysql-config-wizard-server-type" title="2.3.5.4. The Server Type Dialog">Section 2.3.5.4, “The Server Type Dialog”</a></td></tr><tr><td><code class="literal">DatabaseType={MIXED | INNODB | MYISAM}</code></td><td>Specify the default database type. For more information, see
                <a href="installing.html#mysql-config-wizard-database-usage" title="2.3.5.5. The Database Usage Dialog">Section 2.3.5.5, “The Database Usage Dialog”</a></td></tr><tr><td><code class="literal">ConnectionUsage={DSS | OLTP}</code></td><td>Specify the type of connection support, this automates the setting for
                the number of concurrent connections (see the
                <code class="literal">ConnectionCount</code> parameter). For more
                information, see
                <a href="installing.html#mysql-config-wizard-connections" title="2.3.5.7. The Concurrent Connections Dialog">Section 2.3.5.7, “The Concurrent Connections Dialog”</a></td></tr><tr><td><code class="literal">ConnectionCount=#</code></td><td>Specify the number of concurrent connections to support. For more
                information, see
                <a href="installing.html#mysql-config-wizard-server-type" title="2.3.5.4. The Server Type Dialog">Section 2.3.5.4, “The Server Type Dialog”</a></td></tr><tr><td><code class="literal">SkipNetworking={yes | no}</code></td><td>Specify whether network support should be supported. Specifying
                <code class="literal">yes</code> disables network access
                altogether</td></tr><tr><td><code class="literal">Port=#</code></td><td>Specify the network port number to use for network connections. For more
                information, see
                <a href="installing.html#mysql-config-wizard-networking" title="2.3.5.8. The Networking and Strict Mode Options Dialog">Section 2.3.5.8, “The Networking and Strict Mode Options Dialog”</a></td></tr><tr><td><code class="literal">StrictMode={yes | no}</code></td><td>Specify whether to use the <code class="literal">strict</code> SQL mode. For more
                information, see
                <a href="installing.html#mysql-config-wizard-networking" title="2.3.5.8. The Networking and Strict Mode Options Dialog">Section 2.3.5.8, “The Networking and Strict Mode Options Dialog”</a></td></tr><tr><td><code class="literal">Charset=$</code></td><td>Specify the default character set. For more information, see
                <a href="installing.html#mysql-config-wizard-character-set" title="2.3.5.9. The Character Set Dialog">Section 2.3.5.9, “The Character Set Dialog”</a></td></tr><tr><td><code class="literal">RootPassword=$</code></td><td>Specify the root password</td></tr><tr><td><code class="literal">RootCurrentPassword=$</code></td><td>Specify the current root password then stopping or reconfiguring an
                existing service</td></tr></tbody></table></div><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
          When specifying options on the command line, you can enclose
          the entire command-line option and the value you are
          specifying using double quotation marks. This enables you to
          use spaces in the options. For example,
          <code class="literal">"-cC:\mysql.ini"</code>.
        </p></div><p>
        The following command installs a MySQL Server 5.5
        instance from the directory <code class="filename">C:\Program
        Files\MySQL\MySQL Server 5.5</code> using the
        service name <code class="literal">MySQL55</code> and
        setting the root password to 1234.
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>MySQLInstanceConfig.exe -i -q "-lC:\mysql_install_log.txt" »</code></strong>
   <strong class="userinput"><code>"-nMySQL Server 5.5" "-pC:\Program Files\MySQL\MySQL Server 5.5" -v5.5.22 »</code></strong>
   <strong class="userinput"><code>"-tmy-template.ini" "-cC:\mytest.ini" ServerType=DEVELOPMENT DatabaseType=MIXED »</code></strong>
   <strong class="userinput"><code>ConnectionUsage=DSS Port=3311 ServiceName=MySQL55 RootPassword=1234</code></strong>
</pre><p>
        In the above example, a log file will be generated in
        <code class="filename">mysql_install_log.txt</code> containing the
        information about the instance creation process. The log file
        generated by the above example is shown below:
      </p><pre class="programlisting">Welcome to the MySQL Server Instance Configuration Wizard 1.0.16.0
Date: 2009-10-27 17:07:21

Installing service ...

Product Name:         MySQL Server 5.5
Version:              5.5.22
Installation Path:    C:\Program Files\MySQL\MySQL Server 5.5\

Creating configuration file C:\mytest.ini using template my-template.ini.
Options:
DEVELOPMENT
MIXED
DSS
STRICTMODE

Variables:
port: 3311
default-character-set: latin1
basedir: "C:/Program Files/MySQL/MySQL Server 5.5/"
datadir: "C:/Program Files/MySQL/MySQL Server 5.5/Data/"


Creating Windows service entry.
Service name: "MySQL55"
Parameters:   "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld" --defaults-file="C:\mytest.ini" MySQL55.
Windows service MySQL55 installed.</pre><p>
        When using the command line, the return values in the following
        table indicate an error performing the specified option.
      </p><div class="table"><a name="id519683"></a><p class="title"><b>Table 2.6. Return Value from MySQL Server Instance Config Wizard</b></p><table summary="Return Value from MySQL Server Instance Config Wizard" border="1"><colgroup><col><col></colgroup><thead><tr><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>2</td><td>Configuration template file cannot be found</td></tr><tr><td>3</td><td>The Windows service entry cannot be created</td></tr><tr><td>4</td><td>Could not connect to the Service Control Manager</td></tr><tr><td>5</td><td>The MySQL service cannot be started</td></tr><tr><td>6</td><td>The MySQL service cannot be stopped</td></tr><tr><td>7</td><td>The security settings cannot be applied</td></tr><tr><td>8</td><td>The configuration file cannot be written</td></tr><tr><td>9</td><td>The Windows service entry cannot be removed</td></tr></tbody></table></div><p>
        You can perform an installation of MySQL automatically using the
        MSI package. For more information, see
        <a href="installing.html#windows-installer-msi-quiet" title="2.3.4.2. Automating MySQL Installation on Microsoft Windows using the MSI Package">Section 2.3.4.2, “Automating MySQL Installation on Microsoft Windows using the MSI Package”</a>.
      </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="windows-install-archive"></a>2.3.6. Installing MySQL on Microsoft Windows Using a
      <code class="literal">noinstall</code> Zip Archive</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#windows-extract-archive">2.3.6.1. Extracting the Install Archive</a></span></dt><dt><span class="section"><a href="installing.html#windows-create-option-file">2.3.6.2. Creating an Option File</a></span></dt><dt><span class="section"><a href="installing.html#windows-select-server">2.3.6.3. Selecting a MySQL Server Type</a></span></dt><dt><span class="section"><a href="installing.html#windows-server-first-start">2.3.6.4. Starting the Server for the First Time</a></span></dt><dt><span class="section"><a href="installing.html#windows-start-command-line">2.3.6.5. Starting MySQL from the Windows Command Line</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installation-windows-path">2.3.6.6. Customizing the PATH for MySQL Tools</a></span></dt><dt><span class="section"><a href="installing.html#windows-start-service">2.3.6.7. Starting MySQL as a Windows Service</a></span></dt><dt><span class="section"><a href="installing.html#windows-testing">2.3.6.8. Testing The MySQL Installation</a></span></dt></dl></div><p>
      Users who are installing from the Noinstall package can use the
      instructions in this section to manually install MySQL. The
      process for installing MySQL from a Zip archive is as follows:
    </p><div class="orderedlist"><ol type="1"><li><p>
          Extract the archive to the desired install directory
        </p></li><li><p>
          Create an option file
        </p></li><li><p>
          Choose a MySQL server type
        </p></li><li><p>
          Start the MySQL server
        </p></li><li><p>
          Secure the default user accounts
        </p></li></ol></div><p>
      This process is described in the sections that follow.
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="windows-extract-archive"></a>2.3.6.1. Extracting the Install Archive</h4></div></div></div><p>
        To install MySQL manually, do the following:
      </p><div class="orderedlist"><ol type="1"><li><p>
            If you are upgrading from a previous version please refer to
            <a href="installing.html#windows-upgrading" title="2.3.8. Upgrading MySQL on Windows">Section 2.3.8, “Upgrading MySQL on Windows”</a>, before beginning the
            upgrade process.
          </p></li><li><p>
            Make sure that you are logged in as a user with
            administrator privileges.
          </p></li><li><p>
            Choose an installation location. Traditionally, the MySQL
            server is installed in <code class="filename">C:\mysql</code>. The
            MySQL Installation Wizard installs MySQL under
            <code class="filename">C:\Program Files\MySQL</code>. If you do not
            install MySQL at <code class="filename">C:\mysql</code>, you must
            specify the path to the install directory during startup or
            in an option file. See
            <a href="installing.html#windows-create-option-file" title="2.3.6.2. Creating an Option File">Section 2.3.6.2, “Creating an Option File”</a>.
          </p></li><li><p>
            Extract the install archive to the chosen installation
            location using your preferred Zip archive tool. Some tools
            may extract the archive to a folder within your chosen
            installation location. If this occurs, you can move the
            contents of the subfolder into the chosen installation
            location.
          </p></li></ol></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="windows-create-option-file"></a>2.3.6.2. Creating an Option File</h4></div></div></div><p>
        If you need to specify startup options when you run the server,
        you can indicate them on the command line or place them in an
        option file. For options that are used every time the server
        starts, you may find it most convenient to use an option file to
        specify your MySQL configuration. This is particularly true
        under the following circumstances:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            The installation or data directory locations are different
            from the default locations (<code class="filename">C:\Program
            Files\MySQL\MySQL Server 5.5</code> and
            <code class="filename">C:\Program Files\MySQL\MySQL Server
            5.5\data</code>).
          </p></li><li><p>
            You need to tune the server settings, such as memory, cache,
            or InnoDB configuration information.
          </p></li></ul></div><p>
        When the MySQL server starts on Windows, it looks for option
        files in several locations, such as the Windows directory,
        <code class="filename">C:\</code>, and the MySQL installation directory
        (for the full list of locations, see
        <a href="programs.html#option-files" title="4.2.3.3. Using Option Files">Section 4.2.3.3, “Using Option Files”</a>). The Windows directory typically
        is named something like <code class="filename">C:\WINDOWS</code>. You can
        determine its exact location from the value of the
        <code class="literal">WINDIR</code> environment variable using the
        following command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p>
        MySQL looks for options in each location first in the
        <code class="filename">my.ini</code> file, and then in the
        <code class="filename">my.cnf</code> file. However, to avoid confusion,
        it is best if you use only one file. If your PC uses a boot
        loader where <code class="filename">C:</code> is not the boot drive, your
        only option is to use the <code class="filename">my.ini</code> file.
        Whichever option file you use, it must be a plain text file.
      </p><p>
        You can also make use of the example option files included with
        your MySQL distribution; see
        <a href="programs.html#option-files-preconfigured" title="4.2.3.3.2. Preconfigured Option Files">Section 4.2.3.3.2, “Preconfigured Option Files”</a>.
      </p><p>
        An option file can be created and modified with any text editor,
        such as Notepad. For example, if MySQL is installed in
        <code class="filename">E:\mysql</code> and the data directory is in
        <code class="filename">E:\mydata\data</code>, you can create an option
        file containing a <code class="literal">[mysqld]</code> section to specify
        values for the <code class="option">basedir</code> and
        <code class="option">datadir</code> options:
      </p><pre class="programlisting">[mysqld]
# set basedir to your installation path
basedir=E:/mysql
# set datadir to the location of your data directory
datadir=E:/mydata/data</pre><p>
        Note that Windows path names are specified in option files using
        (forward) slashes rather than backslashes. If you do use
        backslashes, double them:
      </p><pre class="programlisting">[mysqld]
# set basedir to your installation path
basedir=E:\\mysql
# set datadir to the location of your data directory
datadir=E:\\mydata\\data</pre><p>
        The rules for use of backslash in option file values are given
        in <a href="programs.html#option-files" title="4.2.3.3. Using Option Files">Section 4.2.3.3, “Using Option Files”</a>.
      </p><p>
        The data directory is located within the
        <code class="filename">AppData</code> directory for the user running
        MySQL.
      </p><p>
        If you would like to use a data directory in a different
        location, you should copy the entire contents of the
        <code class="filename">data</code> directory to the new location. For
        example, if you want to use <code class="filename">E:\mydata</code> as
        the data directory instead, you must do two things:
      </p><div class="orderedlist"><ol type="1"><li><p>
            Move the entire <code class="filename">data</code> directory and all
            of its contents from the default location (for example
            <code class="filename">C:\Program Files\MySQL\MySQL Server
            5.5\data</code>) to
            <code class="filename">E:\mydata</code>.
          </p></li><li><p>
            Use a <a href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option to
            specify the new data directory location each time you start
            the server.
          </p></li></ol></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="windows-select-server"></a>2.3.6.3. Selecting a MySQL Server Type</h4></div></div></div><p>
        The following table shows the available servers for Windows in
        MySQL 5.5.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Binary</th><th>Description</th></tr></thead><tbody><tr><td><a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a></td><td>Optimized binary with named-pipe support</td></tr><tr><td><a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld-debug</strong></span></a></td><td>Like <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>, but compiled with full debugging and
                automatic memory allocation checking</td></tr></tbody></table></div><p>
        All of the preceding binaries are optimized for modern Intel
        processors, but should work on any Intel i386-class or higher
        processor.
      </p><p>
        Each of the servers in a distribution support the same set of
        storage engines. The <a href="sql-syntax.html#show-engines" title="12.7.5.17. SHOW ENGINES Syntax"><code class="literal">SHOW ENGINES</code></a>
        statement displays which engines a given server supports.
      </p><p>
        All Windows MySQL 5.5 servers have support for
        symbolic linking of database directories.
      </p><a class="indexterm" name="id520322"></a><a class="indexterm" name="id520331"></a><p>
        MySQL supports TCP/IP on all Windows platforms. MySQL servers on
        Windows support named pipes as indicated in the following list.
        However, the default is to use TCP/IP regardless of platform.
        (Named pipes are slower than TCP/IP in many Windows
        configurations.)
      </p><p>
        Named pipes are enabled only if you start the server with the
        <a href="server-administration.html#option_mysqld_enable-named-pipe"><code class="option">--enable-named-pipe</code></a> option. It is
        necessary to use this option explicitly because some users have
        experienced problems with shutting down the MySQL server when
        named pipes were used.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="windows-server-first-start"></a>2.3.6.4. Starting the Server for the First Time</h4></div></div></div><p>
        This section gives a general overview of starting the MySQL
        server. The following sections provide more specific information
        for starting the MySQL server from the command line or as a
        Windows service.
      </p><p>
        The information here applies primarily if you installed MySQL
        using the <code class="literal">Noinstall</code> version, or if you wish
        to configure and test MySQL manually rather than with the GUI
        tools.
      </p><p>
        The examples in these sections assume that MySQL is installed
        under the default location of <code class="filename">C:\Program
        Files\MySQL\MySQL Server 5.5</code>. Adjust the
        path names shown in the examples if you have MySQL installed in
        a different location.
      </p><p>
        Clients have two options. They can use TCP/IP, or they can use a
        named pipe if the server supports named-pipe connections.
      </p><p>
        MySQL for Windows also supports shared-memory connections if the
        server is started with the
        <a href="server-administration.html#option_mysqld_shared-memory"><code class="option">--shared-memory</code></a> option. Clients
        can connect through shared memory by using the
        <a href="programs.html#option_general_protocol"><code class="option">--protocol=MEMORY</code></a> option.
      </p><p>
        For information about which server binary to run, see
        <a href="installing.html#windows-select-server" title="2.3.6.3. Selecting a MySQL Server Type">Section 2.3.6.3, “Selecting a MySQL Server Type”</a>.
      </p><p>
        Testing is best done from a command prompt in a console window
        (or “<span class="quote">DOS window</span>”). In this way you can have the
        server display status messages in the window where they are easy
        to see. If something is wrong with your configuration, these
        messages make it easier for you to identify and fix any
        problems.
      </p><p>
        To start the server, enter this command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld" --console</code></strong>
</pre><p>
        For a server that includes <code class="literal">InnoDB</code> support,
        you should see the messages similar to those following as it
        starts (the path names and sizes may differ):
      </p><pre class="programlisting">InnoDB: The first specified datafile c:\ibdata\ibdata1 did not exist:
InnoDB: a new database to be created!
InnoDB: Setting file c:\ibdata\ibdata1 size to 209715200
InnoDB: Database physically writes the file full: wait...
InnoDB: Log file c:\iblogs\ib_logfile0 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile0 size to 31457280
InnoDB: Log file c:\iblogs\ib_logfile1 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile1 size to 31457280
InnoDB: Log file c:\iblogs\ib_logfile2 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile2 size to 31457280
InnoDB: Doublewrite buffer not found: creating new
InnoDB: Doublewrite buffer created
InnoDB: creating foreign key constraint system tables
InnoDB: foreign key constraint system tables created
011024 10:58:25  InnoDB: Started</pre><p>
        When the server finishes its startup sequence, you should see
        something like this, which indicates that the server is ready to
        service client connections:
      </p><pre class="programlisting">mysqld: ready for connections
Version: '5.5.22'  socket: ''  port: 3306</pre><p>
        The server continues to write to the console any further
        diagnostic output it produces. You can open a new console window
        in which to run client programs.
      </p><p>
        If you omit the <a href="server-administration.html#option_mysqld_console"><code class="option">--console</code></a> option,
        the server writes diagnostic output to the error log in the data
        directory (<code class="filename">C:\Program Files\MySQL\MySQL Server
        5.5\data</code> by default). The error log is
        the file with the <code class="filename">.err</code> extension.
      </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
          The accounts that are listed in the MySQL grant tables
          initially have no passwords. After starting the server, you
          should set up passwords for them using the instructions in
          <a href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
        </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="windows-start-command-line"></a>2.3.6.5. Starting MySQL from the Windows Command Line</h4></div></div></div><p>
        The MySQL server can be started manually from the command line.
        This can be done on any version of Windows.
      </p><p>
        To start the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server from the command
        line, you should start a console window (or “<span class="quote">DOS
        window</span>”) and enter this command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld"</code></strong>
</pre><p>
        The path to <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> may vary depending on the
        install location of MySQL on your system.
      </p><p>
        You can stop the MySQL server by executing this command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqladmin" -u root shutdown</code></strong>
</pre><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
          If the MySQL <code class="literal">root</code> user account has a
          password, you need to invoke <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a>
          with the <code class="option">-p</code> option and supply the password
          when prompted.
        </p></div><p>
        This command invokes the MySQL administrative utility
        <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a> to connect to the server and tell
        it to shut down. The command connects as the MySQL
        <code class="literal">root</code> user, which is the default
        administrative account in the MySQL grant system. Note that
        users in the MySQL grant system are wholly independent from any
        login users under Windows.
      </p><p>
        If <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> doesn't start, check the error log
        to see whether the server wrote any messages there to indicate
        the cause of the problem. The error log is located in the
        <code class="filename">C:\Program Files\MySQL\MySQL Server
        5.5\data</code> directory. It is the file with
        a suffix of <code class="filename">.err</code>. You can also try to start
        the server as <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld --console</strong></span></a>; in this case,
        you may get some useful information on the screen that may help
        solve the problem.
      </p><p>
        The last option is to start <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with the
        <a href="server-administration.html#option_mysqld_standalone"><code class="option">--standalone</code></a> and
        <a href="server-administration.html#option_mysqld_debug"><code class="option">--debug</code></a> options. In this case,
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> writes a log file
        <code class="filename">C:\mysqld.trace</code> that should contain the
        reason why <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> doesn't start. See
        <a href="http://forge.mysql.com/wiki/MySQL_Internals_Porting" target="_top">MySQL
        Internals: Porting</a>.
      </p><p>
        Use <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld --verbose --help</strong></span></a> to display all
        the options that <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> supports.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-installation-windows-path"></a>2.3.6.6. Customizing the PATH for MySQL Tools</h4></div></div></div><p>
        To make it easier to invoke MySQL programs, you can add the path
        name of the MySQL <code class="filename">bin</code> directory to your
        Windows system <code class="literal">PATH</code> environment variable:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            On the Windows desktop, right-click the <span class="guiicon">My
            Computer</span> icon, and select
            <span class="guimenuitem">Properties</span>.
          </p></li><li><p>
            Next select the <span class="guimenuitem">Advanced</span> tab from
            the <span class="guimenu">System Properties</span> menu that appears,
            and click the <span class="guibutton">Environment Variables</span>
            button.
          </p></li><li><p>
            Under <span class="guilabel">System Variables</span>, select
            <span class="guimenuitem">Path</span>, and then click the
            <span class="guibutton">Edit</span> button. The <span class="guimenu">Edit System
            Variable</span> dialogue should appear.
          </p></li><li><p>
            Place your cursor at the end of the text appearing in the
            space marked <span class="guilabel">Variable Value</span>. (Use the
            <span><strong class="keycap">End</strong></span> key to ensure that your cursor is
            positioned at the very end of the text in this space.) Then
            enter the complete path name of your MySQL
            <code class="filename">bin</code> directory (for example,
            <code class="literal">C:\Program Files\MySQL\MySQL Server
            5.5\bin</code>)
          </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
              There must be a semicolon separating this path from any
              values present in this field.
            </p></div><p>
            Dismiss this dialogue, and each dialogue in turn, by
            clicking <span class="guibutton">OK</span> until all of the
            dialogues that were opened have been dismissed. You should
            now be able to invoke any MySQL executable program by typing
            its name at the DOS prompt from any directory on the system,
            without having to supply the path. This includes the
            servers, the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client, and all MySQL
            command-line utilities such as <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a>
            and <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>.
          </p><p>
            You should not add the MySQL <code class="filename">bin</code>
            directory to your Windows <code class="literal">PATH</code> if you are
            running multiple MySQL servers on the same machine.
          </p></li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Warning</div><p xmlns="">
          You must exercise great care when editing your system
          <code class="literal">PATH</code> by hand; accidental deletion or
          modification of any portion of the existing
          <code class="literal">PATH</code> value can leave you with a
          malfunctioning or even unusable system.
        </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="windows-start-service"></a>2.3.6.7. Starting MySQL as a Windows Service</h4></div></div></div><p>
        On Windows, the recommended way to run MySQL is to install it as
        a Windows service, whereby MySQL starts and stops automatically
        when Windows starts and stops. A MySQL server installed as a
        service can also be controlled from the command line using
        <span><strong class="command">NET</strong></span> commands, or with the graphical
        <span><strong class="command">Services</strong></span> utility. Generally, to install MySQL
        as a Windows service you should be logged in using an account
        that has administrator rights.
      </p><p>
        The <span><strong class="command">Services</strong></span> utility (the Windows
        <span><strong class="command">Service Control Manager</strong></span>) can be found in the
        Windows Control Panel (under <span class="guimenuitem">Administrative
        Tools</span> on Windows 2000, XP, Vista, and Server
        2003). To avoid conflicts, it is advisable to close the
        <span><strong class="command">Services</strong></span> utility while performing server
        installation or removal operations from the command line.
      </p><p>
        Before installing MySQL as a Windows service, you should first
        stop the current server if it is running by using the following
        command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqladmin"</code></strong>
          <strong class="userinput"><code>-u root shutdown</code></strong>
</pre><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
          If the MySQL <code class="literal">root</code> user account has a
          password, you need to invoke <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a>
          with the <code class="option">-p</code> option and supply the password
          when prompted.
        </p></div><p>
        This command invokes the MySQL administrative utility
        <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a> to connect to the server and tell
        it to shut down. The command connects as the MySQL
        <code class="literal">root</code> user, which is the default
        administrative account in the MySQL grant system. Note that
        users in the MySQL grant system are wholly independent from any
        login users under Windows.
      </p><p>
        Install the server as a service using this command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld" --install</code></strong>
</pre><p>
        The service-installation command does not start the server.
        Instructions for that are given later in this section.
      </p><p>
        To make it easier to invoke MySQL programs, you can add the path
        name of the MySQL <code class="filename">bin</code> directory to your
        Windows system <code class="literal">PATH</code> environment variable:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            On the Windows desktop, right-click the <span class="guiicon">My
            Computer</span> icon, and select
            <span class="guimenuitem">Properties</span>.
          </p></li><li><p>
            Next select the <span class="guimenuitem">Advanced</span> tab from
            the <span class="guimenu">System Properties</span> menu that appears,
            and click the <span class="guibutton">Environment Variables</span>
            button.
          </p></li><li><p>
            Under <span class="guilabel">System Variables</span>, select
            <span class="guimenuitem">Path</span>, and then click the
            <span class="guibutton">Edit</span> button. The <span class="guimenu">Edit System
            Variable</span> dialogue should appear.
          </p></li><li><p>
            Place your cursor at the end of the text appearing in the
            space marked <span class="guilabel">Variable Value</span>. (Use the
            <span><strong class="keycap">End</strong></span> key to ensure that your cursor is
            positioned at the very end of the text in this space.) Then
            enter the complete path name of your MySQL
            <code class="filename">bin</code> directory (for example,
            <code class="literal">C:\Program Files\MySQL\MySQL Server
            5.5\bin</code>), Note that there should be a
            semicolon separating this path from any values present in
            this field. Dismiss this dialogue, and each dialogue in
            turn, by clicking <span class="guibutton">OK</span> until all of the
            dialogues that were opened have been dismissed. You should
            now be able to invoke any MySQL executable program by typing
            its name at the DOS prompt from any directory on the system,
            without having to supply the path. This includes the
            servers, the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client, and all MySQL
            command-line utilities such as <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a>
            and <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>.
          </p><p>
            You should not add the MySQL <code class="filename">bin</code>
            directory to your Windows <code class="literal">PATH</code> if you are
            running multiple MySQL servers on the same machine.
          </p></li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Warning</div><p xmlns="">
          You must exercise great care when editing your system
          <code class="literal">PATH</code> by hand; accidental deletion or
          modification of any portion of the existing
          <code class="literal">PATH</code> value can leave you with a
          malfunctioning or even unusable system.
        </p></div><p>
        The following additional arguments can be used when installing
        the service:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            You can specify a service name immediately following the
            <code class="option">--install</code> option. The default service name
            is <code class="literal">MySQL</code>.
          </p></li><li><p>
            If a service name is given, it can be followed by a single
            option. By convention, this should be
            <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code></a>
            to specify the name of an option file from which the server
            should read options when it starts.
          </p><p>
            The use of a single option other than
            <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> is possible
            but discouraged.
            <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> is more
            flexible because it enables you to specify multiple startup
            options for the server by placing them in the named option
            file.
          </p></li><li><p>
            You can also specify a <code class="option">--local-service</code>
            option following the service name. This causes the server to
            run using the <code class="literal">LocalService</code> Windows
            account that has limited system privileges. This account is
            available only for Windows XP or newer. If both
            <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> and
            <code class="option">--local-service</code> are given following the
            service name, they can be in any order.
          </p></li></ul></div><p>
        For a MySQL server that is installed as a Windows service, the
        following rules determine the service name and option files that
        the server uses:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            If the service-installation command specifies no service
            name or the default service name (<code class="literal">MySQL</code>)
            following the <code class="option">--install</code> option, the server
            uses the a service name of <code class="literal">MySQL</code> and
            reads options from the <code class="literal">[mysqld]</code> group in
            the standard option files.
          </p></li><li><p>
            If the service-installation command specifies a service name
            other than <code class="literal">MySQL</code> following the
            <code class="option">--install</code> option, the server uses that
            service name. It reads options from the
            <code class="literal">[mysqld]</code> group and the group that has the
            same name as the service in the standard option files. This
            enables you to use the <code class="literal">[mysqld]</code> group for
            options that should be used by all MySQL services, and an
            option group with the service name for use by the server
            installed with that service name.
          </p></li><li><p>
            If the service-installation command specifies a
            <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option after
            the service name, the server reads options only from the
            <code class="literal">[mysqld]</code> group of the named file and
            ignores the standard option files.
          </p></li></ul></div><p>
        As a more complex example, consider the following command:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld"</code></strong>
          <strong class="userinput"><code>--install MySQL --defaults-file=C:\my-opts.cnf</code></strong>
</pre><p>
        Here, the default service name (<code class="literal">MySQL</code>) is
        given after the <code class="option">--install</code> option. If no
        <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option had been
        given, this command would have the effect of causing the server
        to read the <code class="literal">[mysqld]</code> group from the standard
        option files. However, because the
        <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option is
        present, the server reads options from the
        <code class="literal">[mysqld]</code> option group, and only from the
        named file.
      </p><p>
        You can also specify options as Start parameters in the Windows
        <span><strong class="command">Services</strong></span> utility before you start the MySQL
        service.
      </p><p>
        Once a MySQL server has been installed as a service, Windows
        starts the service automatically whenever Windows starts. The
        service also can be started immediately from the
        <span><strong class="command">Services</strong></span> utility, or by using a <span><strong class="command">NET
        START MySQL</strong></span> command. The <span><strong class="command">NET</strong></span>
        command is not case sensitive.
      </p><p>
        When run as a service, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> has no access
        to a console window, so no messages can be seen there. If
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> does not start, check the error log to
        see whether the server wrote any messages there to indicate the
        cause of the problem. The error log is located in the MySQL data
        directory (for example, <code class="filename">C:\Program Files\MySQL\MySQL
        Server 5.5\data</code>). It is the file with a
        suffix of <code class="filename">.err</code>.
      </p><p>
        When a MySQL server has been installed as a service, and the
        service is running, Windows stops the service automatically when
        Windows shuts down. The server also can be stopped manually by
        using the <code class="literal">Services</code> utility, the <span><strong class="command">NET
        STOP MySQL</strong></span> command, or the <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin
        shutdown</strong></span></a> command.
      </p><p>
        You also have the choice of installing the server as a manual
        service if you do not wish for the service to be started
        automatically during the boot process. To do this, use the
        <code class="option">--install-manual</code> option rather than the
        <code class="option">--install</code> option:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld" --install-manual</code></strong>
</pre><p>
        To remove a server that is installed as a service, first stop it
        if it is running by executing <span><strong class="command">NET STOP MySQL</strong></span>.
        Then use the <a href="server-administration.html#option_mysqld_remove"><code class="option">--remove</code></a> option to
        remove it:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld" --remove</code></strong>
</pre><p>
        If <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> is not running as a service, you
        can start it from the command line. For instructions, see
        <a href="installing.html#windows-start-command-line" title="2.3.6.5. Starting MySQL from the Windows Command Line">Section 2.3.6.5, “Starting MySQL from the Windows Command Line”</a>.
      </p><p>
        Please see <a href="installing.html#windows-troubleshooting" title="2.3.7. Troubleshooting a MySQL Installation Under Windows">Section 2.3.7, “Troubleshooting a MySQL Installation Under Windows”</a>, if you
        encounter difficulties during installation.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="windows-testing"></a>2.3.6.8. Testing The MySQL Installation</h4></div></div></div><a class="indexterm" name="id521724"></a><a class="indexterm" name="id521733"></a><p>
        You can test whether the MySQL server is working by executing
        any of the following commands:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqlshow"</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqlshow" -u root mysql</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqladmin" version status proc</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.5\bin\mysql" test</code></strong>
</pre><p>
        If <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> is slow to respond to TCP/IP
        connections from client programs, there is probably a problem
        with your DNS. In this case, start <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        with the <a href="server-administration.html#option_mysqld_skip-name-resolve"><code class="option">--skip-name-resolve</code></a>
        option and use only <code class="literal">localhost</code> and IP
        addresses in the <code class="literal">Host</code> column of the MySQL
        grant tables.
      </p><p>
        You can force a MySQL client to use a named-pipe connection
        rather than TCP/IP by specifying the
        <a href="programs.html#option_general_pipe"><code class="option">--pipe</code></a> or
        <a href="programs.html#option_general_protocol"><code class="option">--protocol=PIPE</code></a> option, or by
        specifying <code class="literal">.</code> (period) as the host name. Use
        the <a href="programs.html#option_general_socket"><code class="option">--socket</code></a> option to specify
        the name of the pipe if you do not want to use the default pipe
        name.
      </p><p>
        Note that if you have set a password for the
        <code class="literal">root</code> account, deleted the anonymous account,
        or created a new user account, then you must use the appropriate
        <code class="option">-u</code> and <code class="option">-p</code> options with the
        commands shown above to connect with the MySQL Server. See
        <a href="programs.html#connecting" title="4.2.2. Connecting to the MySQL Server">Section 4.2.2, “Connecting to the MySQL Server”</a>.
      </p><p>
        For more information about <a href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span><strong class="command">mysqlshow</strong></span></a>, see
        <a href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information">Section 4.5.6, “<span><strong class="command">mysqlshow</strong></span> — Display Database, Table, and Column Information”</a>.
      </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="windows-troubleshooting"></a>2.3.7. Troubleshooting a MySQL Installation Under Windows</h3></div></div></div><p>
      When installing and running MySQL for the first time, you may
      encounter certain errors that prevent the MySQL server from
      starting. The purpose of this section is to help you diagnose and
      correct some of these errors.
    </p><p>
      Your first resource when troubleshooting server issues is the
      error log. The MySQL server uses the error log to record
      information relevant to the error that prevents the server from
      starting. The error log is located in the data directory specified
      in your <code class="filename">my.ini</code> file. The default data
      directory location is <code class="filename">C:\Program Files\MySQL\MySQL
      Server 5.5\data</code>. See
      <a href="server-administration.html#error-log" title="5.2.2. The Error Log">Section 5.2.2, “The Error Log”</a>.
    </p><p>
      Another source of information regarding possible errors is the
      console messages displayed when the MySQL service is starting. Use
      the <span><strong class="command">NET START MySQL</strong></span> command from the command
      line after installing <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> as a service to
      see any error messages regarding the starting of the MySQL server
      as a service. See <a href="installing.html#windows-start-service" title="2.3.6.7. Starting MySQL as a Windows Service">Section 2.3.6.7, “Starting MySQL as a Windows Service”</a>.
    </p><p>
      The following examples show other common error messages you may
      encounter when installing MySQL and starting the server for the
      first time:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          If the MySQL server cannot find the <code class="literal">mysql</code>
          privileges database or other critical files, you may see these
          messages:
        </p><pre class="programlisting">System error 1067 has occurred.
Fatal error: Can't open privilege tables: Table 'mysql.host' doesn't exist</pre><p>
          These messages often occur when the MySQL base or data
          directories are installed in different locations than the
          default locations (<code class="filename">C:\Program Files\MySQL\MySQL
          Server 5.5</code> and <code class="filename">C:\Program
          Files\MySQL\MySQL Server 5.5\data</code>,
          respectively).
        </p><p>
          This situation may occur when MySQL is upgraded and installed
          to a new location, but the configuration file is not updated
          to reflect the new location. In addition, there may be old and
          new configuration files that conflict. Be sure to delete or
          rename any old configuration files when upgrading MySQL.
        </p><p>
          If you have installed MySQL to a directory other than
          <code class="filename">C:\Program Files\MySQL\MySQL Server
          5.5</code>, you need to ensure that the MySQL
          server is aware of this through the use of a configuration
          (<code class="filename">my.ini</code>) file. The
          <code class="filename">my.ini</code> file needs to be located in your
          Windows directory, typically <code class="filename">C:\WINDOWS</code>.
          You can determine its exact location from the value of the
          <code class="literal">WINDIR</code> environment variable by issuing the
          following command from the command prompt:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p>
          An option file can be created and modified with any text
          editor, such as Notepad. For example, if MySQL is installed in
          <code class="filename">E:\mysql</code> and the data directory is
          <code class="filename">D:\MySQLdata</code>, you can create the option
          file and set up a <code class="literal">[mysqld]</code> section to
          specify values for the <code class="option">basedir</code> and
          <code class="option">datadir</code> options:
        </p><pre class="programlisting">[mysqld]
# set basedir to your installation path
basedir=E:/mysql
# set datadir to the location of your data directory
datadir=D:/MySQLdata</pre><p>
          Note that Windows path names are specified in option files
          using (forward) slashes rather than backslashes. If you do use
          backslashes, double them:
        </p><pre class="programlisting">[mysqld]
# set basedir to your installation path
basedir=C:\\Program Files\\MySQL\\MySQL Server 5.5
# set datadir to the location of your data directory
datadir=D:\\MySQLdata</pre><p>
          The rules for use of backslash in option file values are given
          in <a href="programs.html#option-files" title="4.2.3.3. Using Option Files">Section 4.2.3.3, “Using Option Files”</a>.
        </p><p>
          If you change the <code class="option">datadir</code> value in your MySQL
          configuration file, you must move the contents of the existing
          MySQL data directory before restarting the MySQL server.
        </p><p>
          See <a href="installing.html#windows-create-option-file" title="2.3.6.2. Creating an Option File">Section 2.3.6.2, “Creating an Option File”</a>.
        </p></li><li><p>
          If you reinstall or upgrade MySQL without first stopping and
          removing the existing MySQL service and install MySQL using
          the MySQL Configuration Wizard, you may see this error:
        </p><pre class="programlisting">Error: Cannot create Windows service for MySql. Error: 0</pre><p>
          This occurs when the Configuration Wizard tries to install the
          service and finds an existing service with the same name.
        </p><p>
          One solution to this problem is to choose a service name other
          than <code class="literal">mysql</code> when using the configuration
          wizard. This enables the new service to be installed
          correctly, but leaves the outdated service in place. Although
          this is harmless, it is best to remove old services that are
          no longer in use.
        </p><p>
          To permanently remove the old <code class="literal">mysql</code>
          service, execute the following command as a user with
          administrative privileges, on the command-line:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>sc delete mysql</code></strong>
[SC] DeleteService SUCCESS
</pre><p>
          If the <code class="literal">sc</code> utility is not available for your
          version of Windows, download the <code class="literal">delsrv</code>
          utility from
          <a href="http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp" target="_top">http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp</a>
          and use the <code class="literal">delsrv mysql</code> syntax.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="windows-upgrading"></a>2.3.8. Upgrading MySQL on Windows</h3></div></div></div><a class="indexterm" name="id522214"></a><p>
      This section lists some of the steps you should take when
      upgrading MySQL on Windows.
    </p><div class="orderedlist"><ol type="1"><li><p>
          Review <a href="installing.html#upgrading" title="2.11.1. Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>, for additional information
          on upgrading MySQL that is not specific to Windows.
        </p></li><li><p>
          You should always back up your current MySQL installation
          before performing an upgrade. See
          <a href="backup-and-recovery.html#backup-methods" title="6.2. Database Backup Methods">Section 6.2, “Database Backup Methods”</a>.
        </p></li><li><p>
          Download the latest Windows distribution of MySQL from
          <a href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>.
        </p></li><li><p>
          Before upgrading MySQL, you must stop the server. If the
          server is installed as a service, stop the service with the
          following command from the command prompt:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>NET STOP MySQL</code></strong>
</pre><p>
          If you are not running the MySQL server as a service, use
          <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a> to stop it. For example, before
          upgrading from MySQL 5.1 to 5.5,
          use <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a> from MySQL 5.1
          as follows:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.1\bin\mysqladmin" -u root shutdown</code></strong>
</pre><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
            If the MySQL <code class="literal">root</code> user account has a
            password, you need to invoke <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a>
            with the <code class="option">-p</code> option and supply the password
            when prompted.
          </p></div></li><li><p>
          Before upgrading a MySQL service from MySQL 5.1 to
          5.5, you should stop the 5.1 server and remove
          the instance. Run the MySQL Instance Configuration Wizard,
          choose the <span class="guimenuitem">Remove Instance</span> option
          and in the next screen, confirm removal. After that it is safe
          to uninstall MySQL Server 5.1.
        </p></li><li><p>
          Before upgrading to MySQL 5.5 from a version
          previous to 4.1.5, or from a version of MySQL installed from a
          Zip archive to a version of MySQL installed with the MySQL
          Installation Wizard, you must first manually remove the
          previous installation and MySQL service (if the server is
          installed as a service).
        </p><p>
          To remove the MySQL service, use the following command:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqld --remove</code></strong>
</pre><p>
          <span class="bold"><strong>If you do not remove the existing
          service, the MySQL Installation Wizard may fail to properly
          install the new MySQL service.</strong></span>
        </p></li><li><p>
          If you are using the MySQL Installation Wizard, start the
          wizard as described in
          <a href="installing.html#windows-install-wizard" title="2.3.4.1. Using the MySQL Installation Wizard">Section 2.3.4.1, “Using the MySQL Installation Wizard”</a>.
        </p></li><li><p>
          If you are installing MySQL from a Zip archive, extract the
          archive. You may either overwrite your existing MySQL
          installation (usually located at
          <code class="filename">C:\mysql</code>), or install it into a different
          directory, such as <code class="literal">C:\mysql5</code>. Overwriting
          the existing installation is recommended.
        </p></li><li><p>
          If you were running MySQL as a Windows service and you had to
          remove the service earlier in this procedure, reinstall the
          service. (See <a href="installing.html#windows-start-service" title="2.3.6.7. Starting MySQL as a Windows Service">Section 2.3.6.7, “Starting MySQL as a Windows Service”</a>.)
        </p></li><li><p>
          Restart the server. For example, use <span><strong class="command">NET START
          MySQL</strong></span> if you run MySQL as a service, or invoke
          <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> directly otherwise.
        </p></li><li><p>
          As Administrator, run <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> to
          check your tables, attempt to repair them if necessary, and
          update your grant tables if they have changed so that you can
          take advantage of any new capabilities. See
          <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade">Section 4.4.7, “<span><strong class="command">mysql_upgrade</strong></span> — Check Tables for MySQL Upgrade”</a>.
        </p></li><li><p>
          If you encounter errors, see
          <a href="installing.html#windows-troubleshooting" title="2.3.7. Troubleshooting a MySQL Installation Under Windows">Section 2.3.7, “Troubleshooting a MySQL Installation Under Windows”</a>.
        </p></li></ol></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="windows-postinstallation"></a>2.3.9. Windows Postinstallation Procedures</h3></div></div></div><p>
      On Windows, you need not create the data directory and the grant
      tables. MySQL Windows distributions include the grant tables with
      a set of preinitialized accounts in the <code class="literal">mysql</code>
      database under the data directory. Regarding passwords, if you
      installed MySQL using the Windows Installation Wizard, you may
      have already assigned passwords to the accounts. (See
      <a href="installing.html#windows-install-wizard" title="2.3.4.1. Using the MySQL Installation Wizard">Section 2.3.4.1, “Using the MySQL Installation Wizard”</a>.) Otherwise, use the
      password-assignment procedure given in
      <a href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>.
    </p><p>
      Before setting up passwords, you might want to try running some
      client programs to make sure that you can connect to the server
      and that it is operating properly. Make sure that the server is
      running (see <a href="installing.html#windows-server-first-start" title="2.3.6.4. Starting the Server for the First Time">Section 2.3.6.4, “Starting the Server for the First Time”</a>), and
      then issue the following commands to verify that you can retrieve
      information from the server. You may need to specify directory
      different from <code class="filename">C:\mysql\bin</code> on the command
      line. If you used the Windows Installation Wizard, the default
      directory is <code class="filename">C:\Program Files\MySQL\MySQL Server
      5.5</code>, and the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> and
      <a href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span><strong class="command">mysqlshow</strong></span></a> client programs are in
      <code class="filename">C:\Program Files\MySQL\MySQL Server
      5.5\bin</code>. See
      <a href="installing.html#windows-install-wizard" title="2.3.4.1. Using the MySQL Installation Wizard">Section 2.3.4.1, “Using the MySQL Installation Wizard”</a>, for more information.
    </p><p>
      Use <a href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span><strong class="command">mysqlshow</strong></span></a> to see what databases exist:
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqlshow</code></strong>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| test               |
+--------------------+
</pre><p>
      The list of installed databases may vary, but will always include
      the minimum of <code class="literal">mysql</code> and
      <code class="literal">information_schema</code>. In most cases, the
      <code class="literal">test</code> database will also be installed
      automatically.
    </p><p>
      The preceding command (and commands for other MySQL programs such
      as <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>) may not work if the correct MySQL
      account does not exist. For example, the program may fail with an
      error, or you may not be able to view all databases. If you
      installed using the MSI packages and used the MySQL Server
      Instance Config Wizard, then the <code class="literal">root</code> user will
      have been created automatically with the password you supplied. In
      this case, you should use the <code class="option">-u root</code> and
      <code class="option">-p</code> options. (You will also need to use the
      <code class="option">-u root</code> and <code class="option">-p</code> options if you
      have already secured the initial MySQL accounts.) With
      <code class="option">-p</code>, you will be prompted for the
      <code class="literal">root</code> password. For example:
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqlshow -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| test               |
+--------------------+
</pre><p>
      If you specify a database name, <a href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span><strong class="command">mysqlshow</strong></span></a>
      displays a list of the tables within the database:
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqlshow mysql</code></strong>
Database: mysql
+---------------------------+
|          Tables           |
+---------------------------+
| columns_priv              |
| db                        |
| event                     |
| func                      |
| help_category             |
| help_keyword              |
| help_relation             |
| help_topic                |
| host                      |
| plugin                    |
| proc                      |
| procs_priv                |
| servers                   |
| tables_priv               |
| time_zone                 |
| time_zone_leap_second     |
| time_zone_name            |
| time_zone_transition      |
| time_zone_transition_type |
| user                      |
+---------------------------+
</pre><p>
      Use the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> program to select information
      from a table in the <code class="literal">mysql</code> database:
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysql -e "SELECT Host,Db,User FROM mysql.db"</code></strong>
+------+--------+------+
| host | db     | user |
+------+--------+------+
| %    | test   |      |
| %    | test_% |      |
+------+--------+------+
</pre><p>
      For more information about <a href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information"><span><strong class="command">mysqlshow</strong></span></a> and
      <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>, see <a href="programs.html#mysqlshow" title="4.5.6. mysqlshow — Display Database, Table, and Column Information">Section 4.5.6, “<span><strong class="command">mysqlshow</strong></span> — Display Database, Table, and Column Information”</a>, and
      <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool">Section 4.5.1, “<span><strong class="command">mysql</strong></span> — The MySQL Command-Line Tool”</a>.
    </p><p>
      If you are running a version of Windows that supports services,
      you can set up the MySQL server to run automatically when Windows
      starts. See <a href="installing.html#windows-start-service" title="2.3.6.7. Starting MySQL as a Windows Service">Section 2.3.6.7, “Starting MySQL as a Windows Service”</a>.
    </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="macosx-installation"></a>2.4. Installing MySQL on Mac OS X</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#macosx-installation-notes">2.4.1. General Notes on Installing MySQL on Mac OS X</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-pkg">2.4.2. Installing MySQL on Mac OS X Using Native Packages</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-startupitem">2.4.3. Installing the MySQL Startup Item</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-prefpane">2.4.4. Installing and Using the MySQL Preference Pane</a></span></dt><dt><span class="section"><a href="installing.html#macosx-installation-server">2.4.5. Using the Bundled MySQL on Mac OS X Server</a></span></dt></dl></div><a class="indexterm" name="id522792"></a><a class="indexterm" name="id522805"></a><p>
    MySQL for Mac OS X is available in a number of different forms:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        Native Package Installer format, which uses the native Mac OS X
        installer to walk you through the installation of MySQL. For
        more information, see <a href="installing.html#macosx-installation-pkg" title="2.4.2. Installing MySQL on Mac OS X Using Native Packages">Section 2.4.2, “Installing MySQL on Mac OS X Using Native Packages”</a>.
        You can use the package installer with Mac OS X 10.3 and later,
        and the package is available for both PowerPC and Intel
        architectures, and 32-bit and 64-bit architectures. There is no
        Universal Binary available using the package installation
        method. The user you use to perform the installation must have
        administrator privileges.
      </p></li><li><p>
        Tar package format, which uses a file packaged using the Unix
        <span><strong class="command">tar</strong></span> and <span><strong class="command">gzip</strong></span> commands. To
        use this method, you will need to open a
        <span><strong class="command">Terminal</strong></span> window. You do not need
        administrator privileges using this method, as you can install
        the MySQL server anywhere using this method. For more
        information on using this method, you can use the generic
        instructions for using a tarball,
        <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>.You can use the package
        installer with Mac OS X 10.3 and later, and available for both
        PowerPC and Intel architectures, and both 32-bit and 64-bit
        architectures. A Universal Binary, incorporating both Power PC
        and Intel architectures and 32-bit and 64-bit binaries is
        available.
      </p><p>
        In addition to the core installation, the Package Installer also
        includes <a href="installing.html#macosx-installation-startupitem" title="2.4.3. Installing the MySQL Startup Item">Section 2.4.3, “Installing the MySQL Startup Item”</a> and
        <a href="installing.html#macosx-installation-prefpane" title="2.4.4. Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>, both of which
        simplify the management of your installation.
      </p></li><li><p>
        Mac OS X server includes a version of MySQL as standard. If you
        want to use a more recent version than that supplied with the
        Mac OS X server release, you can make use of the package or tar
        formats. For more information on using the MySQL bundled with
        Mac OS X, see <a href="installing.html#macosx-installation-server" title="2.4.5. Using the Bundled MySQL on Mac OS X Server">Section 2.4.5, “Using the Bundled MySQL on Mac OS X Server”</a>.
      </p></li></ul></div><p>
    For additional information on using MySQL on Mac OS X, see
    <a href="installing.html#macosx-installation-notes" title="2.4.1. General Notes on Installing MySQL on Mac OS X">Section 2.4.1, “General Notes on Installing MySQL on Mac OS X”</a>.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="macosx-installation-notes"></a>2.4.1. General Notes on Installing MySQL on Mac OS X</h3></div></div></div><p>
      You should keep the following issues and notes in mind:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          The default location for the MySQL Unix socket is different on
          Mac OS X and Mac OS X Server depending on the installation
          type you chose. The following table shows the default
          locations by installation type.
        </p><div class="table"><a name="id522933"></a><p class="title"><b>Table 2.7. MySQL Unix Socket Locations on Mac OS X by Installation Type</b></p><table summary="MySQL Unix Socket Locations on Mac OS X by Installation Type" border="1"><colgroup><col><col></colgroup><thead><tr><th>Installation Type</th><th>Socket Location</th></tr></thead><tbody><tr><td>Package Installer from MySQL</td><td><code class="filename">/tmp/mysql.sock</code></td></tr><tr><td>Tarball from MySQL</td><td><code class="filename">/tmp/mysql.sock</code></td></tr><tr><td>MySQL Bundled with Mac OS X Server</td><td><code class="filename">/var/mysql/mysql.sock</code></td></tr></tbody></table></div><p>
          To prevent issues, you should either change the configuration
          of the socket used within your application (for example,
          changing <code class="filename">php.ini</code>), or you should
          configure the socket location using a MySQL configuration file
          and the <a href="server-administration.html#option_mysqld_socket"><code class="option">socket</code></a> option. For more
          information, see <a href="server-administration.html#server-options" title="5.1.2. Server Command Options">Section 5.1.2, “Server Command Options”</a>.
        </p></li><li><p>
          You may need (or want) to create a specific
          <code class="literal">mysql</code> user to own the MySQL directory and
          data. On Mac OS X 10.4 and lower you can do this by using the
          <span><strong class="command">Netinfo Manager</strong></span> application, located within
          the <code class="filename">Utilities</code> folder within the
          <code class="filename">Applications</code> folder. On Mac OS X 10.5 and
          later you can do this through the <span><strong class="command">Directory
          Utility</strong></span>. From Mac OS X 10.5 and later (including Mac
          OS X Server 10.5) the <code class="literal">mysql</code> should already
          exist. For use in single user mode, an entry for
          <code class="literal">_mysql</code> (note the underscore prefix) should
          already exist within the system
          <code class="filename">/etc/passwd</code> file.
        </p></li><li><p>
          Due to a bug in the Mac OS X package installer, you may see
          this error message in the destination disk selection dialog:
        </p><pre class="programlisting">You cannot install this software on this disk. (null)</pre><p>
          If this error occurs, click the <code class="literal">Go Back</code>
          button once to return to the previous screen. Then click
          <code class="literal">Continue</code> to advance to the destination disk
          selection again, and you should be able to choose the
          destination disk correctly. We have reported this bug to Apple
          and it is investigating this problem.
        </p></li><li><p>
          Because the MySQL package installer installs the MySQL
          contents into a version and platform specific directory, you
          can use this to upgrade and migrate your database between
          versions. You will need to either copy the
          <code class="filename">data</code> directory from the old version to
          the new version, or alternatively specify an alternative
          <code class="option">datadir</code> value to set location of the data
          directory.
        </p></li><li><p>
          You might want to add aliases to your shell's resource file to
          make it easier to access commonly used programs such as
          <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> and <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a>
          from the command line. The syntax for <span><strong class="command">bash</strong></span>
          is:
        </p><pre class="programlisting">alias mysql=/usr/local/mysql/bin/mysql
alias mysqladmin=/usr/local/mysql/bin/mysqladmin</pre><p>
          For <span><strong class="command">tcsh</strong></span>, use:
        </p><pre class="programlisting">alias mysql /usr/local/mysql/bin/mysql
alias mysqladmin /usr/local/mysql/bin/mysqladmin</pre><p>
          Even better, add <code class="literal">/usr/local/mysql/bin</code> to
          your <code class="literal">PATH</code> environment variable. You can do
          this by modifying the appropriate startup file for your shell.
          For more information, see <a href="programs.html#invoking-programs" title="4.2.1. Invoking MySQL Programs">Section 4.2.1, “Invoking MySQL Programs”</a>.
        </p></li><li><p>
          After you have copied over the MySQL database files from the
          previous installation and have successfully started the new
          server, you should consider removing the old installation
          files to save disk space. Additionally, you should also remove
          older versions of the Package Receipt directories located in
          <code class="filename">/Library/Receipts/mysql-<em class="replaceable"><code>VERSION</code></em>.pkg</code>.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="macosx-installation-pkg"></a>2.4.2. Installing MySQL on Mac OS X Using Native Packages</h3></div></div></div><p>
      You can install MySQL on Mac OS X 10.3.x (“<span class="quote">Panther</span>”)
      or newer using a Mac OS X binary package in PKG format instead of
      the binary tarball distribution. Please note that older versions
      of Mac OS X (for example, 10.1.x or 10.2.x) are
      <span class="emphasis"><em>not</em></span> supported by this package.
    </p><p>
      The package is located inside a disk image
      (<code class="literal">.dmg</code>) file that you first need to mount by
      double-clicking its icon in the Finder. It should then mount the
      image and display its contents.
    </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        Before proceeding with the installation, be sure to stop all
        running MySQL server instances by using either the MySQL Manager
        Application (on Mac OS X Server) or <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin
        shutdown</strong></span></a> on the command line.
      </p></div><p>
      When installing from the package version, you should also install
      the MySQL Preference Pane, which will enable you to control the
      startup and execution of your MySQL server from System
      Preferences. For more information, see
      <a href="installing.html#macosx-installation-prefpane" title="2.4.4. Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>.
    </p><p>
      When installing using the package installer, the files are
      installed into a directory within <code class="filename">/usr/local</code>
      matching the name of the installation version and platform. For
      example, the installer file
      <code class="filename">mysql-5.1.39-osx10.5-x86_64.pkg</code> installs
      MySQL into <code class="filename">/usr/local/mysql-5.1.39-osx10.5-x86_64
      </code>. The following table shows the layout of the
      installation directory.
    </p><div class="table"><a name="mysql-installation-layout-macosx"></a><p class="title"><b>Table 2.8. MySQL Installation Layout on Mac OS X</b></p><table summary="MySQL Installation Layout on Mac OS X" border="1"><colgroup><col><col></colgroup><thead><tr><th>Directory</th><th>Contents of Directory</th></tr></thead><tbody><tr><td><code class="filename">bin</code></td><td>Client programs and the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server</td></tr><tr><td><code class="filename">data</code></td><td>Log files, databases</td></tr><tr><td><code class="filename">docs</code></td><td>Manual in Info format</td></tr><tr><td><code class="filename">include</code></td><td>Include (header) files</td></tr><tr><td><code class="filename">lib</code></td><td>Libraries</td></tr><tr><td><code class="filename">man</code></td><td>Unix manual pages</td></tr><tr><td><code class="filename">mysql-test</code></td><td>MySQL test suite</td></tr><tr><td><code class="filename">scripts</code></td><td><a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a></td></tr><tr><td><code class="filename">share</code></td><td>Miscellaneous support files, including error messages, sample
              configuration files, SQL for database installation</td></tr><tr><td><code class="filename">sql-bench</code></td><td>Benchmarks</td></tr><tr><td><code class="filename">support-files</code></td><td>Scripts and sample configuration files</td></tr><tr><td><code class="filename">/tmp/mysql.sock</code></td><td>Location of the MySQL Unix socket</td></tr></tbody></table></div><p>
      During the package installer process, a symbolic link from
      <code class="filename">/usr/local/mysql</code> to the version/platform
      specific directory created during installation will be created
      automatically.
    </p><div class="orderedlist"><ol type="1"><li><p>
          Download and open the MySQL package installer, which is
          provided on a disk image (<code class="filename">.dmg</code>) that
          includes the main MySQL installation package, the
          <code class="filename">MySQLStartupItem.pkg</code> installation
          package, and the <code class="filename">MySQL.prefPane</code>.
          Double-click the disk image to open it.
        </p></li><li><p>
          Double-click the MySQL installer package. It will be named
          according to the version of MySQL you have downloaded. For
          example, if you have downloaded MySQL 5.1.39, double-click
          <code class="filename">mysql-5.1.39-osx10.5-x86.pkg</code>.
        </p></li><li><p>
          You will be presented with the opening installer dialog. Click
          <span class="guibutton">Continue</span> to begin installation.
        </p><div class="mediaobject"><img src="images/install-osx-pkg-1.png" width="623" height="443" alt="MySQL Package Installer: Step 1"></div></li><li><p>
          A copy of the installation instructions and other important
          information relevant to this installation are displayed. Click
          <span class="guibutton">Continue</span> .
        </p></li><li><p>
          If you have downloaded the community version of MySQL, you
          will be shown a copy of the relevant GNU General Public
          License. Click <span class="guibutton">Continue</span> .
        </p></li><li><p>
          Select the drive you want to use to install the MySQL Startup
          Item. The drive must have a valid, bootable, Mac OS X
          operating system installed. Click
          <span class="guibutton">Continue</span>.
        </p><div class="mediaobject"><img src="images/install-osx-pkg-4.png" width="623" height="444" alt="MySQL Package Installer: Step 4"></div></li><li><p>
          You will be asked to confirm the details of the installation,
          including the space required for the installation. To change
          the drive on which the startup item is installed, click either
          <span class="guibutton">Go Back</span> or <span class="guibutton">Change Install
          Location...</span>. To install the startup item, click
          <span class="guibutton">Install</span>.
        </p></li><li><p>
          Once the installation has been completed successfully, you
          will be shown an <span class="guilabel">Install Succeeded</span>
          message.
        </p></li></ol></div><p>
      For convenience, you may also want to install the startup item and
      preference pane. See
      <a href="installing.html#macosx-installation-startupitem" title="2.4.3. Installing the MySQL Startup Item">Section 2.4.3, “Installing the MySQL Startup Item”</a>, and
      <a href="installing.html#macosx-installation-prefpane" title="2.4.4. Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="macosx-installation-startupitem"></a>2.4.3. Installing the MySQL Startup Item</h3></div></div></div><p>
      The MySQL Installation Package includes a startup item that can be
      used to automatically start and stop MySQL.
    </p><p>
      To install the MySQL Startup Item:
    </p><div class="orderedlist"><ol type="1"><li><p>
          Download and open the MySQL package installer, which is
          provided on a disk image (<code class="filename">.dmg</code>) that
          includes the main MySQL installation package, the
          <code class="filename">MySQLStartupItem.pkg</code> installation
          package, and the <code class="filename">MySQL.prefPane</code>.
          Double-click the disk image to open it.
        </p></li><li><p>
          Double-click the <code class="filename">MySQLStartItem.pkg</code> file
          to start the installation process.
        </p></li><li><p>
          You will be presented with the <span class="guilabel">Install MySQL Startup
          Item</span> dialog.
        </p><div class="mediaobject"><img src="images/install-osx-startup-1.png" width="621" height="441" alt="MySQL Startup Item Installer: Step
            1"></div><p>
          Click <span class="guibutton">Continue</span> to continue the
          installation process.
        </p></li><li><p>
          A copy of the installation instructions and other important
          information relevant to this installation are displayed. Click
          <span class="guibutton">Continue</span> .
        </p></li><li><p>
          Select the drive you want to use to install the MySQL Startup
          Item. The drive must have a valid, bootable, Mac OS X
          operating system installed. Click
          <span class="guibutton">Continue</span>.
        </p><div class="mediaobject"><img src="images/install-osx-startup-3.png" width="623" height="442" alt="MySQL Startup Item Installer: Step
            3"></div></li><li><p>
          You will be asked to confirm the details of the installation.
          To change the drive on which the startup item is installed,
          click either <span class="guibutton">Go Back</span> or
          <span class="guibutton">Change Install Location...</span>. To install
          the startup item, click <span class="guibutton">Install</span>.
        </p></li><li><p>
          Once the installation has been completed successfully, you
          will be shown an <span class="guilabel">Install Succeeded</span>
          message.
        </p><div class="mediaobject"><img src="images/install-osx-startup-5.png" width="622" height="442" alt="MySQL Startup Item Installer: Step
            5"></div></li></ol></div><p>
      The Startup Item for MySQL is installed into
      <code class="filename">/Library/StartupItems/MySQLCOM</code>. The Startup
      Item installation adds a variable
      <code class="literal">MYSQLCOM=-YES-</code> to the system configuration file
      <code class="filename">/etc/hostconfig</code>. If you want to disable the
      automatic startup of MySQL, change this variable to
      <code class="literal">MYSQLCOM=-NO-</code>.
    </p><p>
      After the installation, you can start and stop MySQL by running
      the following commands in a terminal window. You must have
      administrator privileges to perform these tasks, and you may be
      prompted for your password.
    </p><p>
      If you have installed the Startup Item, use this command to start
      the server:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo /Library/StartupItems/MySQLCOM/MySQLCOM start</code></strong>
</pre><p>
      If you have installed the Startup Item, use this command to stop
      the server:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo /Library/StartupItems/MySQLCOM/MySQLCOM stop</code></strong>
</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="macosx-installation-prefpane"></a>2.4.4. Installing and Using the MySQL Preference Pane</h3></div></div></div><p>
      The MySQL Package installer disk image also includes a custom
      MySQL Preference Pane that enables you to start, stop, and control
      automated startup during boot of your MySQL installation.
    </p><p>
      To install the MySQL Preference Pane:
    </p><div class="orderedlist"><ol type="1"><li><p>
          Download and open the MySQL package installer package, which
          is provided on a disk image (<code class="filename">.dmg</code>) that
          includes the main MySQL installation package, the
          <code class="filename">MySQLStartupItem.pkg</code> installation
          package, and the <code class="filename">MySQL.prefPane</code>.
          Double-click the disk image to open it.
        </p></li><li><p>
          Double-click the <code class="filename">MySQL.prefPane</code>. The
          MySQL System Preferences will open.
        </p></li><li><p>
          If this is the first time you have installed the preference
          pane, you will be asked to confirm installation and whether
          you want to install the preference pane for all users, or only
          the current user. To install the preference pane for all users
          you will need administrator privileges. If necessary, you will
          be prompted for the username and password for a user with
          administrator privileges.
        </p></li><li><p>
          If you already have the MySQL Preference Pane installed, you
          will be asked to confirm whether you want to overwrite the
          existing MySQL Preference Pane.
        </p></li></ol></div><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        The MySQL Preference Pane only starts and stops MySQL
        installation installed from the MySQL package installation that
        have been installed in the default location.
      </p></div><p>
      Once the MySQL Preference Pane has been installed, you can control
      your MySQL server instance using the preference pane. To use the
      preference pane, open the <span class="guilabel">System
      Preferences...</span> from the Apple menu. Select the MySQL
      preference pane by clicking the MySQL logo within the
      <span class="guilabel">Other</span> section of the preference panes list.
    </p><div class="mediaobject"><img src="images/install-osx-prefpane.png" width="669" height="333" alt="MySQL Preference Pane"></div><p>
      The MySQL Preference Pane shows the current status of the MySQL
      server, showing <span class="guilabel">stopped</span> (in red) if the
      server is not running and <span class="guilabel">running</span> (in green)
      if the server has already been started. The preference pane also
      shows the current setting for whether the MySQL server has been
      set to start automatically.
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          <span class="bold"><strong>To start MySQL using the preference
          pane: </strong></span>
        </p><p>
          Click <span class="guibutton">Start MySQL Server</span>. You may be
          prompted for the username and password of a user with
          administrator privileges to start the MySQL server.
        </p></li><li><p>
          <span class="bold"><strong>To stop MySQL using the preference pane:
          </strong></span>
        </p><p>
          Click <span class="guibutton">Stop MySQL Server</span>. You may be
          prompted for the username and password of a user with
          administrator privileges to stop the MySQL server.
        </p></li><li><p>
          <span class="bold"><strong>To automatically start the MySQL server
          when the system boots:</strong></span>
        </p><p>
          Check the check box next to <span class="guilabel">Automatically Start
          MySQL Server on Startup</span>.
        </p></li><li><p>
          <span class="bold"><strong>To disable automatic MySQL server
          startup when the system boots:</strong></span>
        </p><p>
          Uncheck the check box next to <span class="guilabel">Automatically Start
          MySQL Server on Startup</span>.
        </p></li></ul></div><p>
      You can close the <span><strong class="command">System Preferences...</strong></span> window
      once you have completed your settings.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="macosx-installation-server"></a>2.4.5. Using the Bundled MySQL on Mac OS X Server</h3></div></div></div><p>
      If you are running Mac OS X Server, a version of MySQL should
      already be installed. The following table shows the versions of
      MySQL that ship with Mac OS X Server versions.
    </p><div class="table"><a name="id524327"></a><p class="title"><b>Table 2.9. MySQL Versions Preinstalled with Mac OS X Server</b></p><table summary="MySQL Versions Preinstalled with Mac OS X Server" border="1"><colgroup><col><col></colgroup><thead><tr><th>Mac OS X Server Version</th><th>MySQL Version</th></tr></thead><tbody><tr><td>10.2-10.2.2</td><td>3.23.51</td></tr><tr><td>10.2.3-10.2.6</td><td>3.23.53</td></tr><tr><td>10.3</td><td>4.0.14</td></tr><tr><td>10.3.2</td><td>4.0.16</td></tr><tr><td>10.4.0</td><td>4.1.10a</td></tr><tr><td>10.5.0</td><td>5.0.45</td></tr><tr><td>10.6.0</td><td>5.0.82</td></tr></tbody></table></div><p>
      The following table shows the installation layout of MySQL on Mac
      OS X Server.
    </p><div class="table"><a name="id524439"></a><p class="title"><b>Table 2.10. MySQL Directory Layout for Preinstalled MySQL Installations on Mac OS X
        Server</b></p><table summary="MySQL Directory Layout for Preinstalled MySQL Installations on Mac OS X
        Server" border="1"><colgroup><col><col></colgroup><thead><tr><th>Directory</th><th>Contents of Directory</th></tr></thead><tbody><tr><td><code class="filename">/usr/bin</code></td><td>Client programs</td></tr><tr><td><code class="filename">/var/mysql</code></td><td>Log files, databases</td></tr><tr><td><code class="filename">/usr/libexec</code></td><td>The <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server</td></tr><tr><td><code class="filename">/usr/share/man</code></td><td>Unix manual pages</td></tr><tr><td><code class="filename">/usr/share/mysql/mysql-test</code></td><td>MySQL test suite</td></tr><tr><td><code class="filename">/usr/share/mysql</code></td><td>Miscellaneous support files, including error messages, character set
              files, sample configuration files, SQL for database
              installation</td></tr><tr><td><code class="filename">/var/mysql/mysql.sock</code></td><td>Location of the MySQL Unix socket</td></tr></tbody></table></div><h4><a name="id524579"></a>
      Additional Resources
    </h4><div class="itemizedlist"><ul type="disc"><li><p>
          For more information on managing the bundled MySQL instance in
          Mac OS X Server 10.5, see
          <a href="http://images.apple.com/server/macosx/docs/Web_Technologies_Admin_v10.5.pdf" target="_top">Mac
          OS X Server: Web Technologies Administration For Version 10.5
          Leopard</a>.
        </p></li><li><p>
          For more information on managing the bundled MySQL instance in
          Mac OS X Server 10.6, see
          <a href="http://manuals.info.apple.com/en_US/WebTech_v10.6.pdf" target="_top">Mac
          OS X Server: Web Technologies Administration Version 10.6 Snow
          Leopard</a>.
        </p></li><li><p>
          The MySQL server bundled with Mac OS X Server does not include
          the MySQL client libraries and header files required to access
          and use MySQL from a third-party driver, such as Perl DBI or
          PHP. For more information on obtaining and installing MySQL
          libraries, see
          <a href="http://support.apple.com/kb/TA25017" target="_top">Mac OS X
          Server version 10.5: MySQL libraries available for
          download</a>. Alternatively, you can ignore the bundled
          MySQL server and install MySQL from the package or tarball
          installation.
        </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="linux-installation"></a>2.5. Installing MySQL on Linux</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#linux-installation-rpm">2.5.1. Installing MySQL from RPM Packages on Linux</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-native">2.5.2. Installing MySQL on Linux using Native Package Manager</a></span></dt></dl></div><p>
    Linux supports a number of different solutions for installing MySQL.
    The recommended method is to use one of the distributions from
    Oracle. If you choose this method, there are three options
    available:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        Installing from a generic binary package in
        <code class="filename">.tar.gz</code> format. See
        <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a> for more information.
      </p></li><li><p>
        Extracting and compiling MySQL from a source distribution. For
        detailed instructions, see
        <a href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
      </p></li><li><p>
        Installing using a pre-compiled RPM package. For more
        information on using the RPM solution, see
        <a href="installing.html#linux-installation-rpm" title="2.5.1. Installing MySQL from RPM Packages on Linux">Section 2.5.1, “Installing MySQL from RPM Packages on Linux”</a>.
      </p></li></ul></div><p>
    As an alternative, you can use the native package manager within
    your Linux distribution to automatically download and install MySQL
    for you. Native package installations can take of the download and
    dependencies required to run MySQL, but the MySQL version will often
    be some way behind the currently available release. You will also
    normally be unable to install developmental releases, as these are
    not usually made available in the native repository. For more
    information on using the native package installers, see
    <a href="installing.html#linux-installation-native" title="2.5.2. Installing MySQL on Linux using Native Package Manager">Section 2.5.2, “Installing MySQL on Linux using Native Package Manager”</a>.
  </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
      For many Linux installations, you will want to set up MySQL to be
      started automatically when your machine starts. Many of the native
      package installations perform this operation for you, but for
      source, binary and RPM solutions you may need to set this up
      separately. The required script, <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a>,
      can be found in the <code class="filename">support-files</code> directory
      under the MySQL installation directory or in a MySQL source tree.
      You can install it as <code class="filename">/etc/init.d/mysql</code> for
      automatic MySQL startup and shutdown. See
      <a href="installing.html#automatic-start" title="2.10.1.2. Starting and Stopping MySQL Automatically">Section 2.10.1.2, “Starting and Stopping MySQL Automatically”</a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-rpm"></a>2.5.1. Installing MySQL from RPM Packages on Linux</h3></div></div></div><a class="indexterm" name="id524748"></a><a class="indexterm" name="id524757"></a><a class="indexterm" name="id524766"></a><p>
      The recommended way to install MySQL on RPM-based Linux
      distributions is by using the RPM packages. The RPMs that we
      provide to the community should work on all versions of Linux that
      support RPM packages and use <code class="literal">glibc</code> 2.3. To
      obtain RPM packages, see <a href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>.
    </p><p>
      For non-RPM Linux distributions, you can install MySQL using a
      <code class="filename">.tar.gz</code> package. See
      <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>.
    </p><p>
      Installations created from our Linux RPM distributions result in
      files under the following system directories.
    </p><div class="table"><a name="mysql-installation-layout-linuxrpm"></a><p class="title"><b>Table 2.11. MySQL Installation Layout for Linux RPM</b></p><table summary="MySQL Installation Layout for Linux RPM" border="1"><colgroup><col><col></colgroup><thead><tr><th>Directory</th><th>Contents of Directory</th></tr></thead><tbody><tr><td><code class="filename">/usr/bin</code></td><td>Client programs and scripts</td></tr><tr><td><code class="filename">/usr/sbin</code></td><td>The <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server</td></tr><tr><td><code class="filename">/var/lib/mysql</code></td><td>Log files, databases</td></tr><tr><td><code class="filename">/usr/share/info</code></td><td>Manual in Info format</td></tr><tr><td><code class="filename">/usr/share/man</code></td><td>Unix manual pages</td></tr><tr><td><code class="filename">/usr/include/mysql</code></td><td>Include (header) files</td></tr><tr><td><code class="filename">/usr/lib/mysql</code></td><td>Libraries</td></tr><tr><td><code class="filename">/usr/share/mysql</code></td><td>Miscellaneous support files, including error messages, character set
              files, sample configuration files, SQL for database
              installation</td></tr><tr><td><code class="filename">/usr/share/sql-bench</code></td><td>Benchmarks</td></tr></tbody></table></div><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        RPM distributions of MySQL are also provided by other vendors.
        Be aware that they may differ from those built by us in
        features, capabilities, and conventions (including communication
        setup), and that the instructions in this manual do not
        necessarily apply to installing them. The vendor's instructions
        should be consulted instead. Because of these differences, RPM
        packages built by us check whether such RPMs built by other
        vendors are installed. If so, the RPM does not install and
        produces a message explaining this.
      </p></div><p>
      In most cases, you need to install only the
      <code class="literal">MySQL-server</code> and
      <code class="literal">MySQL-client</code> packages to get a functional MySQL
      installation. The other packages are not required for a standard
      installation.
    </p><p><b>RPMs for MySQL Cluster. </b>
        Standard MySQL server RPMs built by MySQL do not provide support
        for the <a href="mysql-cluster.html" title="Chapter 16. MySQL Cluster NDB 7.2"><code class="literal">NDBCLUSTER</code></a> storage engine.
      </p><div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p xmlns="">
        When upgrading a MySQL Cluster RPM installation, you must
        upgrade <span class="emphasis"><em>all</em></span> installed RPMs, including the
        <code class="literal">Server</code> and <code class="literal">Client</code> RPMs.
      </p></div><p>
      For more information about installing MySQL Cluster from RPMs, see
      <a href="http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster-installation.html" target="_top">MySQL Cluster Installation</a>.
    </p><p>
      For upgrades, if your installation was originally produced by
      installing multiple RPM packages, it is best to upgrade all the
      packages, not just some. For example, if you previously installed
      the server and client RPMs, do not upgrade just the server RPM.
    </p><p>
      If you get a dependency failure when trying to install MySQL
      packages (for example, <code class="literal">error: removing these packages
      would break dependencies: libmysqlclient.so.10 is needed by
      ...</code>), you should also install the
      <code class="literal">MySQL-shared-compat</code> package, which includes the
      shared libraries for older releases for backward compatibility.
    </p><p>
      The RPM packages shown in the following list are available. The
      names shown here use a suffix of
      <code class="filename">.glibc23.i386.rpm</code>, but particular packages
      can have different suffixes, described later.
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          <code class="literal">MySQL-server-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          The MySQL server. You need this unless you only want to
          connect to a MySQL server running on another machine.
        </p></li><li><p>
          <code class="literal">MySQL-client-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          The standard MySQL client programs. You probably always want
          to install this package.
        </p></li><li><p>
          <code class="literal">MySQL-devel-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          The libraries and include files that are needed if you want to
          compile other MySQL clients, such as the Perl modules.
        </p></li><li><p>
          <code class="literal">MySQL-shared-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          This package contains the shared libraries
          (<code class="literal">libmysqlclient.so*</code>) that certain languages
          and applications need to dynamically load and use MySQL. It
          contains single-threaded and thread-safe libraries. Prior to
          MySQL 5.5.6, if you install this package, do not install the
          <code class="literal">MySQL-shared-compat</code> package.
        </p></li><li><p>
          <code class="literal">MySQL-shared-compat-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          This package includes the shared libraries for older releases.
          It contains single-threaded and thread-safe libraries. Install
          this package if you have applications installed that are
          dynamically linked against older versions of MySQL but you
          want to upgrade to the current version without breaking the
          library dependencies. Before MySQL 5.5.6,
          <code class="literal">MySQL-shared-compat</code> also includes the
          libraries for the current release, so if you install it, you
          should not also install <code class="literal">MySQL-shared</code>. As of
          5.5.6, <code class="literal">MySQL-shared-compat</code> does not include
          the current library version, so there is no conflict.
        </p></li><li><p>
          <code class="literal">MySQL-embedded-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          The embedded MySQL server library.
        </p></li><li><p>
          <code class="literal">MySQL-test-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code>
        </p><p>
          This package includes the MySQL test suite.
        </p></li><li><p>
          <code class="literal">MySQL-<em class="replaceable"><code>VERSION</code></em>.src.rpm</code>
        </p><p>
          This contains the source code for all of the previous
          packages. It can also be used to rebuild the RPMs on other
          architectures (for example, Alpha or SPARC).
        </p></li></ul></div><p>
      The suffix of RPM package names (following the
      <em class="replaceable"><code>VERSION</code></em> value) has the following
      syntax:
    </p><pre class="programlisting">.<em class="replaceable"><code>PLATFORM</code></em>.<em class="replaceable"><code>CPU</code></em>.rpm
</pre><p>
      The <em class="replaceable"><code>PLATFORM</code></em> and
      <em class="replaceable"><code>CPU</code></em> values indicate the type of system
      for which the package is built.
      <em class="replaceable"><code>PLATFORM</code></em> indicates the platform and
      <em class="replaceable"><code>CPU</code></em> indicates the processor type or
      family.
    </p><p>
      All packages are dynamically linked against
      <code class="literal">glibc</code> 2.3. The
      <em class="replaceable"><code>PLATFORM</code></em> value indicates whether the
      package is platform independent or intended for a specific
      platform, as shown in the following table.
    </p><div class="table"><a name="id525350"></a><p class="title"><b>Table 2.12. MySQL Linux Installation Packages</b></p><table summary="MySQL Linux Installation Packages" border="1"><colgroup><col><col></colgroup><thead><tr><th><em class="replaceable"><code>PLATFORM</code></em> Value</th><th>Intended Use</th></tr></thead><tbody><tr><td><code class="literal">glibc23</code></td><td>Platform independent, should run on any Linux distribution that supports
              <code class="literal">glibc</code> 2.3</td></tr><tr><td><code class="literal">rhel4</code>, <code class="literal">rhel5</code></td><td>Red Hat Enterprise Linux 4 or 5</td></tr><tr><td><code class="literal">el6</code></td><td>Enterprise Linux 6</td></tr><tr><td><code class="literal">sles10</code>, <code class="literal">sles11</code></td><td>SuSE Linux Enterprise Server 10 or 11</td></tr></tbody></table></div><p>
      In MySQL 5.5, only <code class="literal">glibc23</code>
      packages are available currently.
    </p><p>
      The <em class="replaceable"><code>CPU</code></em> value indicates the processor
      type or family for which the package is built.
    </p><div class="table"><a name="id525479"></a><p class="title"><b>Table 2.13. MySQL Installation Packages for Linux CPU Identifier</b></p><table summary="MySQL Installation Packages for Linux CPU Identifier" border="1"><colgroup><col><col></colgroup><thead><tr><th><em class="replaceable"><code>CPU</code></em> Value</th><th>Intended Processor Type or Family</th></tr></thead><tbody><tr><td><code class="literal">i386</code>, <code class="literal">i586</code>,
              <code class="literal">i686</code></td><td>Pentium processor or better, 32 bit</td></tr><tr><td><code class="literal">x86_64</code></td><td>64-bit x86 processor</td></tr><tr><td><code class="literal">ia64</code></td><td>Itanium (IA-64) processor</td></tr></tbody></table></div><p>
      To see all files in an RPM package (for example, a
      <code class="literal">MySQL-server</code> RPM), run a command like this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -qpl MySQL-server-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code></strong>
</pre><p>
      To perform a standard minimal installation, install the server and
      client RPMs:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -i MySQL-server-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code></strong>
shell&gt; <strong class="userinput"><code>rpm -i MySQL-client-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code></strong>
</pre><p>
      To install only the client programs, install just the client RPM:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -i MySQL-client-<em class="replaceable"><code>VERSION</code></em>.glibc23.i386.rpm</code></strong>
</pre><p>
      RPM provides a feature to verify the integrity and authenticity of
      packages before installing them. If you would like to learn more
      about this feature, see
      <a href="installing.html#verifying-package-integrity" title="2.1.4. Verifying Package Integrity Using MD5 Checksums or
      GnuPG">Section 2.1.4, “Verifying Package Integrity Using MD5 Checksums or
      <code class="literal">GnuPG</code>”</a>.
    </p><p>
      The server RPM places data under the
      <code class="filename">/var/lib/mysql</code> directory. The RPM also
      creates a login account for a user named <code class="literal">mysql</code>
      (if one does not exist) to use for running the MySQL server, and
      creates the appropriate entries in
      <code class="filename">/etc/init.d/</code> to start the server
      automatically at boot time. (This means that if you have performed
      a previous installation and have made changes to its startup
      script, you may want to make a copy of the script so that you do
      not lose it when you install a newer RPM.) See
      <a href="installing.html#automatic-start" title="2.10.1.2. Starting and Stopping MySQL Automatically">Section 2.10.1.2, “Starting and Stopping MySQL Automatically”</a>, for more information on how
      MySQL can be started automatically on system startup.
    </p><p>
      In MySQL 5.5.5 and later, during a new installation, the server
      boot scripts are installed, but the MySQL server is not started at
      the end of the installation, since the status of the server during
      an unattended installation is not known.
    </p><p>
      In MySQL 5.5.5 and later, during an upgrade installation using the
      RPM packages, if the MySQL server is running when the upgrade
      occurs, the MySQL server is stopped, the upgrade occurs, and the
      MySQL server is restarted. If the MySQL server is not already
      running when the RPM upgrade occurs, the MySQL server is not
      started at the end of the installation.
    </p><p>
      If something goes wrong, you can find more information in the
      binary installation section. See
      <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>.
    </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        The accounts that are listed in the MySQL grant tables initially
        have no passwords. After starting the server, you should set up
        passwords for them using the instructions in
        <a href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
      </p></div><p>
      During RPM installation, a user named <code class="literal">mysql</code> and
      a group named <code class="literal">mysql</code> are created on the system.
      This is done using the <span><strong class="command">useradd</strong></span>,
      <span><strong class="command">groupadd</strong></span>, and <span><strong class="command">usermod</strong></span>
      commands. Those commands require appropriate administrative
      privileges, which is required for locally managed users and groups
      (as listed in the <code class="filename">/etc/passwd</code> and
      <code class="filename">/etc/group</code> files) by the RPM installation
      process being run by <code class="literal">root</code>.
    </p><p>
      If you log in as the <code class="literal">mysql</code> user, you may find
      that MySQL displays “<span class="quote">Invalid (old?) table or database
      name</span>” errors that mention <code class="filename">.mysqlgui</code>,
      <code class="filename">lost+found</code>, <code class="filename">.mysqlgui</code>,
      <code class="filename">.bash_history</code>,
      <code class="filename">.fonts.cache-1</code>,
      <code class="filename">.lesshst</code>,
      <code class="filename">.mysql_history</code>,
      <code class="filename">.profile</code>, <code class="filename">.viminfo</code>, and
      similar files created by MySQL or operating system utilities. You
      can safely ignore these error messages or remove the files or
      directories that cause them if you do not need them.
    </p><p>
      For nonlocal user management (LDAP, NIS, and so forth), the
      administrative tools may require additional authentication (such
      as a password), and will fail if the installing user does not
      provide this authentication. Even if they fail, the RPM
      installation will not abort but succeed, and this is intentional.
      If they failed, some of the intended transfer of ownership may be
      missing, and it is recommended that the system administrator then
      manually ensures some appropriate user and group exists and
      manually transfers ownership following the actions in the RPM spec
      file.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-native"></a>2.5.2. Installing MySQL on Linux using Native Package Manager</h3></div></div></div><p>
      Many Linux distributions include a version of the MySQL server,
      client tools, and development components into the standard package
      management system built into distributions such as Fedora, Debian,
      Ubuntu, and Gentoo. This section provides basic instructions for
      installing MySQL using these systems.
    </p><div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Important</div><p xmlns="">
        Native package installations can take care of the download and
        dependencies required to run MySQL, but the MySQL version will
        often be some way behind the currently available release. You
        will also normally be unable to install developmental releases,
        as these are not usually made available in the native
        repository.
      </p></div><p>
      Distribution specific instructions are shown below:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          <span class="bold"><strong>Red Hat Linux, Fedora, CentOS</strong></span>
        </p><p>
          For Red Hat and similar distributions, the MySQL distribution
          is divided into a number of separate packages,
          <code class="literal">mysql</code> for the client tools,
          <code class="literal">mysql-server</code> for the server and associated
          tools, and <code class="literal">mysql-libs</code> for the libraries.
          The libraries are required if you want to provide connectivity
          from different languages and environments such as Perl, Python
          and others.
        </p><p>
          To install, use the <span><strong class="command">yum</strong></span> command to specify
          the packages that you want to install. For example:
        </p><pre class="programlisting">root-shell&gt; yum install mysql mysql-server mysql-libs mysql-server
Loaded plugins: presto, refresh-packagekit
Setting up Install Process
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package mysql.x86_64 0:5.1.48-2.fc13 set to be updated
---&gt; Package mysql-libs.x86_64 0:5.1.48-2.fc13 set to be updated
---&gt; Package mysql-server.x86_64 0:5.1.48-2.fc13 set to be updated
--&gt; Processing Dependency: perl-DBD-MySQL for package: mysql-server-5.1.48-2.fc13.x86_64
--&gt; Running transaction check
---&gt; Package perl-DBD-MySQL.x86_64 0:4.017-1.fc13 set to be updated
--&gt; Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package               Arch          Version               Repository      Size
================================================================================
Installing:
 mysql                 x86_64        5.1.48-2.fc13         updates        889 k
 mysql-libs            x86_64        5.1.48-2.fc13         updates        1.2 M
 mysql-server          x86_64        5.1.48-2.fc13         updates        8.1 M
Installing for dependencies:
 perl-DBD-MySQL        x86_64        4.017-1.fc13          updates        136 k

Transaction Summary
================================================================================
Install       4 Package(s)
Upgrade       0 Package(s)

Total download size: 10 M
Installed size: 30 M
Is this ok [y/N]: y
Downloading Packages:
Setting up and reading Presto delta metadata
Processing delta metadata
Package(s) data still to download: 10 M
(1/4): mysql-5.1.48-2.fc13.x86_64.rpm                    | 889 kB     00:04     
(2/4): mysql-libs-5.1.48-2.fc13.x86_64.rpm               | 1.2 MB     00:06     
(3/4): mysql-server-5.1.48-2.fc13.x86_64.rpm             | 8.1 MB     00:40     
(4/4): perl-DBD-MySQL-4.017-1.fc13.x86_64.rpm            | 136 kB     00:00     
--------------------------------------------------------------------------------
Total                                           201 kB/s |  10 MB     00:52     
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing     : mysql-libs-5.1.48-2.fc13.x86_64                          1/4 
  Installing     : mysql-5.1.48-2.fc13.x86_64                               2/4 
  Installing     : perl-DBD-MySQL-4.017-1.fc13.x86_64                       3/4 
  Installing     : mysql-server-5.1.48-2.fc13.x86_64                        4/4 

Installed:
  mysql.x86_64 0:5.1.48-2.fc13            mysql-libs.x86_64 0:5.1.48-2.fc13    
  mysql-server.x86_64 0:5.1.48-2.fc13    

Dependency Installed:
  perl-DBD-MySQL.x86_64 0:4.017-1.fc13                                          

Complete!</pre><p>
          MySQL and the MySQL server should now be installed. A sample
          configuration file is installed into
          <code class="filename">/etc/my.cnf</code>. An init script, to start and
          stop the server, will have been installed into
          <code class="filename">/etc/init.d/mysqld</code>. To start the MySQL
          server use <span><strong class="command">service</strong></span>:
        </p><pre class="programlisting">root-shell&gt; service mysqld start</pre><p>
          To enable the server to be started and stopped automatically
          during boot, use <span><strong class="command">chkconfig</strong></span>:
        </p><pre class="programlisting">root-shell&gt; chkconfig --levels 235 mysqld on</pre><p>
          Which enables the MySQL server to be started (and stopped)
          automatically at the specified the run levels.
        </p><p>
          The database tables will have been automatically created for
          you, if they do not already exist. You should, however, run
          <a href="programs.html#mysql-secure-installation" title="4.4.5. mysql_secure_installation — Improve MySQL Installation Security"><span><strong class="command">mysql_secure_installation</strong></span></a> to set the root
          passwords on your server.
        </p></li><li><p>
          <span class="bold"><strong>Debian, Ubuntu, Kubuntu</strong></span>
        </p><p>
          On Debian and related distributions, there are two packages,
          <code class="literal">mysql-client</code> and
          <code class="literal">mysql-server</code>, for the client and server
          components respectively. You should specify an explicit
          version, for example <code class="literal">mysql-client-5.1</code>, to
          ensure that you install the version of MySQL that you want.
        </p><p>
          To download and install, including any dependencies, use the
          <span><strong class="command">apt-get</strong></span> command, specifying the packages
          that you want to install.
        </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
            Before installing, make sure that you update your
            <code class="literal">apt-get</code> index files to ensure you are
            downloading the latest available version.
          </p></div><p>
          A sample installation of the MySQL packages might look like
          this (some sections trimmed for clarity):
        </p><pre class="programlisting">root-shell&gt; apt-get install mysql-client-5.1 mysql-server-5.1
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following packages were automatically installed and are no longer required:
  linux-headers-2.6.28-11 linux-headers-2.6.28-11-generic
Use 'apt-get autoremove' to remove them.
The following extra packages will be installed:
  bsd-mailx libdbd-mysql-perl libdbi-perl libhtml-template-perl
  libmysqlclient15off libmysqlclient16 libnet-daemon-perl libplrpc-perl mailx
  mysql-common postfix
Suggested packages:
  dbishell libipc-sharedcache-perl tinyca procmail postfix-mysql postfix-pgsql
  postfix-ldap postfix-pcre sasl2-bin resolvconf postfix-cdb
The following NEW packages will be installed
  bsd-mailx libdbd-mysql-perl libdbi-perl libhtml-template-perl
  libmysqlclient15off libmysqlclient16 libnet-daemon-perl libplrpc-perl mailx
  mysql-client-5.1 mysql-common mysql-server-5.1 postfix
0 upgraded, 13 newly installed, 0 to remove and 182 not upgraded.
Need to get 1907kB/25.3MB of archives.
After this operation, 59.5MB of additional disk space will be used.
Do you want to continue [Y/n]? Y
Get: 1 http://gb.archive.ubuntu.com jaunty-updates/main mysql-common 5.1.30really5.0.75-0ubuntu10.5 [63.6kB]
Get: 2 http://gb.archive.ubuntu.com jaunty-updates/main libmysqlclient15off 5.1.30really5.0.75-0ubuntu10.5 [1843kB]
Fetched 1907kB in 9s (205kB/s)                                                 
Preconfiguring packages ...
Selecting previously deselected package mysql-common.
(Reading database ... 121260 files and directories currently installed.)
...
Processing 1 added doc-base file(s)...
Registering documents with scrollkeeper...
Setting up libnet-daemon-perl (0.43-1) ...
Setting up libplrpc-perl (0.2020-1) ...
Setting up libdbi-perl (1.607-1) ...
Setting up libmysqlclient15off (5.1.30really5.0.75-0ubuntu10.5) ...

Setting up libdbd-mysql-perl (4.008-1) ...
Setting up libmysqlclient16 (5.1.31-1ubuntu2) ...

Setting up mysql-client-5.1 (5.1.31-1ubuntu2) ...

Setting up mysql-server-5.1 (5.1.31-1ubuntu2) ...
 * Stopping MySQL database server mysqld
   ...done.
100825 11:46:15  InnoDB: Started; log sequence number 0 46409
100825 11:46:15  InnoDB: Starting shutdown...
100825 11:46:17  InnoDB: Shutdown completed; log sequence number 0 46409
100825 11:46:17 [Warning] Forcing shutdown of 1 plugins
 * Starting MySQL database server mysqld
   ...done.
 * Checking for corrupt, not cleanly closed and upgrade needing tables.
...
Processing triggers for libc6 ...
ldconfig deferred processing now taking place</pre><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
            The <span><strong class="command">apt-get</strong></span> command will install a number
            of packages, including the MySQL server, in order to provide
            the typical tools and application environment. This can mean
            that you install a large number of packages in addition to
            the main MySQL package.
          </p></div><p>
          During installation, the initial database will be created, and
          you will be prompted for the MySQL root password (and
          confirmation). A configuration file will have been created in
          <code class="filename">/etc/mysql/my.cnf</code>. An init script will
          have been created in <code class="filename">/etc/init.d/mysql</code>.
        </p><p>
          The server will already be started. You can manually start and
          stop the server using:
        </p><pre class="programlisting">root-shell&gt; service mysql [start|stop]</pre><p>
          The service will automatically be added to the 2, 3 and 4 run
          levels, with stop scripts in the single, shutdown and restart
          levels.
        </p></li><li><p>
          <span class="bold"><strong>Gentoo Linux</strong></span>
        </p><p>
          As a source-based distribution, installing MySQL on Gentoo
          involves downloading the source, patching the Gentoo
          specifics, and then compiling the MySQL server and installing
          it. This process is handled automatically by the
          <span><strong class="command">emerge</strong></span> command. Depending on the version of
          MySQL that you want to install, you may need to unmask the
          specific version that you want for your chosen platform.
        </p><p>
          The MySQL server and client tools are provided within a single
          package, <code class="literal">dev-db/mysql</code>. You can obtain a
          list of the versions available to install by looking at the
          portage directory for the package:
        </p><pre class="programlisting">root-shell&gt; ls /usr/portage/dev-db/mysql/mysql-5.1*
mysql-5.1.39-r1.ebuild
mysql-5.1.44-r1.ebuild
mysql-5.1.44-r2.ebuild
mysql-5.1.44-r3.ebuild
mysql-5.1.44.ebuild
mysql-5.1.45-r1.ebuild
mysql-5.1.45.ebuild
mysql-5.1.46.ebuild</pre><p>
          To install a specific MySQL version, you must specify the
          entire atom. For example:
        </p><pre class="programlisting">root-shell&gt; emerge =dev-db/mysql-5.1.46</pre><p>
          A simpler alternative is to use the
          <code class="literal">virtual/mysql-5.1</code> package, which will
          install the latest version:
        </p><pre class="programlisting">root-shell&gt; emerge =virtual/mysql-5.1</pre><p>
          If the package is masked (because it is not tested or
          certified for the current platform), use the
          <code class="literal">ACCEPT_KEYWORDS</code> environment variable. For
          example:
        </p><pre class="programlisting">root-shell&gt; ACCEPT_KEYWORDS="~x86" emerge =virtual/mysql-5.1</pre><p>
          After installation, you should create a new database using
          <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>, and set the password for
          the root user on MySQL. You can use the configuration
          interface to set the password and create the initial database:
        </p><pre class="programlisting">root-shell&gt; emerge --config =dev-db/mysql-5.1.46</pre><p>
          A sample configuration file will have been created for you in
          <code class="filename">/etc/mysql/my.cnf</code>, and an init script
          will have been created in
          <code class="filename">/etc/init.d/mysql</code>.
        </p><p>
          To enable MySQL to start automatically at the normal (default)
          run levels, you can use:
        </p><pre class="programlisting">root-shell&gt; rc-update add mysql default</pre></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="solaris-installation"></a>2.6. Installing MySQL on Solaris and OpenSolaris</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#solaris-installation-pkg">2.6.1. Installing MySQL on Solaris using a Solaris <code class="literal">PKG</code></a></span></dt><dt><span class="section"><a href="installing.html#solaris-installation-opensolaris">2.6.2. Installing MySQL on OpenSolaris using IPS</a></span></dt></dl></div><a class="indexterm" name="id526334"></a><a class="indexterm" name="id526347"></a><a class="indexterm" name="id526359"></a><a class="indexterm" name="id526371"></a><a class="indexterm" name="id526380"></a><a class="indexterm" name="id526393"></a><a class="indexterm" name="id526405"></a><a class="indexterm" name="id526417"></a><a class="indexterm" name="id526426"></a><p>
    MySQL on Solaris and OpenSolaris is available in a number of
    different formats.
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        For information on installing using the native Solaris
        <code class="literal">PKG</code> format, see
        <a href="installing.html#solaris-installation-pkg" title="2.6.1. Installing MySQL on Solaris using a Solaris PKG">Section 2.6.1, “Installing MySQL on Solaris using a Solaris <code class="literal">PKG</code>”</a>.
      </p></li><li><p>
        On OpenSolaris, the standard package repositories include MySQL
        packages specially built for OpenSolaris that include entries
        for the Service Management Framework (SMF) to enable control of
        the installation using the SMF administration commands. For more
        information, see
        <a href="installing.html#solaris-installation-opensolaris" title="2.6.2. Installing MySQL on OpenSolaris using IPS">Section 2.6.2, “Installing MySQL on OpenSolaris using IPS”</a>.
      </p></li><li><p>
        To use a standard <code class="literal">tar</code> binary installation,
        use the notes provided in <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>.
        Check the notes and hints at the end of this section for Solaris
        specific notes that you may need before or after installation.
      </p></li></ul></div><p>
    To obtain a binary MySQL distribution for Solaris in tarball or PKG
    format,
    <a href="http://dev.mysql.com/downloads/mysql/5.5.html" target="_top">http://dev.mysql.com/downloads/mysql/5.5.html</a>.
  </p><p>
    Additional notes to be aware of when installing and using MySQL on
    Solaris:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        If you want to use MySQL with the <code class="literal">mysql</code> user
        and group, use the <span><strong class="command">groupadd</strong></span> and
        <span><strong class="command">useradd</strong></span> commands:
      </p><pre class="programlisting">groupadd mysql
useradd -g mysql mysql</pre></li><li><p>
        If you install MySQL using a binary tarball distribution on
        Solaris, you may run into trouble even before you get the MySQL
        distribution unpacked, as the Solaris <span><strong class="command">tar</strong></span>
        cannot handle long file names. This means that you may see
        errors when you try to unpack MySQL.
      </p><p>
        If this occurs, you must use GNU <span><strong class="command">tar</strong></span>
        (<span><strong class="command">gtar</strong></span>) to unpack the distribution. In Solaris
        10 and OpenSolaris <span><strong class="command">gtar</strong></span> is normally located
        in <code class="filename">/usr/sfw/bin/gtar</code>, but may not be
        included in the default path definition.
      </p></li><li><p>
        When using Solaris 10 for x86_64, you should mount any file
        systems on which you intend to store <code class="literal">InnoDB</code>
        files with the <code class="literal">forcedirectio</code> option. (By
        default mounting is done without this option.) Failing to do so
        will cause a significant drop in performance when using the
        <code class="literal">InnoDB</code> storage engine on this platform.
      </p></li><li><p>
        If you would like MySQL to start automatically, you can copy
        <code class="filename">support-files/mysql.server</code> to
        <code class="filename">/etc/init.d</code> and create a symbolic link to
        it named <code class="filename">/etc/rc3.d/S99mysql.server</code>.
      </p></li><li><p>
        If too many processes try to connect very rapidly to
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>, you should see this error in the
        MySQL log:
      </p><pre class="programlisting">Error in accept: Protocol error</pre><p>
        You might try starting the server with the
        <a href="server-administration.html#sysvar_back_log"><code class="option">--back_log=50</code></a> option as a
        workaround for this.
      </p></li><li><p>
        To configure the generation of core files on Solaris you should
        use the <span><strong class="command">coreadm</strong></span> command. Because of the
        security implications of generating a core on a
        <code class="literal">setuid()</code> application, by default, Solaris
        does not support core files on <code class="literal">setuid()</code>
        programs. However, you can modify this behavior using
        <span><strong class="command">coreadm</strong></span>. If you enable
        <code class="literal">setuid()</code> core files for the current user,
        they will be generated using the mode 600 and owned by the
        superuser.
      </p></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="solaris-installation-pkg"></a>2.6.1. Installing MySQL on Solaris using a Solaris <code class="literal">PKG</code></h3></div></div></div><p>
      You can install MySQL on Solaris and OpenSolaris using a binary
      package using the native Solaris PKG format instead of the binary
      tarball distribution.
    </p><p>
      To use this package, download the corresponding
      <code class="filename">mysql-VERSION-solaris10-PLATFORM.pkg.gz</code> file,
      then decompress it. For example:
    </p><pre class="programlisting">shell&gt; gunzip mysql-<em class="replaceable"><code>5.5.22</code></em>-solaris10-x86_64.pkg.gz
</pre><p>
      To install a new package, use <span><strong class="command">pkgadd</strong></span> and follow
      the onscreen prompts. You must have root privileges to perform
      this operation:
    </p><pre class="programlisting">shell&gt; pkgadd -d mysql-<em class="replaceable"><code>5.5.22</code></em>-solaris10-x86_64.pkg

The following packages are available:
  1  mysql     MySQL Community Server (GPL)
               (i86pc) 5.5.22

Select package(s) you wish to process (or 'all' to process
all packages). (default: all) [?,??,q]: 
</pre><p>
      The <code class="literal">PKG</code> installer installs all of the files and
      tools needed, and then initializes your database if one does not
      exist. To complete the installation, you should set the root
      password for MySQL as provided in the instructions at the end of
      the installation. Alternatively, you can run the
      <a href="programs.html#mysql-secure-installation" title="4.4.5. mysql_secure_installation — Improve MySQL Installation Security"><span><strong class="command">mysql_secure_installation</strong></span></a> script that comes
      with the installation.
    </p><p>
      The default installation directory is
      <code class="filename">/opt/mysql</code>. You can only change the root path
      of the installation when using <span><strong class="command">pkgadd</strong></span>, which
      can be used to install MySQL in a different Solaris zone. If you
      need to install in a specific directory, use the binary
      <code class="literal">tar</code> file.
    </p><p>
      The <code class="literal">pkg</code> installer copies a suitable startup
      script for MySQL into <code class="literal">/etc/init.d/mysql</code>. To
      enable MySQL to startup and shutdown automatically, you should
      create a link between this file and the init script directories.
      For example, to ensure safe startup and shutdown of MySQL you
      could use the following commands to add the right links:
    </p><pre class="programlisting">shell&gt; ln /etc/init.d/mysql /etc/rc3.d/S91mysql
shell&gt; ln /etc/init.d/mysql /etc/rc0.d/K02mysql</pre><p>
      To remove MySQL, the installed package name is
      <code class="literal">mysql</code>. You can use this in combination with the
      <span><strong class="command">pkgrm</strong></span> command to remove the installation.
    </p><p>
      To upgrade when using the Solaris package file format, you must
      remove the existing installation before installing the updated
      package. Removal of the package does not delete the existing
      database information, only the server, binaries and support files.
      The typical upgrade sequence is therefore:
    </p><pre class="programlisting">shell&gt; mysqladmin shutdown
shell&gt; pkgrm mysql
shell&gt; pkgadd -d mysql-<em class="replaceable"><code>5.5.22</code></em>-solaris10-x86_64.pkg 
shell&gt; mysql_upgrade
shell&gt; mysqld_safe &amp;
</pre><p>
      You should check the notes in
      <a href="installing.html#upgrading-downgrading" title="2.11. Upgrading or Downgrading MySQL">Section 2.11, “Upgrading or Downgrading MySQL”</a> before performing any
      upgrade.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="solaris-installation-opensolaris"></a>2.6.2. Installing MySQL on OpenSolaris using IPS</h3></div></div></div><p>
      OpenSolaris includes standard packages for MySQL in the core
      repository. The MySQL packages are based on a specific release of
      MySQL and updated periodically. For the latest release you must
      use either the native Solaris <code class="literal">PKG</code>,
      <code class="literal">tar</code>, or source installations. The native
      OpenSolaris packages include SMF files so that you can easily
      control your MySQL installation, including automatic startup and
      recovery, using the native service management tools.
    </p><p>
      To install MySQL on OpenSolaris, use the <span><strong class="command">pkg</strong></span>
      command. You will need to be logged in as root, or use the
      <span><strong class="command">pfexec</strong></span> tool, as shown in the example below:
    </p><pre class="programlisting">shell&gt; pfexec pkg install SUNWmysql55</pre><p>
      The package set installs three individual packages,
      <code class="literal">SUNWmysql55lib</code>, which
      contains the MySQL client libraries;
      <code class="literal">SUNWmysql55r</code> which contains
      the root components, including SMF and configuration files; and
      <code class="literal">SUNWmysql55u</code> which contains
      the scripts, binary tools and other files. You can install these
      packages individually if you only need the corresponding
      components.
    </p><p>
      The MySQL files are installed into <code class="filename">/usr/mysql</code>
      which symbolic links for the sub directories
      (<code class="filename">bin</code>, <code class="filename">lib</code>, etc.) to a
      version specific directory. For MySQL 5.5, the full
      installation is located in
      <code class="filename">/usr/mysql/5.5</code>. The default data
      directory is
      <code class="filename">/var/mysql/5.5/data</code>. The
      configuration file is installed in
      <code class="filename">/etc/mysql/5.5/my.cnf</code>. This
      layout permits multiple versions of MySQL to be installed, without
      overwriting the data and binaries from other versions.
    </p><p>
      Once installed, you must run <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>
      to initialize the database, and use the
      <a href="programs.html#mysql-secure-installation" title="4.4.5. mysql_secure_installation — Improve MySQL Installation Security"><span><strong class="command">mysql_secure_installation</strong></span></a> to secure your
      installation.
    </p><h4><a name="id527016"></a>
      Using SMF to manage your MySQL installation
    </h4><p>
      Once installed, you can start and stop your MySQL server using the
      installed SMF configuration. The service name is
      <code class="literal">mysql</code>, or if you have multiple versions
      installed, you should use the full version name, for example
      <code class="literal">mysql:version_55</code>. To start
      and enable MySQL to be started at boot time:
    </p><pre class="programlisting">shell&gt; svcadm enable mysql</pre><p>
      To disable MySQL from starting during boot time, and shut the
      MySQL server down if it is running, use:
    </p><pre class="programlisting">shell&gt; svcadm disable mysql</pre><p>
      To restart MySQL, for example after a configuration file changes,
      use the <code class="literal">restart</code> option:
    </p><pre class="programlisting">shell&gt; svcadm restart mysql</pre><p>
      You can also use SMF to configure the data directory and enable
      full 64-bit mode. For example, to set the data directory used by
      MySQL:
    </p><pre class="programlisting">shell&gt; svccfg 
svc:&gt; select mysql:version_55 
svc:/application/database/mysql:version_55&gt; setprop mysql/data=/data0/mysql
  </pre><p>
      By default, the 32-bit binaries are used. To enable the 64-bit
      server on 64-bit platforms, set the
      <code class="literal">enable_64bit</code> parameter. For example:
    </p><pre class="programlisting">svc:/application/database/mysql:version_55&gt; setprop mysql/enable_64bit=1 </pre><p>
      You need to refresh the SMF after settings these options:
    </p><pre class="programlisting">shell&gt; svcadm refresh mysql</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="hpux-installation"></a>2.7. Installing MySQL on HP-UX</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#hpux-installation-general">2.7.1. General Notes on Installing MySQL on HP-UX</a></span></dt><dt><span class="section"><a href="installing.html#hpux-installation-depot">2.7.2. Installing MySQL on HP-UX using DEPOT</a></span></dt></dl></div><a class="indexterm" name="id527119"></a><p>
    MySQL for HP-UX is available in a number of different forms:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        Using a DEPOT distribution provided at
        <a href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>. Please read the
        <a href="installing.html#hpux-installation-general" title="2.7.1. General Notes on Installing MySQL on HP-UX">general notes on HP-UX
        installation</a> before continuing. For more information on
        DEPOT installations, see
        <a href="installing.html#hpux-installation-depot" title="2.7.2. Installing MySQL on HP-UX using DEPOT">Section 2.7.2, “Installing MySQL on HP-UX using DEPOT”</a>.
      </p></li><li><p>
        Using a binary tarball distribution provided at
        <a href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>. Please read the
        <a href="installing.html#hpux-installation-general" title="2.7.1. General Notes on Installing MySQL on HP-UX">general notes on HP-UX
        installation</a> before continuing. For more information on
        binary installations, see <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>.
      </p></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="hpux-installation-general"></a>2.7.1. General Notes on Installing MySQL on HP-UX</h3></div></div></div><p>
      Some additional notes on installing and using MySQL on HP-UX:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          If you install MySQL using a binary tarball distribution on
          HP-UX, you may run into trouble even before you get the MySQL
          distribution unpacked, as the HP-UX <span><strong class="command">tar</strong></span>
          cannot handle long file names. This means that you may see
          errors when you try to unpack MySQL.
        </p><p>
          If this occurs, you must use GNU <span><strong class="command">tar</strong></span>
          (<span><strong class="command">gtar</strong></span>) to unpack the distribution.
        </p></li><li><p>
          Because of some critical bugs in the standard HP-UX libraries,
          you should install the following patches before trying to run
          MySQL on HP-UX 11.0:
        </p><pre class="programlisting">PHKL_22840 Streams cumulative
PHNE_22397 ARPA cumulative</pre><p>
          This solves the problem of getting
          <code class="literal">EWOULDBLOCK</code> from <code class="literal">recv()</code>
          and <code class="literal">EBADF</code> from <code class="literal">accept()</code>
          in threaded applications.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="hpux-installation-depot"></a>2.7.2. Installing MySQL on HP-UX using DEPOT</h3></div></div></div><p>
      The HP-UX DEPOT format packages can be installed using the
      <span><strong class="command">swinstall</strong></span> command. You should install the
      <code class="literal">ncurses</code> and <code class="literal">zlib</code> libraries
      before installing the MySQL DEPOT package. You can use the free
      software <code class="literal">depothelper</code> tool to install these
      packages and any dependencies for you automatically.
    </p><p>
      To install using the MySQL DEPOT packages, follow this guide:
    </p><div class="orderedlist"><ol type="1"><li><p>
          Download the MySQL DEPOT package from
          <a href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>. You must decompress the
          package before installation:
        </p><pre class="programlisting">root-shell&gt; gunzip mysql-5.1.48-hpux11.31-ia64-64bit.depot.gz</pre></li><li><p>
          Install the DEPOT package using <span><strong class="command">swinstall</strong></span>:
        </p><pre class="programlisting">root-shell&gt; swinstall -s <em class="replaceable"><code>mysql-5.1.49-hpux11.31-ia64-64bit.depot</code></em></pre><p>
          MySQL will be installed into a directory matching the depot
          package name, within <code class="filename">/usr/local</code>. For
          convenience, you may want to create a symbolic link to the
          installed directory, for example:
        </p><pre class="programlisting">root-shell&gt; ln -s mysql-5.1.49-hpux11.31-ia64-64bit mysql</pre></li><li><p>
          Your package is now installed. You should complete the
          configuration of MySQL by creating a user and group:
        </p><pre class="programlisting">root-shell&gt; /usr/sbin/groupadd mysql
root-shell&gt; /usr/sbin/useradd -g mysql -d /var/lib/mysql/ -s /bin/false mysql</pre></li><li><p>
          Create the standard database using the new user/group you have
          created, and set the permissions:
        </p><pre class="programlisting">root-shell&gt; cd /usr/local/
root-shell&gt; scripts/mysql_install_db --user=mysql
root-shell&gt; chown -R root .
root-shell&gt; chown -R mysql data</pre></li><li><p>
          Finally, secure your new installation by setting the root
          passwords, and then start your MySQL server using the
          <code class="literal">mysql</code> user:
        </p><pre class="programlisting">root-shell&gt; mysql_secure_installation
root-shell&gt; mysqld_safe --user=mysql &amp;</pre></li></ol></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="freebsd-installation"></a>2.8. Installing MySQL on FreeBSD</h2></div></div></div><p>
    This section provides information about installing MySQL on variants
    of FreeBSD Unix.
  </p><p>
    You can install MySQL on FreeBSD by using the binary distribution
    provided by Oracle. For more information, see
    <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>.
  </p><p>
    The easiest (and preferred) way to install MySQL is to use the
    <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql-server</strong></span></a> and <code class="literal">mysql-client</code>
    ports available at <a href="http://www.freebsd.org/" target="_top">http://www.freebsd.org/</a>. Using
    these ports gives you the following benefits:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        A working MySQL with all optimizations enabled that are known to
        work on your version of FreeBSD.
      </p></li><li><p>
        Automatic configuration and build.
      </p></li><li><p>
        Startup scripts installed in
        <code class="filename">/usr/local/etc/rc.d</code>.
      </p></li><li><p>
        The ability to use <code class="literal">pkg_info -L</code> to see which
        files are installed.
      </p></li><li><p>
        The ability to use <code class="literal">pkg_delete</code> to remove MySQL
        if you no longer want it on your machine.
      </p></li></ul></div><p>
    The MySQL build process requires GNU make (<span><strong class="command">gmake</strong></span>)
    to work. If GNU <span><strong class="command">make</strong></span> is not available, you must
    install it first before compiling MySQL.
  </p><p>
    To install using the ports system:
  </p><pre class="programlisting"># cd /usr/ports/databases/mysql51-server
# make
...
# cd /usr/ports/databases/mysql51-client
# make
...</pre><p>
    The standard port installation places the server into
    <code class="filename">/usr/local/libexec/mysqld</code>, with the startup
    script for the MySQL server placed in
    <code class="filename">/usr/local/etc/rc.d/mysql-server</code>.
  </p><p>
    Some additional notes on the BSD implementation:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        To remove MySQL after installation using the ports system:
      </p><pre class="programlisting"># cd /usr/ports/databases/mysql51-server
# make deinstall
...
# cd /usr/ports/databases/mysql51-client
# make deinstall
...</pre></li><li><p>
        If you get problems with the current date in MySQL, setting the
        <code class="literal">TZ</code> variable should help. See
        <a href="installing.html#environment-variables" title="2.12. Environment Variables">Section 2.12, “Environment Variables”</a>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="source-installation"></a>2.9. Installing MySQL from Source</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#source-installation-layout">2.9.1. MySQL Layout for Source Installation</a></span></dt><dt><span class="section"><a href="installing.html#installing-source-distribution">2.9.2. Installing MySQL from a Standard Source Distribution</a></span></dt><dt><span class="section"><a href="installing.html#installing-development-tree">2.9.3. Installing MySQL from a Development Source Tree</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-options">2.9.4. MySQL Source-Configuration Options</a></span></dt><dt><span class="section"><a href="installing.html#compilation-problems">2.9.5. Dealing with Problems Compiling MySQL</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-third-party">2.9.6. MySQL Configuration and Third-Party Tools</a></span></dt></dl></div><a class="indexterm" name="id527647"></a><a class="indexterm" name="id527659"></a><a class="indexterm" name="id527671"></a><p>
    Building MySQL from the source code enables you to customize build
    parameters, compiler optimizations, and installation location. For a
    list of systems on which MySQL is known to run, see
    <a href="installing.html#supported-os" title="2.1.1. Operating Systems Supported by MySQL Community Server">Section 2.1.1, “Operating Systems Supported by MySQL Community Server”</a>.
  </p><p>
    Before you proceed with an installation from source, check whether
    Oracle produces a precompiled binary distribution for your platform
    and whether it works for you. We put a great deal of effort into
    ensuring that our binaries are built with the best possible options
    for optimal performance. Instructions for installing binary
    distributions are available in
    <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>.
  </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
      This section describes how to build MySQL from source using
      <span><strong class="command">CMake</strong></span>. Before MySQL 5.5, source
      builds used the GNU autotools on Unix-like systems. Source builds
      on Windows used <span><strong class="command">CMake</strong></span>, but the process was
      different from that described here. For source-building
      instructions for older versions of MySQL, see
      <a href="http://dev.mysql.com/doc/refman/5.1/en/source-installation.html" target="_top">Installing MySQL from Source</a>, in the MySQL 5.1
      Reference Manual. If you are familiar with autotools but not
      <span><strong class="command">CMake</strong></span>, you might find this transition document
      helpful:
      <a href="http://forge.mysql.com/wiki/Autotools_to_CMake_Transition_Guide" target="_top">http://forge.mysql.com/wiki/Autotools_to_CMake_Transition_Guide</a>
    </p></div><h3><a name="id527741"></a>
    Source Installation Methods
  </h3><p>
    There are two methods for installing MySQL from source:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        Use a standard MySQL source distribution. To obtain a standard
        distribution, see <a href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>. For
        instructions on building from a standard distribution, see
        <a href="installing.html#installing-source-distribution" title="2.9.2. Installing MySQL from a Standard Source Distribution">Section 2.9.2, “Installing MySQL from a Standard Source Distribution”</a>.
      </p><p>
        Standard distributions are available as compressed
        <span><strong class="command">tar</strong></span> files, Zip archives, or RPM packages.
        Distribution files have names of the form
        <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code>,
        <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.zip</code>,
        or
        <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.rpm</code>,
        where <em class="replaceable"><code>VERSION</code></em> is a number like
        <code class="literal">5.5.22</code>. File names for source
        distributions can be distinguished from those for precompiled
        binary distributions in that source distribution names are
        generic and include no platform name, whereas binary
        distribution names include a platform name indicating the type
        of system for which the distribution is intended (for example,
        <code class="literal">pc-linux-i686</code> or <code class="literal">winx64</code>).
      </p></li><li><p>
        Use a MySQL development tree. Development trees have not
        necessarily received the same level of testing as standard
        release distributions, so this installation method is usually
        required only if you need the most recent code changes. For
        information on building from one of the development trees, see
        <a href="installing.html#installing-development-tree" title="2.9.3. Installing MySQL from a Development Source Tree">Section 2.9.3, “Installing MySQL from a Development Source Tree”</a>.
      </p></li></ul></div><h3><a name="id527847"></a>
    Source Installation System Requirements
  </h3><p>
    Installation of MySQL from source requires several development
    tools. Some of these tools are needed no matter whether you use a
    standard source distribution or a development source tree. Other
    tool requirements depend on which installation method you use.
  </p><p>
    To install MySQL from source, your system must have the following
    tools, regardless of installation method:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        <span><strong class="command">CMake</strong></span>, which is used as the build framework
        on all platforms. <span><strong class="command">CMake</strong></span> can be downloaded
        from <a href="http://www.cmake.org" target="_top">http://www.cmake.org</a>.
      </p></li><li><p>
        A good <span><strong class="command">make</strong></span> program. Although some platforms
        come with their own <span><strong class="command">make</strong></span> implementations, it
        is highly recommended that you use GNU <span><strong class="command">make</strong></span>
        3.75 or newer. It may already be available on your system as
        <span><strong class="command">gmake</strong></span>. GNU <span><strong class="command">make</strong></span> is
        available from <a href="http://www.gnu.org/software/make/" target="_top">http://www.gnu.org/software/make/</a>.
      </p></li><li><p>
        A working ANSI C++ compiler. GCC 4.2.1 or later, Sun Studio 10
        or later, Visual Studio 2008 or later, and many current
        vendor-supplied compilers are known to work.
      </p></li><li><p>
        Perl is needed if you intend to run test scripts. Most Unix-like
        systems include Perl. On Windows, you can use a version such as
        ActiveState Perl.
      </p></li></ul></div><p>
    To install MySQL from a standard source distribution, one of the
    following tools is required to unpack the distribution file:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        For a <code class="filename">.tar.gz</code> compressed
        <span><strong class="command">tar</strong></span> file: GNU <code class="literal">gunzip</code> to
        uncompress the distribution and a reasonable
        <span><strong class="command">tar</strong></span> to unpack it. If your
        <span><strong class="command">tar</strong></span> program supports the <code class="literal">z</code>
        option, it can both uncompress and unpack the file.
      </p><p>
        GNU <span><strong class="command">tar</strong></span> is known to work. The standard
        <span><strong class="command">tar</strong></span> provided with some operating systems is
        not able to unpack the long file names in the MySQL
        distribution. You should download and install GNU
        <span><strong class="command">tar</strong></span>, or if available, use a preinstalled
        version of GNU tar. Usually this is available as
        <span><strong class="command">gnutar</strong></span>, <span><strong class="command">gtar</strong></span>, or as
        <span><strong class="command">tar</strong></span> within a GNU or Free Software directory,
        such as <code class="filename">/usr/sfw/bin</code> or
        <code class="filename">/usr/local/bin</code>. GNU <span><strong class="command">tar</strong></span>
        is available from
        <a href="http://www.gnu.org/software/tar/" target="_top">http://www.gnu.org/software/tar/</a>.
      </p></li><li><p>
        For a <code class="filename">.zip</code> Zip archive:
        <span><strong class="command">WinZip</strong></span> or another tool that can read
        <code class="filename">.zip</code> files.
      </p></li><li><p>
        For an <code class="filename">.rpm</code> RPM package: The
        <span><strong class="command">rpmbuild</strong></span> program used to build the
        distribution unpacks it.
      </p></li></ul></div><p>
    To install MySQL from a development source tree, the following
    additional tools are required:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        To obtain the source tree, you must have Bazaar installed. The
        <a href="http://bazaar-vcs.org" target="_top">Bazaar VCS Web site</a>
        has instructions for downloading and installing Bazaar on
        different platforms. Bazaar is supported on any platform that
        supports Python, and is therefore compatible with any Linux,
        Unix, Windows, or Mac OS X host.
      </p></li><li><p>
        <span><strong class="command">bison</strong></span> is needed to generate
        <code class="filename">sql_yacc.cc</code> from
        <code class="filename">sql_yacc.yy</code> You should use the latest
        version of <span><strong class="command">bison</strong></span> where possible. Versions
        1.75 and 2.1 are known to work. There have been reported
        problems with <span><strong class="command">bison</strong></span> 1.875. If you experience
        problems, upgrade to a later, rather than earlier, version.
      </p><p>
        <span><strong class="command">bison</strong></span> is available from
        <a href="http://www.gnu.org/software/bison/" target="_top">http://www.gnu.org/software/bison/</a>.
        <code class="literal">bison</code> for Windows can be downloaded from
        <a href="http://gnuwin32.sourceforge.net/packages/bison.htm" target="_top">http://gnuwin32.sourceforge.net/packages/bison.htm</a>.
        Download the package labeled “<span class="quote">Complete package, excluding
        sources</span>”. On Windows, the default location for
        <span><strong class="command">bison</strong></span> is the <code class="filename">C:\Program
        Files\GnuWin32</code> directory. Some utilities may fail to
        find <span><strong class="command">bison</strong></span> because of the space in the
        directory name. Also, Visual Studio may simply hang if there are
        spaces in the path. You can resolve these problems by installing
        into a directory that does not contain a space; for example
        <code class="filename">C:\GnuWin32</code>.
      </p></li><li><p>
        On OpenSolaris and Solaris Express, <span><strong class="command">m4</strong></span> must
        be installed in addition to <span><strong class="command">bison</strong></span>.
        <span><strong class="command">m4</strong></span> is available from
        <a href="http://www.gnu.org/software/m4/" target="_top">http://www.gnu.org/software/m4/</a>.
      </p></li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
      If you have to install any programs, modify your
      <code class="literal">PATH</code> environment variable to include any
      directories in which the programs are located. See
      <a href="programs.html#setting-environment-variables" title="4.2.4. Setting Environment Variables">Section 4.2.4, “Setting Environment Variables”</a>.
    </p></div><p>
    If you run into problems and need to file a bug report, please use
    the instructions in <a href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="source-installation-layout"></a>2.9.1. MySQL Layout for Source Installation</h3></div></div></div><p>
      By default, when you install MySQL after compiling it from source,
      the installation step installs files under
      <code class="filename">/usr/local/mysql</code>. The component locations
      under the installation directory are the same as for binary
      distributions. See <a href="installing.html#binary-installation-layout" title="Table 2.2. MySQL Installation Layout for Generic Unix/Linux Binary Package">Table 2.2, “MySQL Installation Layout for Generic Unix/Linux Binary Package”</a>,
      and <a href="installing.html#windows-installation-layout" title="2.3.1. MySQL Installation Layout on Microsoft Windows">Section 2.3.1, “MySQL Installation Layout on Microsoft Windows”</a>. To configure
      installation locations different from the defaults, use the
      options described at
      <a href="installing.html#source-configuration-options" title="2.9.4. MySQL Source-Configuration Options">Section 2.9.4, “MySQL Source-Configuration Options”</a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="installing-source-distribution"></a>2.9.2. Installing MySQL from a Standard Source Distribution</h3></div></div></div><p>
      To install MySQL from a standard source distribution:
    </p><div class="orderedlist"><ol type="1"><li><p>
          Verify that your system satisfies the tool requirements listed
          at <a href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
        </p></li><li><p>
          Obtain a distribution file using the instructions in
          <a href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>.
        </p></li><li><p>
          Configure, build, and install the distribution using the
          instructions in this section.
        </p></li><li><p>
          Perform postinstallation procedures using the instructions in
          <a href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
        </p></li></ol></div><p>
      In MySQL 5.5, <span><strong class="command">CMake</strong></span> is used as the
      build framework on all platforms. The instructions given here
      should enable you to produce a working installation. For
      additional information on using <span><strong class="command">CMake</strong></span> to build
      MySQL, see <a href="http://forge.mysql.com/wiki/CMake" target="_top">http://forge.mysql.com/wiki/CMake</a>.
    </p><p>
      If you start from a source RPM, use the following command to make
      a binary RPM that you can install. If you do not have
      <span><strong class="command">rpmbuild</strong></span>, use <span><strong class="command">rpm</strong></span> instead.
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpmbuild --rebuild --clean MySQL-<em class="replaceable"><code>VERSION</code></em>.src.rpm</code></strong>
</pre><p>
      The result is one or more binary RPM packages that you install as
      indicated in <a href="installing.html#linux-installation-rpm" title="2.5.1. Installing MySQL from RPM Packages on Linux">Section 2.5.1, “Installing MySQL from RPM Packages on Linux”</a>.
    </p><p>
      The sequence for installation from a compressed
      <span><strong class="command">tar</strong></span> file or Zip archive source distribution is
      similar to the process for installing from a generic binary
      distribution (see <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>), except
      that it is used on all platforms and includes steps to configure
      and compile the distribution. For example, with a compressed
      <span><strong class="command">tar</strong></span> file source distribution on Unix, the basic
      installation command sequence looks like this:
    </p><pre class="programlisting"># Preconfiguration setup
shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql mysql</code></strong>
# Beginning of source-build specific instructions
shell&gt; <strong class="userinput"><code>tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql-<em class="replaceable"><code>VERSION</code></em></code></strong>
shell&gt; <strong class="userinput"><code>cmake .</code></strong>
shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make install</code></strong>
# End of source-build specific instructions
# Postinstallation setup
shell&gt; <strong class="userinput"><code>cd /usr/local/mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data</code></strong>
# Next command is optional
shell&gt; <strong class="userinput"><code>cp support-files/my-medium.cnf /etc/my.cnf</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
# Next command is optional
shell&gt; <strong class="userinput"><code>cp support-files/mysql.server /etc/init.d/mysql.server</code></strong>
</pre><p>
      A more detailed version of the source-build specific instructions
      is shown following.
    </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        The procedure shown here does not set up any passwords for MySQL
        accounts. After following the procedure, proceed to
        <a href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>, for postinstallation setup
        and testing.
      </p></div><h4><a name="id528591"></a>
      Perform Preconfiguration Setup
    </h4><p>
      On Unix, set up the <code class="literal">mysql</code> user and group that
      will be used to run and execute the MySQL server and own the
      database directory. For details, see
      <a href="installing.html#binary-installation-createsysuser">Creating a
      <code class="literal">mysql</code> System User and Group</a>, in
      <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>. Then perform the following
      steps as the <code class="literal">mysql</code> user, except as noted.
    </p><h4><a name="id528629"></a>
      Obtain and Unpack the Distribution
    </h4><p>
      Pick the directory under which you want to unpack the distribution
      and change location into it.
    </p><p>
      Obtain a distribution file using the instructions in
      <a href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>.
    </p><p>
      Unpack the distribution into the current directory:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          To unpack a compressed <span><strong class="command">tar</strong></span> file,
          <span><strong class="command">tar</strong></span> can uncompress and unpack the
          distribution if it has <code class="literal">z</code> option support:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
</pre><p>
          If your <span><strong class="command">tar</strong></span> does not have
          <code class="literal">z</code> option support, use
          <span><strong class="command">gunzip</strong></span> to unpack the distribution and
          <span><strong class="command">tar</strong></span> to unpack it:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gunzip &lt; mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p>
          Alternatively, <span><strong class="command">CMake</strong></span> can uncompress and
          unpack the distribution:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake -E tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
</pre></li><li><p>
          To unpack a Zip archive, use <span><strong class="command">WinZip</strong></span> or
          another tool that can read <code class="filename">.zip</code> files.
        </p></li></ul></div><p>
      Unpacking the distribution file creates a directory named
      <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em></code>.
    </p><h4><a name="id528791"></a>
      Configure the Distribution
    </h4><p>
      Change location into the top-level directory of the unpacked
      distribution:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd mysql-<em class="replaceable"><code>VERSION</code></em></code></strong>
</pre><p>
      Configure the source directory. The minimum configuration command
      includes no options to override configuration defaults:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake .</code></strong>
</pre><p>
      On Windows, specify the development environment. For example, the
      following commands configure MySQL for 32-bit or 64-bit builds,
      respectively:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake . -G "Visual Studio 9 2008"</code></strong>
shell&gt; <strong class="userinput"><code>cmake . -G "Visual Studio 9 2008 Win64"</code></strong>
</pre><p>
      On Mac OS X, to use the Xcode IDE:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake . -G Xcode</code></strong>
</pre><p>
      When you run <span><strong class="command">cmake</strong></span>, you might want to add
      options to the command line. Here are some examples:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          <a href="installing.html#option_cmake_build_config"><code class="option">-DBUILD_CONFIG=mysql_release</code></a>:
          Configure the source with the same build options used by
          Oracle to produce binary distributions for official MySQL
          releases.
        </p></li><li><p>
          <a href="installing.html#option_cmake_cmake_install_prefix"><code class="option">-DCMAKE_INSTALL_PREFIX=<em class="replaceable"><code>dir_name</code></em></code></a>:
          Configure the distribution for installation under a particular
          location.
        </p></li><li><p>
          <a href="installing.html#option_cmake_cpack_monolithic_install"><code class="option">-DCPACK_MONOLITHIC_INSTALL=1</code></a>:
          Cause <span><strong class="command">make package</strong></span> to generate a single
          installation file rather than multiple files.
        </p></li><li><p>
          <a href="installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a>: Build the
          distribution with debugging support.
        </p></li></ul></div><p>
      For a more extensive list of options, see
      <a href="installing.html#source-configuration-options" title="2.9.4. MySQL Source-Configuration Options">Section 2.9.4, “MySQL Source-Configuration Options”</a>.
    </p><p>
      To list the configuration options, use one of the following
      commands:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake . -L</code></strong>   # overview
shell&gt; <strong class="userinput"><code>cmake . -LH</code></strong>  # overview with help text
shell&gt; <strong class="userinput"><code>cmake . -LAH</code></strong> # all params with help text
shell&gt; <strong class="userinput"><code>ccmake .</code></strong>     # interactive display
</pre><p>
      If <span><strong class="command">CMake</strong></span> fails, you might need to reconfigure
      by running it again with different options. If you do reconfigure,
      take note of the following:
    </p><a class="indexterm" name="id529000"></a><a class="indexterm" name="id529009"></a><div class="itemizedlist"><ul type="disc"><li><p>
          If <span><strong class="command">CMake</strong></span> is run after it has previously
          been run, it may use information that was gathered during its
          previous invocation. This information is stored in
          <code class="filename">CMakeCache.txt</code>. When
          <span><strong class="command">CMake</strong></span> starts up, it looks for that file and
          reads its contents if it exists, on the assumption that the
          information is still correct. That assumption is invalid when
          you reconfigure.
        </p></li><li><p>
          Each time you run <span><strong class="command">CMake</strong></span>, you must run
          <span><strong class="command">make</strong></span> again to recompile. However, you may
          want to remove old object files from previous builds first
          because they were compiled using different configuration
          options.
        </p></li></ul></div><p>
      To prevent old object files or configuration information from
      being used, run these commands on Unix before re-running
      <span><strong class="command">CMake</strong></span>:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make clean</code></strong>
shell&gt; <strong class="userinput"><code>rm CMakeCache.txt</code></strong>
</pre><p>
      Or, on Windows:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>devenv MySQL.sln /clean</code></strong>
shell&gt; <strong class="userinput"><code>del CMakeCache.txt</code></strong>
</pre><p>
      If you build out of the source tree (as described later), the
      <code class="filename">CMakeCache.txt</code> file and all built files are
      in the build directory, so you can remove that directory to object
      files and cached configuration information.
    </p><p>
      If you are going to send mail to a MySQL mailing list to ask for
      configuration assistance, first check the files in the
      <code class="filename">CMakeFiles</code> directory for useful information
      about the failure. To file a bug report, please use the
      instructions in <a href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
    </p><h4><a name="id529149"></a>
      Build the Distribution
    </h4><p>
      On Unix:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make VERBOSE=1</code></strong>
</pre><p>
      The second command sets <code class="literal">VERBOSE</code> to show the
      commands for each compiled source.
    </p><p>
      Use <span><strong class="command">gmake</strong></span> instead on systems where you are
      using GNU <span><strong class="command">make</strong></span> and it has been installed as
      <span><strong class="command">gmake</strong></span>.
    </p><p>
      On Windows:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo</code></strong>
</pre><p>
      It is possible to build out of the source tree to keep the tree
      clean. If the top-level source directory is named
      <code class="filename">mysql-src</code> under your current working
      directory, you can build in a directory named
      <code class="filename">build</code> at the same level like this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mkdir build</code></strong>
shell&gt; <strong class="userinput"><code>cd build</code></strong>
shell&gt; <strong class="userinput"><code>cmake ../mysql-src</code></strong>
</pre><p>
      If you have gotten to the compilation stage, but the distribution
      does not build, see <a href="installing.html#compilation-problems" title="2.9.5. Dealing with Problems Compiling MySQL">Section 2.9.5, “Dealing with Problems Compiling MySQL”</a>, for
      help. If that does not solve the problem, please enter it into our
      bugs database using the instructions given in
      <a href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>. If you have installed the latest
      versions of the required tools, and they crash trying to process
      our configuration files, please report that also. However, if you
      get a <code class="literal">command not found</code> error or a similar
      problem for required tools, do not report it. Instead, make sure
      that all the required tools are installed and that your
      <code class="literal">PATH</code> variable is set correctly so that your
      shell can find them.
    </p><h4><a name="id529290"></a>
      Install the Distribution
    </h4><p>
      On Unix:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make install</code></strong>
</pre><p>
      This installs the files under the configured installation
      directory (by default, <code class="filename">/usr/local/mysql</code>). You
      might need to run the command as <code class="literal">root</code>.
    </p><p>
      To install in a specific directory, add a
      <code class="literal">DESTDIR</code> parameter to the command line:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make install DESTDIR="/opt/mysql"</code></strong>
</pre><p>
      Alternatively, generate installation package files that you can
      install where you like:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make package</code></strong>
</pre><p>
      This operation produces one or more <code class="filename">.tar.gz</code>
      files that can be installed like generic binary distribution
      packages. See <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>. If you run
      <span><strong class="command">CMake</strong></span> with
      <a href="installing.html#option_cmake_cpack_monolithic_install"><code class="option">-DCPACK_MONOLITHIC_INSTALL=1</code></a>, the
      operation produces a single file. Otherwise, it produces multiple
      files.
    </p><p>
      On Windows, generate the data directory, then create a
      <code class="filename">.zip</code> archive installation package:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo /project initial_database</code></strong>
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo /project package</code></strong>
</pre><p>
      You can install the resulting <code class="filename">.zip</code> archive
      where you like. See <a href="installing.html#windows-install-archive" title="2.3.6. Installing MySQL on Microsoft Windows Using a
      noinstall Zip Archive">Section 2.3.6, “Installing MySQL on Microsoft Windows Using a
      <code class="literal">noinstall</code> Zip Archive”</a>.
    </p><h4><a name="id529434"></a>
      Perform Postinstallation Setup
    </h4><p>
      The remainder of the installation process involves setting up the
      configuration file, creating the core databases, and starting the
      MySQL server. For instructions, see
      <a href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
    </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        The accounts that are listed in the MySQL grant tables initially
        have no passwords. After starting the server, you should set up
        passwords for them using the instructions in
        <a href="installing.html#postinstallation" title="2.10. Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
      </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="installing-development-tree"></a>2.9.3. Installing MySQL from a Development Source Tree</h3></div></div></div><a class="indexterm" name="id529470"></a><a class="indexterm" name="id529479"></a><p>
      This section discusses how to install MySQL from the latest
      development source code. Development trees have not necessarily
      received the same level of testing as standard release
      distributions, so this installation method is usually required
      only if you need the most recent code changes. Do not use a
      development tree for production systems. If your goal is simply to
      get MySQL up and running on your system, you should use a standard
      release distribution (either a binary or source distribution). See
      <a href="installing.html#getting-mysql" title="2.1.3. How to Get MySQL">Section 2.1.3, “How to Get MySQL”</a>.
    </p><p>
      MySQL development projects are hosted on
      <a href="http://launchpad.net/" target="_top">Launchpad</a>. MySQL
      projects, including MySQL Server, MySQL Workbench, and others are
      available from the
      <a href="http://launchpad.net/~mysql" target="_top">Oracle/MySQL
      Engineering</a> page. For the repositories related only to
      MySQL Server, see the
      <a href="http://launchpad.net/mysql-server" target="_top">MySQL
      Server</a> page.
    </p><p>
      To install MySQL from a development source tree, your system must
      satisfy the tool requirements listed at
      <a href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>, including the requirements
      for Bazaar and <span><strong class="command">bison</strong></span>. For information about
      using Bazaar with MySQL, see
      <a href="http://forge.mysql.com/wiki/MySQL_Bazaar_Howto" target="_top">http://forge.mysql.com/wiki/MySQL_Bazaar_Howto</a>.
    </p><p>
      To create a local branch of the MySQL development tree on your
      machine, use this procedure:
    </p><div class="orderedlist"><ol type="1"><li><p>
          To obtain a copy of the MySQL source code, you must create a
          new Bazaar branch. If you do not already have a Bazaar
          repository directory set up, you must initialize a new
          directory:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mkdir mysql-server</code></strong>
shell&gt; <strong class="userinput"><code>bzr init-repo --trees mysql-server</code></strong>
</pre><p>
          This is a one-time operation.
        </p></li><li><p>
          Assuming that you have an initialized repository directory,
          you can branch from the public MySQL server repositories to
          create a local source tree. To create a branch of a specific
          version:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd mysql-server</code></strong>
shell&gt; <strong class="userinput"><code>bzr branch lp:mysql-server/5.5 mysql-5.5</code></strong>
</pre><p>
          This is a one-time operation per source tree. You can branch
          the source trees for several versions of MySQL under the
          <code class="filename">mysql-server</code> directory.
        </p></li><li><p>
          The initial download will take some time to complete,
          depending on the speed of your connection. Please be patient.
          Once you have downloaded the first tree, additional trees
          should take significantly less time to download.
        </p></li><li><p>
          When building from the Bazaar branch, you may want to create a
          copy of your active branch so that you can make configuration
          and other changes without affecting the original branch
          contents. You can achieve this by branching from the original
          branch:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bzr branch mysql-5.5 mysql-5.5-build</code></strong>
</pre></li><li><p>
          To obtain changes made after you have set up the branch
          initially, update it using the <code class="literal">pull</code> option
          periodically. Use this command in the top-level directory of
          the local copy:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bzr pull</code></strong>
</pre><p>
          To examine the changeset comments for the tree, use the
          <code class="literal">log</code> option to <span><strong class="command">bzr</strong></span>:
        </p><pre class="programlisting">shell&gt; bzr log</pre><p>
          You can also browse changesets, comments, and source code
          online at the Launchpad
          <a href="http://launchpad.net/mysql-server" target="_top">MySQL
          Server</a> page.
        </p><p>
          If you see diffs (changes) or code that you have a question
          about, do not hesitate to send email to the MySQL
          <code class="literal">internals</code> mailing list. See
          <a href="introduction.html#mailing-lists" title="1.6.1. MySQL Mailing Lists">Section 1.6.1, “MySQL Mailing Lists”</a>. If you think you have a
          better idea on how to do something, send an email message to
          the list with a patch.
        </p></li></ol></div><p>
      After you have the local branch, you can build MySQL server from
      the source code. For information, see
      <a href="installing.html#installing-source-distribution" title="2.9.2. Installing MySQL from a Standard Source Distribution">Section 2.9.2, “Installing MySQL from a Standard Source Distribution”</a>, except that you
      skip the part about obtaining and unpacking the distribution.
    </p><p>
      Be careful about installing a build from a distribution source
      tree on a production machine. The installation command may
      overwrite your live release installation. If you already have
      MySQL installed and do not want to overwrite it, run
      <span><strong class="command">CMake</strong></span> with values for the
      <a href="installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a>,
      <a href="installing.html#option_cmake_mysql_tcp_port"><code class="option">MYSQL_TCP_PORT</code></a>, and
      <a href="installing.html#option_cmake_mysql_unix_addr"><code class="option">MYSQL_UNIX_ADDR</code></a> options different
      from those used by your production server. For additional
      information about preventing multiple servers from interfering
      with each other, see <a href="server-administration.html#multiple-servers" title="5.6. Running Multiple MySQL Instances on One Machine">Section 5.6, “Running Multiple MySQL Instances on One Machine”</a>.
    </p><p>
      Play hard with your new installation. For example, try to make new
      features crash. Start by running <span><strong class="command">make test</strong></span>. See
      <a href="extending-mysql.html#mysql-test-suite" title="22.1.2. The MySQL Test Suite">Section 22.1.2, “The MySQL Test Suite”</a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="source-configuration-options"></a>2.9.4. MySQL Source-Configuration Options</h3></div></div></div><a class="indexterm" name="id529800"></a><a class="indexterm" name="id529812"></a><a class="indexterm" name="id529825"></a><a class="indexterm" name="id529834"></a><p>
      The <span><strong class="command">CMake</strong></span> program provides a great deal of
      control over how you configure a MySQL source distribution.
      Typically, you do this using options on the
      <span><strong class="command">CMake</strong></span> command line. For information about
      options supported by <span><strong class="command">CMake</strong></span>, run either of these
      commands in the top-level source directory:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake . -LH</code></strong>
shell&gt; <strong class="userinput"><code>ccmake .</code></strong>
</pre><p>
      You can also affect <span><strong class="command">CMake</strong></span> using certain
      environment variables. See
      <a href="installing.html#environment-variables" title="2.12. Environment Variables">Section 2.12, “Environment Variables”</a>.
    </p><p>
      The following table shows the available <span><strong class="command">CMake</strong></span>
      options. In the <code class="literal">Default</code> column,
      <code class="literal">PREFIX</code> stands for the value of the
      <a href="installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a> option, which
      specifies the installation base directory. This value is used as
      the parent location for several of the installation
      subdirectories.
    </p><div class="table"><a name="id529928"></a><p class="title"><b>Table 2.14. MySQL Source-Configuration Option Reference
      (<span>CMake</span>)</b></p><table summary="MySQL Source-Configuration Option Reference
      (CMake)" border="1"><colgroup><col><col><col><col><col></colgroup><thead><tr><th>Formats</th><th>Description</th><th>Default</th><th>Introduced</th><th>Removed</th></tr></thead><tbody><tr><td><a href="installing.html#option_cmake_build_config"><code class="literal">BUILD_CONFIG</code></a></td><td>Use same build options as official releases</td><td><code class="literal"></code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_cmake_build_type"><code class="literal">CMAKE_BUILD_TYPE</code></a></td><td>Type of build to produce</td><td><code class="literal">RelWithDebInfo</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_cmake_install_prefix"><code class="literal">CMAKE_INSTALL_PREFIX</code></a></td><td>Installation base directory</td><td><code class="literal">/usr/local/mysql</code></td><td>5.5.8</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_cpack_monolithic_install"><code class="literal">CPACK_MONOLITHIC_INSTALL</code></a></td><td>Whether package build produces single file</td><td><code class="literal">OFF</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_default_charset"><code class="literal">DEFAULT_CHARSET</code></a></td><td>The default server character set</td><td><code class="literal">latin1</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_default_collation"><code class="literal">DEFAULT_COLLATION</code></a></td><td>The default server collation</td><td><code class="literal">latin1_swedish_ci</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_enable_debug_sync"><code class="literal">ENABLE_DEBUG_SYNC</code></a></td><td>Whether to enable Debug Sync support</td><td><code class="literal">ON</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_enable_downloads"><code class="literal">ENABLE_DOWNLOADS</code></a></td><td>Whether to download optional files</td><td><code class="literal">OFF</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_enable_dtrace"><code class="literal">ENABLE_DTRACE</code></a></td><td>Whether to include DTrace support</td><td><code class="literal"></code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_enable_gcov"><code class="literal">ENABLE_GCOV</code></a></td><td>Whether to include gcov support</td><td><code class="literal"></code></td><td>5.5.14</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_enabled_local_infile"><code class="literal">ENABLED_LOCAL_INFILE</code></a></td><td>Whether to enable LOCAL for LOAD DATA INFILE</td><td><code class="literal">OFF</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_enabled_profiling"><code class="literal">ENABLED_PROFILING</code></a></td><td>Whether to enable query profiling code</td><td><code class="literal">ON</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_bindir"><code class="literal">INSTALL_BINDIR</code></a></td><td>User executables directory</td><td><code class="literal">PREFIX/bin</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_docdir"><code class="literal">INSTALL_DOCDIR</code></a></td><td>Documentation directory</td><td><code class="literal">PREFIX/docs</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_docreadmedir"><code class="literal">INSTALL_DOCREADMEDIR</code></a></td><td>README file directory</td><td><code class="literal">PREFIX</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_includedir"><code class="literal">INSTALL_INCLUDEDIR</code></a></td><td>Header file directory</td><td><code class="literal">PREFIX/include</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_infodir"><code class="literal">INSTALL_INFODIR</code></a></td><td>Info file directory</td><td><code class="literal">PREFIX/docs</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_layout"><code class="literal">INSTALL_LAYOUT</code></a></td><td>Select predefined installation layout</td><td><code class="literal">STANDALONE</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_libdir"><code class="literal">INSTALL_LIBDIR</code></a></td><td>Library file directory</td><td><code class="literal">PREFIX/lib</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_mandir"><code class="literal">INSTALL_MANDIR</code></a></td><td>Manual page directory</td><td><code class="literal">PREFIX/man</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_mysqlsharedir"><code class="literal">INSTALL_MYSQLSHAREDIR</code></a></td><td>Shared data directory</td><td><code class="literal">PREFIX/share</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_mysqltestdir"><code class="literal">INSTALL_MYSQLTESTDIR</code></a></td><td>mysql-test directory</td><td><code class="literal">PREFIX/mysql-test</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_plugindir"><code class="literal">INSTALL_PLUGINDIR</code></a></td><td>Plugin directory</td><td><code class="literal">PREFIX/lib/plugin</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_sbindir"><code class="literal">INSTALL_SBINDIR</code></a></td><td>Server executable directory</td><td><code class="literal">PREFIX/bin</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_scriptdir"><code class="literal">INSTALL_SCRIPTDIR</code></a></td><td>Scripts directory</td><td><code class="literal">PREFIX/scripts</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_sharedir"><code class="literal">INSTALL_SHAREDIR</code></a></td><td>aclocal/mysql.m4 installation directory</td><td><code class="literal">PREFIX/share</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_sqlbenchdir"><code class="literal">INSTALL_SQLBENCHDIR</code></a></td><td>sql-bench directory</td><td><code class="literal">PREFIX</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_install_supportfilesdir"><code class="literal">INSTALL_SUPPORTFILESDIR</code></a></td><td>Extra support files directory</td><td><code class="literal">PREFIX/support-files</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_memcached_home"><code class="literal">MEMCACHED_HOME</code></a></td><td>Path to memcached</td><td><code class="literal">[none]</code></td><td>5.5.16-ndb-7.2.2</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_mysql_datadir"><code class="literal">MYSQL_DATADIR</code></a></td><td>Data directory</td><td><code class="literal"></code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_mysql_maintainer_mode"><code class="literal">MYSQL_MAINTAINER_MODE</code></a></td><td>Whether to enable MySQL maintainer-specific development environment</td><td><code class="literal">OFF</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_mysql_project_name"><code class="literal">MYSQL_PROJECT_NAME</code></a></td><td>Windows/Mac OS X project name</td><td><code class="literal">3306</code></td><td>5.5.21</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_mysql_tcp_port"><code class="literal">MYSQL_TCP_PORT</code></a></td><td>TCP/IP port number</td><td><code class="literal">3306</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_mysql_unix_addr"><code class="literal">MYSQL_UNIX_ADDR</code></a></td><td>Unix socket file</td><td><code class="literal">/tmp/mysql.sock</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_odbc_includes"><code class="literal">ODBC_INCLUDES</code></a></td><td>ODBC includes directory</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td><a href="installing.html#option_cmake_odbc_lib_dir"><code class="literal">ODBC_LIB_DIR</code></a></td><td>ODBC library directory</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td><a href="installing.html#option_cmake_sysconfdir"><code class="literal">SYSCONFDIR</code></a></td><td>Option file directory</td><td><code class="literal"></code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_bundled_libevent"><code class="literal">WITH_BUNDLED_LIBEVENT</code></a></td><td>Use bundled libevent when building ndbmemcache</td><td><code class="literal">ON</code></td><td>5.5.16-ndb-7.2.2</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_bundled_memcached"><code class="literal">WITH_BUNDLED_MEMCACHED</code></a></td><td>Use bundled memcached when building ndbmemcache</td><td><code class="literal">ON</code></td><td>5.5.16-ndb-7.2.2</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_classpath"><code class="literal">WITH_CLASSPATH</code></a></td><td>Classpath to use when building MySQL Cluster Connector for
        Java. Default is an empty string.</td><td><code class="literal"></code></td><td> </td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_comment"><code class="literal">WITH_COMMENT</code></a></td><td>Comment about compilation environment</td><td><code class="literal"></code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_debug"><code class="literal">WITH_DEBUG</code></a></td><td>Whether to include debugging support</td><td><code class="literal">OFF</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_embedded_server"><code class="literal">WITH_EMBEDDED_SERVER</code></a></td><td>Whether to build embedded server</td><td><code class="literal">OFF</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_storage_engine_options"><code class="literal">WITH_xxx_STORAGE_ENGINE</code></a></td><td>Compile storage engine xxx statically into server</td><td><code class="literal"></code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_error_insert"><code class="literal">WITH_ERROR_INSERT</code></a></td><td>Enable error injection in the NDBCLUSTER storage engine.
        Should not be used for building binaries intended for production.</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_extra_charsets"><code class="literal">WITH_EXTRA_CHARSETS</code></a></td><td>Which extra character sets to include</td><td><code class="literal">all</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_libwrap"><code class="literal">WITH_LIBWRAP</code></a></td><td>Whether to include libwrap (TCP wrappers) support</td><td><code class="literal">OFF</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_ndb_binlog"><code class="literal">WITH_NDB_BINLOG</code></a></td><td>Enable binary logging by default by mysqld.</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_ndb_debug"><code class="literal">WITH_NDB_DEBUG</code></a></td><td>Produce a debug build for testing or troubleshooting.</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_ndb_port"><code class="literal">WITH_NDB_PORT</code></a></td><td>Default port used by a management server built with this
        option. If this option was not used to build it, the management
        server's default port is 1186.</td><td><code class="literal">[none]</code></td><td> </td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_ndb_test"><code class="literal">WITH_NDB_TEST</code></a></td><td>
        Include NDB API test programs.
      </td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="literal">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a></td><td>Build the NDB storage engine</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_ndbmtd"><code class="literal">WITH_NDBMTD</code></a></td><td>Build multi-threaded data node.</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_readline"><code class="literal">WITH_READLINE</code></a></td><td>Use bundled readline</td><td><code class="literal">OFF</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_ssl"><code class="literal">WITH_SSL</code></a></td><td>Type of SSL support</td><td><code class="literal">no</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_unixodbc"><code class="literal">WITH_UNIXODBC</code></a></td><td>Enable unixODBC support</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td><a href="installing.html#option_cmake_with_zlib"><code class="literal">WITH_ZLIB</code></a></td><td>Type of zlib support</td><td><code class="literal">system</code></td><td>5.5.7</td><td> </td></tr><tr><td><a href="installing.html#option_cmake_storage_engine_options"><code class="literal">WITHOUT_xxx_STORAGE_ENGINE</code></a></td><td>Exclude storage engine xxx from build</td><td><code class="literal"></code></td><td>5.5.7</td><td> </td></tr></tbody></table></div><p>
      The following sections provide more information about
      <span><strong class="command">CMake</strong></span> options.
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          <a href="installing.html#cmake-general-options">General Options</a>
        </p></li><li><p>
          <a href="installing.html#cmake-installation-layout-options">Installation
          Layout Options</a>
        </p></li><li><p>
          <a href="installing.html#cmake-feature-options">Feature Options</a>
        </p></li><li><p>
          <a href="installing.html#cmake-compiler-flags">Compiler Flags</a>
        </p></li></ul></div><p>
      For boolean options, the value may be specified as 1 or
      <code class="literal">ON</code> to enable the option, or as 0 or
      <code class="literal">OFF</code> to disable the option.
    </p><p>
      Many options configure compile-time defaults that can be
      overridden at server startup. For example, the
      <a href="installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a>,
      <a href="installing.html#option_cmake_mysql_tcp_port"><code class="option">MYSQL_TCP_PORT</code></a>, and
      <a href="installing.html#option_cmake_mysql_unix_addr"><code class="option">MYSQL_UNIX_ADDR</code></a> options that
      configure the default installation base directory location, TCP/IP
      port number, and Unix socket file can be changed at server startup
      with the <a href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a>,
      <a href="server-administration.html#option_mysqld_port"><code class="option">--port</code></a>, and
      <a href="server-administration.html#option_mysqld_socket"><code class="option">--socket</code></a> options for
      <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>. Where applicable, configuration option
      descriptions indicate the corresponding <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
      startup option.
    </p><h4><a name="cmake-general-options"></a>
      General Options
    </h4><div class="itemizedlist"><ul type="disc"><li><p><a name="option_cmake_build_config"></a>
          <a class="indexterm" name="id531697"></a>

          <a class="indexterm" name="id531709"></a>

          <code class="literal">-DBUILD_CONFIG=mysql_release</code>
        </p><p>
          This option configures a source distribution with the same
          build options used by Oracle to produce binary distributions
          for official MySQL releases.
        </p></li><li><p><a name="option_cmake_cmake_build_type"></a>
          <a class="indexterm" name="id531741"></a>

          <a class="indexterm" name="id531753"></a>

          <code class="literal">-DCMAKE_BUILD_TYPE=<em class="replaceable"><code>type</code></em></code>
        </p><p>
          The type of build to produce:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">RelWithDebInfo</code>: Enable optimizations
              and generate debugging information. This is the default
              MySQL build type.
            </p></li><li><p>
              <code class="literal">Debug</code>: Disable optimizations and
              generate debugging information. This build type is also
              used if the <a href="installing.html#option_cmake_with_debug"><code class="option">WITH_DEBUG</code></a>
              option is enabled. That is,
              <a href="installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a> has the same
              effect as
              <a href="installing.html#option_cmake_cmake_build_type"><code class="option">-DCMAKE_BUILD_TYPE=Debug</code></a>.
            </p></li></ul></div></li><li><p><a name="option_cmake_cpack_monolithic_install"></a>
          <a class="indexterm" name="id531839"></a>

          <a class="indexterm" name="id531851"></a>

          <code class="literal">-DCPACK_MONOLITHIC_INSTALL=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          This option affects whether the <span><strong class="command">make
          package</strong></span> operation produces multiple installation
          package files or a single file. If disabled, the operation
          produces multiple installation package files, which may be
          useful if you want to install only a subset of a full MySQL
          installation. If enabled, it produces a single file for
          installing everything.
        </p></li></ul></div><h4><a name="cmake-installation-layout-options"></a>
      Installation Layout Options
    </h4><p>
      The <a href="installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a> option
      indicates the base installation directory. Other options with
      names of the form
      <code class="literal">INSTALL_<em class="replaceable"><code>xxx</code></em></code> that
      indicate component locations are interpreted relative to the
      prefix and their values are relative pathnames. Their values
      should not include the prefix.
    </p><div class="itemizedlist"><ul type="disc"><li><p><a name="option_cmake_cmake_install_prefix"></a>
          <a class="indexterm" name="id531923"></a>

          <a class="indexterm" name="id531936"></a>

          <code class="literal">-DCMAKE_INSTALL_PREFIX=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The installation base directory.
        </p><p>
          This value can be set at server startup with the
          <a href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a> option.
        </p></li><li><p><a name="option_cmake_install_bindir"></a>
          <a class="indexterm" name="id531980"></a>

          <a class="indexterm" name="id531992"></a>

          <code class="literal">-DINSTALL_BINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install user programs.
        </p></li><li><p><a name="option_cmake_install_docdir"></a>
          <a class="indexterm" name="id532026"></a>

          <a class="indexterm" name="id532038"></a>

          <code class="literal">-DINSTALL_DOCDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install documentation.
        </p></li><li><p><a name="option_cmake_install_docreadmedir"></a>
          <a class="indexterm" name="id532071"></a>

          <a class="indexterm" name="id532084"></a>

          <code class="literal">-DINSTALL_DOCREADMEDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install <code class="filename">README</code> files.
        </p></li><li><p><a name="option_cmake_install_includedir"></a>
          <a class="indexterm" name="id532123"></a>

          <a class="indexterm" name="id532135"></a>

          <code class="literal">-DINSTALL_INCLUDEDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install header files.
        </p></li><li><p><a name="option_cmake_install_infodir"></a>
          <a class="indexterm" name="id532168"></a>

          <a class="indexterm" name="id532181"></a>

          <code class="literal">-DINSTALL_INFODIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install Info files.
        </p></li><li><p><a name="option_cmake_install_layout"></a>
          <a class="indexterm" name="id532214"></a>

          <a class="indexterm" name="id532226"></a>

          <code class="literal">-DINSTALL_LAYOUT=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          Select a predefined installation layout:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">STANDALONE</code>: Same layout as used for
              <code class="filename">.tar.gz</code> and <code class="filename">.zip</code>
              packages. This is the default.
            </p></li><li><p>
              <code class="literal">RPM</code>: Layout similar to RPM packages.
            </p></li><li><p>
              <code class="literal">SVR4</code>: Solaris package layout.
            </p></li><li><p>
              <code class="literal">DEB</code>: DEB package layout (experimental).
            </p></li></ul></div><p>
          You can select a predefined layout but modify individual
          component installation locations by specifying other options.
          For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake . -DINSTALL_LAYOUT=SVR4 -DMYSQL_DATADIR=/var/mysql/data</code></strong>
</pre></li><li><p><a name="option_cmake_install_libdir"></a>
          <a class="indexterm" name="id532342"></a>

          <a class="indexterm" name="id532354"></a>

          <code class="literal">-DINSTALL_LIBDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install library files.
        </p></li><li><p><a name="option_cmake_install_mandir"></a>
          <a class="indexterm" name="id532387"></a>

          <a class="indexterm" name="id532400"></a>

          <code class="literal">-DINSTALL_MANDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install manual pages.
        </p></li><li><p><a name="option_cmake_install_mysqlsharedir"></a>
          <a class="indexterm" name="id532433"></a>

          <a class="indexterm" name="id532445"></a>

          <code class="literal">-DINSTALL_MYSQLSHAREDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install shared data files.
        </p></li><li><p><a name="option_cmake_install_mysqltestdir"></a>
          <a class="indexterm" name="id532479"></a>

          <a class="indexterm" name="id532491"></a>

          <code class="literal">-DINSTALL_MYSQLTESTDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install the <code class="filename">mysql-test</code>
          directory.
        </p></li><li><p><a name="option_cmake_install_plugindir"></a>
          <a class="indexterm" name="id532530"></a>

          <a class="indexterm" name="id532543"></a>

          <code class="literal">-DINSTALL_PLUGINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The location of the plugin directory.
        </p><p>
          This value can be set at server startup with the
          <a href="server-administration.html#sysvar_plugin_dir"><code class="option">--plugin_dir</code></a> option.
        </p></li><li><p><a name="option_cmake_install_sbindir"></a>
          <a class="indexterm" name="id532587"></a>

          <a class="indexterm" name="id532600"></a>

          <code class="literal">-DINSTALL_SBINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server.
        </p></li><li><p><a name="option_cmake_install_scriptdir"></a>
          <a class="indexterm" name="id532640"></a>

          <a class="indexterm" name="id532652"></a>

          <code class="literal">-DINSTALL_SCRIPTDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>.
        </p></li><li><p><a name="option_cmake_install_sharedir"></a>
          <a class="indexterm" name="id532692"></a>

          <a class="indexterm" name="id532705"></a>

          <code class="literal">-DINSTALL_SHAREDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install <code class="filename">aclocal/mysql.m4</code>.
        </p></li><li><p><a name="option_cmake_install_sqlbenchdir"></a>
          <a class="indexterm" name="id532744"></a>

          <a class="indexterm" name="id532756"></a>

          <code class="literal">-DINSTALL_SQLBENCHDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install the <code class="filename">sql-bench</code> directory.
          To not install this directory, use an empty value
          (<a href="installing.html#option_cmake_install_sqlbenchdir"><code class="option">-DINSTALL_SQLBENCHDIR=</code></a>).
        </p></li><li><p><a name="option_cmake_install_supportfilesdir"></a>
          <a class="indexterm" name="id532803"></a>

          <a class="indexterm" name="id532816"></a>

          <code class="literal">-DINSTALL_SUPPORTFILESDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install extra support files.
        </p></li><li><p><a name="option_cmake_mysql_datadir"></a>
          <a class="indexterm" name="id532849"></a>

          <a class="indexterm" name="id532861"></a>

          <code class="literal">-DMYSQL_DATADIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The location of the MySQL data directory.
        </p><p>
          This value can be set at server startup with the
          <a href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option.
        </p></li><li><p><a name="option_cmake_odbc_includes"></a>
          <a class="indexterm" name="id532906"></a>

          <a class="indexterm" name="id532918"></a>

          <code class="literal">-DODBC_INCLUDES=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The location of the ODBC includes directory, and may be used
          while configuring Connector/ODBC.
        </p></li><li><p><a name="option_cmake_odbc_lib_dir"></a>
          <a class="indexterm" name="id532952"></a>

          <a class="indexterm" name="id532964"></a>

          <code class="literal">-DODBC_LIB_DIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The location of the ODBC library directory, and may be used
          while configuring Connector/ODBC.
        </p></li><li><p><a name="option_cmake_sysconfdir"></a>
          <a class="indexterm" name="id532998"></a>

          <a class="indexterm" name="id533010"></a>

          <code class="literal">-DSYSCONFDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The default <code class="literal">my.cnf</code> option file directory.
        </p><p>
          This location cannot be set at server startup, but you can
          start the server with a given option file using the
          <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code></a>
          option, where <em class="replaceable"><code>file_name</code></em> is the full
          path name to the file.
        </p></li><li><p><a name="option_cmake_with_unixodbc"></a>
          <a class="indexterm" name="id533067"></a>

          <a class="indexterm" name="id533080"></a>

          <code class="literal">-DWITH_UNIXODBC=<em class="replaceable"><code>1</code></em></code>
        </p><p>
          Enables unixODBC support, for Connector/ODBC.
        </p></li></ul></div><h4><a name="option_cmake_storage_engine_options"></a>
      Storage Engine Options
    </h4><p>
      Storage engines are built as plugins. You can build a plugin as a
      static module (compiled into the server) or a dynamic module
      (built as a dynamic library that must be installed into the server
      using the <a href="sql-syntax.html#install-plugin" title="12.7.3.3. INSTALL PLUGIN Syntax"><code class="literal">INSTALL PLUGIN</code></a> statement
      or the <a href="server-administration.html#option_mysqld_plugin-load"><code class="option">--plugin-load</code></a> option before
      it can be used). Some plugins might not support static or dynamic
      building.
    </p><p>
      The <a href="storage-engines.html#myisam-storage-engine" title="13.5. The MyISAM Storage Engine"><code class="literal">MyISAM</code></a>,
      <a href="storage-engines.html#merge-storage-engine" title="13.10. The MERGE Storage Engine"><code class="literal">MERGE</code></a>,
      <a href="storage-engines.html#memory-storage-engine" title="13.6. The MEMORY Storage Engine"><code class="literal">MEMORY</code></a>, and
      <a href="storage-engines.html#csv-storage-engine" title="13.7. The CSV Storage Engine"><code class="literal">CSV</code></a> engines are mandatory (always
      compiled into the server) and need not be installed explicitly.
    </p><p>
      To compile a storage engine statically into the server, use
      <code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=1</code>.
      Some permissible <em class="replaceable"><code>engine</code></em> values are
      <code class="literal">ARCHIVE</code>, <code class="literal">BLACKHOLE</code>,
      <code class="literal">EXAMPLE</code>, <code class="literal">FEDERATED</code>,
      <code class="literal">INNOBASE</code> (<a href="storage-engines.html#innodb-storage-engine" title="13.3. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a>),
      <code class="literal">NDBCLUSTER</code> (<a href="mysql-cluster.html" title="Chapter 16. MySQL Cluster NDB 7.2"><code class="literal">NDB</code></a>),
      <code class="literal">PARTITION</code> (partitioning support), and
      <code class="literal">PERFSCHEMA</code> (Performance Schema). Examples:
    </p><pre class="programlisting">-DWITH_INNOBASE_STORAGE_ENGINE=1
-DWITH_ARCHIVE_STORAGE_ENGINE=1
-DWITH_BLACKHOLE_STORAGE_ENGINE=1
-DWITH_PERFSCHEMA_STORAGE_ENGINE=1</pre><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        <a href="installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a> is
        supported only when building MySQL Cluster using the MySQL
        Cluster sources. It cannot be used to enable clustering support
        in other MySQL source trees or distributions. In MySQL Cluster
        NDB 7.2 source distributions, it is enabled by default. See
        <a href="mysql-cluster.html#mysql-cluster-install-linux-source" title="16.2.1.3. Building MySQL Cluster from Source on Linux">Section 16.2.1.3, “Building MySQL Cluster from Source on Linux”</a>, and
        <a href="mysql-cluster.html#mysql-cluster-install-windows-source" title="16.2.2.2. Compiling and Installing MySQL Cluster from Source on Windows">Section 16.2.2.2, “Compiling and Installing MySQL Cluster from Source on Windows”</a>, for more
        information.
      </p></div><p>
      To exclude a storage engine from the build, use
      <code class="literal">-DWITHOUT_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=1</code>.
      Examples:
    </p><pre class="programlisting">-DWITHOUT_EXAMPLE_STORAGE_ENGINE=1
-DWITHOUT_FEDERATED_STORAGE_ENGINE=1
-DWITHOUT_PARTITION_STORAGE_ENGINE=1</pre><p>
      If neither
      <code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE</code>
      nor
      <code class="literal">-DWITHOUT_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE</code>
      are specified for a given storage engine, the engine is built as a
      shared module, or excluded if it cannot be built as a shared
      module.
    </p><h4><a name="cmake-feature-options"></a>
      Feature Options
    </h4><div class="itemizedlist"><ul type="disc"><li><p><a name="option_cmake_default_charset"></a>
          <a class="indexterm" name="id533336"></a>

          <a class="indexterm" name="id533348"></a>

          <code class="literal">-DDEFAULT_CHARSET=<em class="replaceable"><code>charset_name</code></em></code>
        </p><p>
          The server character set. By default, MySQL uses the
          <code class="literal">latin1</code> (cp1252 West European) character
          set.
        </p><p>
          <em class="replaceable"><code>charset_name</code></em> may be one of
          <code class="literal">binary</code>, <code class="literal">armscii8</code>,
          <code class="literal">ascii</code>, <code class="literal">big5</code>,
          <code class="literal">cp1250</code>, <code class="literal">cp1251</code>,
          <code class="literal">cp1256</code>, <code class="literal">cp1257</code>,
          <code class="literal">cp850</code>, <code class="literal">cp852</code>,
          <code class="literal">cp866</code>, <code class="literal">cp932</code>,
          <code class="literal">dec8</code>, <code class="literal">eucjpms</code>,
          <code class="literal">euckr</code>, <code class="literal">gb2312</code>,
          <code class="literal">gbk</code>, <code class="literal">geostd8</code>,
          <code class="literal">greek</code>, <code class="literal">hebrew</code>,
          <code class="literal">hp8</code>, <code class="literal">keybcs2</code>,
          <code class="literal">koi8r</code>, <code class="literal">koi8u</code>,
          <code class="literal">latin1</code>, <code class="literal">latin2</code>,
          <code class="literal">latin5</code>, <code class="literal">latin7</code>,
          <code class="literal">macce</code>, <code class="literal">macroman</code>,
          <code class="literal">sjis</code>, <code class="literal">swe7</code>,
          <code class="literal">tis620</code>, <code class="literal">ucs2</code>,
          <code class="literal">ujis</code>, <code class="literal">utf8</code>,
          <code class="literal">utf8mb4</code>, <code class="literal">utf16</code>,
          <code class="literal">utf32</code>. The permissible character sets are
          listed in the <code class="filename">cmake/character_sets.cmake</code>
          file as the value of <code class="literal">CHARSETS_AVAILABLE</code>.
        </p><p>
          This value can be set at server startup with the
          <a href="server-administration.html#sysvar_character_set_server"><code class="option">--character_set_server</code></a> option.
        </p></li><li><p><a name="option_cmake_default_collation"></a>
          <a class="indexterm" name="id533647"></a>

          <a class="indexterm" name="id533660"></a>

          <code class="literal">-DDEFAULT_COLLATION=<em class="replaceable"><code>collation_name</code></em></code>
        </p><p>
          The server collation. By default, MySQL uses
          <code class="literal">latin1_swedish_ci</code>. Use the
          <a href="sql-syntax.html#show-collation" title="12.7.5.5. SHOW COLLATION Syntax"><code class="literal">SHOW COLLATION</code></a> statement to
          determine which collations are available for each character
          set.
        </p><p>
          This value can be set at server startup with the
          <a href="server-administration.html#sysvar_collation_server"><code class="option">--collation_server</code></a> option.
        </p></li><li><p><a name="option_cmake_enable_debug_sync"></a>
          <a class="indexterm" name="id533718"></a>

          <a class="indexterm" name="id533730"></a>

          <code class="literal">-DENABLE_DEBUG_SYNC=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to compile the Debug Sync facility into the server.
          This facility is used for testing and debugging. This option
          is enabled by default, but has no effect unless MySQL is
          configured with debugging enabled. If debugging is enabled and
          you want to disable Debug Sync, use
          <a href="installing.html#option_cmake_enable_debug_sync"><code class="option">-DENABLE_DEBUG_SYNC=0</code></a>.
        </p><p>
          When compiled in, Debug Sync is disabled by default at
          runtime. To enable it, start <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with
          the
          <a href="server-administration.html#option_mysqld_debug-sync-timeout"><code class="option">--debug-sync-timeout=<em class="replaceable"><code>N</code></em></code></a>
          option, where <em class="replaceable"><code>N</code></em> is a timeout value
          greater than 0. (The default value is 0, which disables Debug
          Sync.) <em class="replaceable"><code>N</code></em> becomes the default
          timeout for individual synchronization points.
        </p><p>
          For a description of the Debug Sync facility and how to use
          synchronization points, see
          <a href="http://forge.mysql.com/wiki/MySQL_Internals_Test_Synchronization" target="_top">MySQL
          Internals: Test Synchronization</a>.
        </p></li><li><p><a name="option_cmake_enable_downloads"></a>
          <a class="indexterm" name="id533813"></a>

          <a class="indexterm" name="id533826"></a>

          <a class="indexterm" name="id533838"></a>

          <code class="literal">-DENABLE_DOWNLOADS=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to download optional files. For example, with this
          option enabled, <span><strong class="command">CMake</strong></span> downloads the Google
          Test distribution that is used by the test suite to run unit
          tests.
        </p></li><li><p><a name="option_cmake_enable_dtrace"></a>
          <a class="indexterm" name="id533875"></a>

          <a class="indexterm" name="id533887"></a>

          <code class="literal">-DENABLE_DTRACE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include support for DTrace probes. For information
          about DTrace, wee <a href="server-administration.html#dba-dtrace-server" title="5.7. Tracing mysqld Using DTrace">Section 5.7, “Tracing <span><strong class="command">mysqld</strong></span> Using DTrace”</a>
        </p></li><li><p><a name="option_cmake_enable_gcov"></a>
          <a class="indexterm" name="id533925"></a>

          <a class="indexterm" name="id533938"></a>

          <code class="literal">-DENABLE_DTRACE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include gcov support (Linux only).
        </p></li><li><p><a name="option_cmake_enabled_local_infile"></a>
          <a class="indexterm" name="id533971"></a>

          <a class="indexterm" name="id533983"></a>

          <code class="literal">-DENABLED_LOCAL_INFILE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable <code class="literal">LOCAL</code> capability in the
          client library for
          <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
          INFILE</code></a>.
        </p><p>
          This option controls client-side <code class="literal">LOCAL</code>
          capability, but the capability can be set on the server side
          at server startup with the
          <a href="server-administration.html#option_mysqld_local-infile"><code class="option">--local-infile</code></a> option. See
          <a href="server-administration.html#load-data-local" title="5.3.5. Security Issues with LOAD
      DATA LOCAL">Section 5.3.5, “Security Issues with <code class="literal">LOAD
      DATA LOCAL</code>”</a>.
        </p></li><li><p><a name="option_cmake_enabled_profiling"></a>
          <a class="indexterm" name="id534052"></a>

          <a class="indexterm" name="id534065"></a>

          <code class="literal">-DENABLED_PROFILING=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable query profiling code (for the
          <a href="sql-syntax.html#show-profile" title="12.7.5.31. SHOW PROFILE Syntax"><code class="literal">SHOW PROFILE</code></a> and
          <a href="sql-syntax.html#show-profiles" title="12.7.5.32. SHOW PROFILES Syntax"><code class="literal">SHOW PROFILES</code></a> statements).
        </p></li><li><p><a name="option_cmake_mysql_maintainer_mode"></a>
          <a class="indexterm" name="id534112"></a>

          <a class="indexterm" name="id534125"></a>

          <code class="literal">-DMYSQL_MAINTAINER_MODE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable a MySQL maintainer-specific development
          environment. If enabled, this option causes compiler warnings
          to become errors.
        </p></li><li><p><a name="option_cmake_mysql_project_name"></a>
          <a class="indexterm" name="id534159"></a>

          <a class="indexterm" name="id534172"></a>

          <code class="literal">-DMYSQL_PROJECT_NAME=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          For Windows or Mac OS X, the project name to incorporate into
          the project file name. This option was added in MySQL 5.5.21.
        </p></li><li><p><a name="option_cmake_mysql_tcp_port"></a>
          <a class="indexterm" name="id534206"></a>

          <a class="indexterm" name="id534218"></a>

          <code class="literal">-DMYSQL_TCP_PORT=<em class="replaceable"><code>port_num</code></em></code>
        </p><p>
          The port number on on which the server listens for TCP/IP
          connections. The default is 3306.
        </p><p>
          This value can be set at server startup with the
          <a href="server-administration.html#option_mysqld_port"><code class="option">--port</code></a> option.
        </p></li><li><p><a name="option_cmake_mysql_unix_addr"></a>
          <a class="indexterm" name="id534263"></a>

          <a class="indexterm" name="id534276"></a>

          <code class="literal">-DMYSQL_UNIX_ADDR=<em class="replaceable"><code>file_name</code></em></code>
        </p><p>
          The Unix socket file path on which the server listens for
          socket connections. This must be an absolute path name. The
          default is <code class="filename">/tmp/mysql.sock</code>.
        </p><p>
          This value can be set at server startup with the
          <a href="server-administration.html#option_mysqld_socket"><code class="option">--socket</code></a> option.
        </p></li><li><p><a name="option_cmake_with_comment"></a>
          <a class="indexterm" name="id534326"></a>

          <a class="indexterm" name="id534339"></a>

          <code class="literal">-DWITH_COMMENT=<em class="replaceable"><code>string</code></em></code>
        </p><p>
          A descriptive comment about the compilation environment.
        </p></li><li><p><a name="option_cmake_with_debug"></a>
          <a class="indexterm" name="id534372"></a>

          <a class="indexterm" name="id534384"></a>

          <code class="literal">-DWITH_DEBUG=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include debugging support.
        </p><p>
          Configuring MySQL with debugging support enables you to use
          the <a href="server-administration.html#option_mysqld_debug"><code class="option">--debug="d,parser_debug"</code></a>
          option when you start the server. This causes the Bison parser
          that is used to process SQL statements to dump a parser trace
          to the server's standard error output. Typically, this output
          is written to the error log.
        </p></li><li><p><a name="option_cmake_with_embedded_server"></a>
          <a class="indexterm" name="id534431"></a>

          <a class="indexterm" name="id534444"></a>

          <code class="literal">-DWITH_EMBEDDED_SERVER=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to build the <code class="literal">libmysqld</code> embedded
          server library.
        </p></li><li><p><a name="option_cmake_with_extra_charsets"></a>
          <a class="indexterm" name="id534483"></a>

          <a class="indexterm" name="id534495"></a>

          <code class="literal">-DWITH_EXTRA_CHARSETS=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          Which extra character sets to include:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">all</code>: All character sets. This is the
              default.
            </p></li><li><p>
              <code class="literal">complex</code>: Complex character sets.
            </p></li><li><p>
              <code class="literal">none</code>: No extra character sets.
            </p></li></ul></div></li><li><p><a name="option_cmake_with_libwrap"></a>
          <a class="indexterm" name="id534570"></a>

          <a class="indexterm" name="id534582"></a>

          <code class="literal">-DWITH_LIBWRAP=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include <code class="literal">libwrap</code> (TCP wrappers)
          support.
        </p></li><li><p><a name="option_cmake_with_readline"></a>
          <a class="indexterm" name="id534621"></a>

          <a class="indexterm" name="id534634"></a>

          <code class="literal">-DWITH_READLINE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to use the <code class="literal">readline</code> library bundled
          with the distribution.
        </p></li><li><p><a name="option_cmake_with_ssl"></a>
          <a class="indexterm" name="id534673"></a>

          <a class="indexterm" name="id534685"></a>

          <code class="literal">-DWITH_SSL=<em class="replaceable"><code>ssl_type</code></em></code>
        </p><p>
          The type of SSL support to include, if any:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">no</code>: No SSL support. This is the
              default.
            </p></li><li><p>
              <code class="literal">yes</code>: Use the system SSL library if
              present, else the library bundled with the distribution.
            </p></li><li><p>
              <code class="literal">bundled</code>: Use the SSL library bundled
              with the distribution.
            </p></li><li><p>
              <code class="literal">system</code>: Use the system SSL library.
            </p></li></ul></div><p>
          For information about using SSL support, see
          <a href="server-administration.html#secure-connections" title="5.5.8. Using SSL for Secure Connections">Section 5.5.8, “Using SSL for Secure Connections”</a>.
        </p></li><li><p><a name="option_cmake_with_zlib"></a>
          <a class="indexterm" name="id534781"></a>

          <a class="indexterm" name="id534793"></a>

          <code class="literal">-DWITH_ZLIB=<em class="replaceable"><code>zlib_type</code></em></code>
        </p><p>
          Some features require that the server be built with
          compression library support, such as the
          <a href="functions.html#function_compress"><code class="literal">COMPRESS()</code></a> and
          <a href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS()</code></a> functions, and
          compression of the client/server protocol. The
          <a href="installing.html#option_cmake_with_zlib"><code class="option">WITH_ZLIB</code></a> indicates the source
          of <code class="literal">zlib</code> support:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">bundled</code>: Use the
              <code class="literal">zlib</code> library bundled with the
              distribution.
            </p></li><li><p>
              <code class="literal">system</code>: Use the system
              <code class="literal">zlib</code> library. This is the default.
            </p></li></ul></div></li></ul></div><h4><a name="cmake-compiler-flags"></a>
      Compiler Flags
    </h4><p>
      To specify compiler flags, set the <code class="literal">CFLAGS</code> and
      <code class="literal">CXXFLAGS</code> environment variables before running
      <span><strong class="command">CMake</strong></span>. Example:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>CFLAGS=-DDISABLE_GRANT_OPTIONS</code></strong>
shell&gt; <strong class="userinput"><code>CXXFLAGS=-DDISABLE_GRANT_OPTIONS</code></strong>
shell&gt; <strong class="userinput"><code>export CFLAGS CXXFLAGS</code></strong>
shell&gt; <strong class="userinput"><code>cmake [<em class="replaceable"><code>options</code></em>]</code></strong>
</pre><p>
      The following flags control configuration features:
    </p><div class="itemizedlist"><ul type="disc"><li><p><a name="option_cmake_disable_grant_options"></a>
          <a class="indexterm" name="id534964"></a>

          <a class="indexterm" name="id534977"></a>

          <code class="literal">DISABLE_GRANT_OPTIONS</code>
        </p><p>
          If this flag is defined, it causes the
          <a href="server-administration.html#option_mysqld_bootstrap"><code class="option">--bootstrap</code></a>,
          <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>, and
          <a href="server-administration.html#option_mysqld_init-file"><code class="option">--init-file</code></a> options for
          <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to be disabled.
        </p></li><li><p><a name="option_cmake_have_embedded_privilege_control"></a>
          <a class="indexterm" name="id535036"></a>

          <a class="indexterm" name="id535049"></a>

          <code class="literal">HAVE_EMBEDDED_PRIVILEGE_CONTROL</code>
        </p><p>
          By default, authentication for connections to the embedded
          server is disabled. To enable connection authentication,
          define this flag.
        </p></li></ul></div><h4><a name="cmake-mysql-cluster-options"></a>
      <span><strong class="command">CMake</strong></span> Options for Compiling MySQL Cluster
    </h4><p>
      The following options are for use when building MySQL Cluster NDB
      7.2 and. These options are supported only with the MySQL Cluster
      NDB 7.2 and later MySQL Cluster sources; they are not supported
      with sources from the MySQL 5.5 Server tree.
    </p><div class="itemizedlist"><ul type="disc"><li><p><a name="option_cmake_memcached_home"></a>
          <a class="indexterm" name="id535101"></a>

          <a class="indexterm" name="id535114"></a>

          <code class="literal">-DMEMCACHED_HOME=<em class="replaceable"><code>path</code></em></code>
        </p><p>
          Perform the build using the memcached (version 1.6 or later)
          installed in the system directory indicated by
          <em class="replaceable"><code>path</code></em>. Files from this installation
          that are used in the build include the memcached binary,
          header files, and libraries, as well as the
          <code class="literal">memcached_utilities</code> library and the header
          file <code class="filename">engine_testapp.h</code>.
        </p><p>
          You must leave this option unset when building ndbmemcache
          using the bundled memcached sources
          (<a href="installing.html#option_cmake_with_bundled_memcached"><code class="option">WITH_BUNDLED_MEMCACHED</code></a> option);
          in other words, the bundled sources are used by default).
        </p><p>
          This option was added in MySQL Cluster NDB 7.2.2.
        </p><p>
          While additional <span><strong class="command">CMake</strong></span> options—such
          as for SASL authorization and for providing
          <code class="literal">dtrace</code> support—are available for use
          when compiling <span><strong class="command">memcached</strong></span> from external
          sources, these options are currently not enabled for the
          <span><strong class="command">memcached</strong></span> sources bundled with MySQL
          Cluster.
        </p></li><li><p><a name="option_cmake_with_bundled_libevent"></a>
          <a class="indexterm" name="id535211"></a>

          <a class="indexterm" name="id535224"></a>

          <code class="literal">-DWITH_BUNDLED_LIBEVENT={ON|OFF}</code>
        </p><p>
          Use the <code class="literal">libevent</code> included in the MySQL
          Cluster sources when building MySQL Cluster with ndbmemcached
          support (MySQL Cluster NDB 7.2.2 and later). Enabled by
          default. OFF causes the system's libevent to be used
          instead.
        </p></li><li><p><a name="option_cmake_with_bundled_memcached"></a>
          <a class="indexterm" name="id535262"></a>

          <a class="indexterm" name="id535275"></a>

          <code class="literal">-DWITH_BUNDLED_MEMCACHED={ON|OFF}</code>
        </p><p>
          Build the memcached sources included in the MySQL Cluster
          source tree (MySQL Cluster NDB 7.2.3 and later), then use the
          resulting memcached server when building the ndbmemcache
          engine. In this case, <span><strong class="command">make install</strong></span> places
          the <span><strong class="command">memcached</strong></span> binary in the installation
          <code class="filename">bin</code> directory, and the ndbmemcache engine
          shared object file <code class="filename">ndb_engine.so</code> in the
          installation <code class="filename">lib</code> directory.
        </p><p>
          This option is ON by default.
        </p></li><li><p><a name="option_cmake_with_classpath"></a>
          <a class="indexterm" name="id535341"></a>

          <a class="indexterm" name="id535354"></a>

          <code class="literal">-DWITH_CLASSPATH=<em class="replaceable"><code>path</code></em></code>
        </p><p>
          Sets the classpath for building MySQL Cluster Connector for
          Java. Default is empty.
        </p></li><li><p><a name="option_cmake_with_error_insert"></a>
          <a class="indexterm" name="id535387"></a>

          <a class="indexterm" name="id535400"></a>

          <code class="literal">-DWITH_ERROR_INSERT={ON|OFF}</code>
        </p><p>
          Enables error injection in the
          <a href="mysql-cluster.html" title="Chapter 16. MySQL Cluster NDB 7.2"><code class="literal">NDB</code></a> kernel. For testing only; not
          intended for use in building production binaries. Default is
          OFF.
        </p></li><li><p><a name="option_cmake_with_ndbcluster_storage_engine"></a>
          <a class="indexterm" name="id535439"></a>

          <a class="indexterm" name="id535451"></a>

          <code class="literal">-DWITH_NDBCLUSTER_STORAGE_ENGINE={ON|OFF}</code>
        </p><p>
          Build and link in support for the
          <a href="mysql-cluster.html" title="Chapter 16. MySQL Cluster NDB 7.2"><code class="literal">NDB</code></a>
          (<a href="mysql-cluster.html" title="Chapter 16. MySQL Cluster NDB 7.2"><code class="literal">NDBCLUSTER</code></a>) storage engine in
          <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>. Default is ON.
        </p></li><li><p><a name="option_cmake_with_ndbmtd"></a>
          <a class="indexterm" name="id535504"></a>

          <a class="indexterm" name="id535516"></a>

          <code class="literal">-DWITH_NDBMTD={ON|OFF}</code>
        </p><p>
          Build the multithreaded data node executable
          <a href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="16.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span><strong class="command">ndbmtd</strong></span></a>. Default s ON.
        </p></li><li><p><a name="option_cmake_with_ndb_binlog"></a>
          <a class="indexterm" name="id535554"></a>

          <a class="indexterm" name="id535566"></a>

          <code class="literal">-DWITH_NDB_BINLOG={ON|OFF}</code>
        </p><p>
          Enable binary logging by default in the
          <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> built using this option. ON by
          default.
        </p></li><li><p><a name="option_cmake_with_ndb_debug"></a>
          <a class="indexterm" name="id535605"></a>

          <a class="indexterm" name="id535617"></a>

          <code class="literal">-DWITH_NDB_DEBUG={ON|OFF}</code>
        </p><p>
          Enable building the debug versions of the MySQL Cluster
          binaries. OFF by default.
        </p></li><li><p><a name="option_cmake_with_ndb_port"></a>
          <a class="indexterm" name="id535649"></a>

          <a class="indexterm" name="id535661"></a>

          <code class="literal">-DWITH_NDB_PORT=<em class="replaceable"><code>port</code></em></code>
        </p><p>
          Causes the MySQL Cluster management server
          (<a href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="16.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span><strong class="command">ndb_mgmd</strong></span></a>) that is built to use this
          <em class="replaceable"><code>port</code></em> by default. If this option is
          unset, the resulting management server tries to use port 1186
          by default.
        </p></li><li><p><a name="option_cmake_with_ndb_test"></a>
          <a class="indexterm" name="id535706"></a>

          <a class="indexterm" name="id535719"></a>

          <code class="literal">-DWITH_NDB_TEST={ON|OFF}</code>
        </p><p>
          If enabled, include a set of NDB API test programs. The
          default is OFF.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="compilation-problems"></a>2.9.5. Dealing with Problems Compiling MySQL</h3></div></div></div><a class="indexterm" name="id535753"></a><a class="indexterm" name="id535766"></a><a class="indexterm" name="id535778"></a><a class="indexterm" name="id535787"></a><p>
      The solution to many problems involves reconfiguring. If you do
      reconfigure, take note of the following:
    </p><a class="indexterm" name="id535800"></a><a class="indexterm" name="id535809"></a><div class="itemizedlist"><ul type="disc"><li><p>
          If <span><strong class="command">CMake</strong></span> is run after it has previously
          been run, it may use information that was gathered during its
          previous invocation. This information is stored in
          <code class="filename">CMakeCache.txt</code>. When
          <span><strong class="command">CMake</strong></span> starts up, it looks for that file and
          reads its contents if it exists, on the assumption that the
          information is still correct. That assumption is invalid when
          you reconfigure.
        </p></li><li><p>
          Each time you run <span><strong class="command">CMake</strong></span>, you must run
          <span><strong class="command">make</strong></span> again to recompile. However, you may
          want to remove old object files from previous builds first
          because they were compiled using different configuration
          options.
        </p></li></ul></div><p>
      To prevent old object files or configuration information from
      being used, run these commands on Unix before re-running
      <span><strong class="command">CMake</strong></span>:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make clean</code></strong>
shell&gt; <strong class="userinput"><code>rm CMakeCache.txt</code></strong>
</pre><p>
      Or, on Windows:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>devenv MySQL.sln /clean</code></strong>
shell&gt; <strong class="userinput"><code>del CMakeCache.txt</code></strong>
</pre><p>
      If you build out of the source tree, remove and recreate your
      build directory before re-running <span><strong class="command">CMake</strong></span>. For
      instructions on building outside of the source tree, see
      <a href="http://forge.mysql.com/wiki/CMake" target="_top">http://forge.mysql.com/wiki/CMake</a>.
    </p><p>
      On some systems, warnings may occur due to differences in system
      include files. The following list describes other problems that
      have been found to occur most often when compiling MySQL:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          <a class="indexterm" name="id535950"></a>

          <a class="indexterm" name="id535958"></a>

          <a class="indexterm" name="id535971"></a>

          <a class="indexterm" name="id535980"></a>

          <a class="indexterm" name="id535992"></a>

          <a class="indexterm" name="id536001"></a>

          <a class="indexterm" name="id536013"></a>

          <a class="indexterm" name="id536022"></a>

          To define flags to be used by your C or C++ compilers, specify
          them using the <code class="literal">CFLAGS</code> and
          <code class="literal">CXXFLAGS</code> environment variables. You can
          also specify the compiler names this way using
          <code class="literal">CC</code> and <code class="literal">CXX</code>. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>CC=gcc</code></strong>
shell&gt; <strong class="userinput"><code>CFLAGS=-O3</code></strong>
shell&gt; <strong class="userinput"><code>CXX=gcc</code></strong>
shell&gt; <strong class="userinput"><code>CXXFLAGS=-O3</code></strong>
shell&gt; <strong class="userinput"><code>export CC CFLAGS CXX CXXFLAGS</code></strong>
</pre><p>
          To see what flags you might need to specify, invoke
          <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a> with the
          <a href="programs.html#option_mysql_config_cflags"><code class="option">--cflags</code></a> option.
        </p></li><li><p>
          If compilation fails, check whether the
          <a href="installing.html#option_cmake_mysql_maintainer_mode"><code class="option">MYSQL_MAINTAINER_MODE</code></a> option is
          enabled. This mode causes compiler warnings to become errors,
          so disabling it may enable compilation to proceed.
        </p></li><li><p>
          If your compile fails with errors such as any of the
          following, you must upgrade your version of
          <span><strong class="command">make</strong></span> to GNU <span><strong class="command">make</strong></span>:
        </p><pre class="programlisting">make: Fatal error in reader: Makefile, line 18:
Badly formed macro assignment</pre><p>
          Or:
        </p><pre class="programlisting">make: file `Makefile' line 18: Must be a separator (:</pre><p>
          Or:
        </p><pre class="programlisting">pthread.h: No such file or directory</pre><a class="indexterm" name="id536175"></a><a class="indexterm" name="id536184"></a><a class="indexterm" name="id536193"></a><a class="indexterm" name="id536205"></a><p>
          Solaris and FreeBSD are known to have troublesome
          <span><strong class="command">make</strong></span> programs.
        </p><p>
          GNU <span><strong class="command">make</strong></span> 3.75 is known to work.
        </p></li><li><p>
          The <code class="filename">sql_yacc.cc</code> file is generated from
          <code class="filename">sql_yacc.yy</code>. Normally, the build process
          does not need to create <code class="filename">sql_yacc.cc</code>
          because MySQL comes with a pregenerated copy. However, if you
          do need to re-create it, you might encounter this error:
        </p><pre class="programlisting">"sql_yacc.yy", line <em class="replaceable"><code>xxx</code></em> fatal: default action causes potential...
</pre><p>
          This is a sign that your version of <span><strong class="command">yacc</strong></span> is
          deficient. You probably need to install
          <span><strong class="command">bison</strong></span> (the GNU version of
          <span><strong class="command">yacc</strong></span>) and use that instead.
        </p><p>
          Versions of <span><strong class="command">bison</strong></span> older than 1.75 may
          report this error:
        </p><pre class="programlisting">sql_yacc.yy:#####: fatal error: maximum table size (32767) exceeded</pre><p>
          The maximum table size is not actually exceeded; the error is
          caused by bugs in older versions of <span><strong class="command">bison</strong></span>.
        </p></li></ul></div><p>
      For information about acquiring or updating tools, see the system
      requirements in <a href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="source-configuration-third-party"></a>2.9.6. MySQL Configuration and Third-Party Tools</h3></div></div></div><a class="indexterm" name="id536342"></a><a class="indexterm" name="id536354"></a><p>
      Third-party tools that need to determine the MySQL version from
      the MySQL source can read the <code class="filename">VERSION</code> file in
      the top-level source directory. The file lists the pieces of the
      version separately. For example, if the version is 5.5.8, the file
      looks like this:
    </p><pre class="programlisting">MYSQL_VERSION_MAJOR=5
MYSQL_VERSION_MINOR=5
MYSQL_VERSION_PATCH=8
MYSQL_VERSION_EXTRA=</pre><p>
      If the source is not for a General Availability (GA) release, the
      <code class="literal">MYSQL_VERSION_EXTRA</code> value will be nonempty. For
      example, the value for a Release Candidate release would look like
      this:
    </p><pre class="programlisting">MYSQL_VERSION_EXTRA=rc</pre><p>
      To construct a five-digit number from the version components, use
      this formula:
    </p><pre class="programlisting">MYSQL_VERSION_MAJOR*10000 + MYSQL_VERSION_MINOR*100 + MYSQL_VERSION_PATCH</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="postinstallation"></a>2.10. Postinstallation Setup and Testing</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#unix-postinstallation">2.10.1. Unix Postinstallation Procedures</a></span></dt><dt><span class="section"><a href="installing.html#default-privileges">2.10.2. Securing the Initial MySQL Accounts</a></span></dt></dl></div><a class="indexterm" name="id536421"></a><a class="indexterm" name="id536434"></a><a class="indexterm" name="id536446"></a><p>
    After installing MySQL, there are some issues that you should
    address. For example, on Unix, you should initialize the data
    directory and create the MySQL grant tables. On all platforms, an
    important security concern is that the initial accounts in the grant
    tables have no passwords. You should assign passwords to prevent
    unauthorized access to the MySQL server. Optionally, you can create
    time zone tables to enable recognition of named time zones.
  </p><p>
    The following sections include postinstallation procedures that are
    specific to Windows systems and to Unix systems. Another section,
    <a href="installing.html#starting-server" title="2.10.1.3. Starting and Troubleshooting the MySQL Server">Section 2.10.1.3, “Starting and Troubleshooting the MySQL Server”</a>, applies to all platforms; it
    describes what to do if you have trouble getting the server to
    start. <a href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>, also applies to all
    platforms. You should follow its instructions to make sure that you
    have properly protected your MySQL accounts by assigning passwords
    to them.
  </p><p>
    When you are ready to create additional user accounts, you can find
    information on the MySQL access control system and account
    management in <a href="server-administration.html#privilege-system" title="5.4. The MySQL Access Privilege System">Section 5.4, “The MySQL Access Privilege System”</a>, and
    <a href="server-administration.html#user-account-management" title="5.5. MySQL User Account Management">Section 5.5, “MySQL User Account Management”</a>.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="unix-postinstallation"></a>2.10.1. Unix Postinstallation Procedures</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#mysql-install-db-problems">2.10.1.1. Problems Running <span><strong class="command">mysql_install_db</strong></span></a></span></dt><dt><span class="section"><a href="installing.html#automatic-start">2.10.1.2. Starting and Stopping MySQL Automatically</a></span></dt><dt><span class="section"><a href="installing.html#starting-server">2.10.1.3. Starting and Troubleshooting the MySQL Server</a></span></dt></dl></div><p>
      After installing MySQL on Unix, you must initialize the grant
      tables, start the server, and make sure that the server works
      satisfactorily. You may also wish to arrange for the server to be
      started and stopped automatically when your system starts and
      stops. You should also assign passwords to the accounts in the
      grant tables.
    </p><p>
      On Unix, the grant tables are set up by the
      <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> program. For some installation
      methods, this program is run for you automatically if an existing
      database cannot be found.
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          If you install MySQL on Linux using RPM distributions, the
          server RPM runs <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>.
        </p></li><li><p>
          Using the native packaging system on many platforms, including
          Debian Linux, Ubuntu Linux, Gentoo Linux and others, the
          <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> command is run for you.
        </p></li><li><p>
          If you install MySQL on Mac OS X using a PKG distribution, the
          installer runs <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>.
        </p></li></ul></div><p>
      For other platforms and installation types, including generic
      binary and source installs, you will need to run
      <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> yourself.
    </p><p>
      The following procedure describes how to initialize the grant
      tables (if that has not previously been done) and start the
      server. It also suggests some commands that you can use to test
      whether the server is accessible and working properly. For
      information about starting and stopping the server automatically,
      see <a href="installing.html#automatic-start" title="2.10.1.2. Starting and Stopping MySQL Automatically">Section 2.10.1.2, “Starting and Stopping MySQL Automatically”</a>.
    </p><p>
      After you complete the procedure and have the server running, you
      should assign passwords to the accounts created by
      <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> and perhaps restrict access to
      test databases. For instructions, see
      <a href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>.
    </p><p>
      In the examples shown here, the server runs under the user ID of
      the <code class="literal">mysql</code> login account. This assumes that such
      an account exists. Either create the account if it does not exist,
      or substitute the name of a different existing login account that
      you plan to use for running the server. For information about
      creating the account, see
      <a href="installing.html#binary-installation-createsysuser">Creating a
      <code class="literal">mysql</code> System User and Group</a>, in
      <a href="installing.html#binary-installation" title="2.2. Installing MySQL from Generic Binaries on Unix/Linux">Section 2.2, “Installing MySQL from Generic Binaries on Unix/Linux”</a>.
    </p><a class="indexterm" name="id536638"></a><a class="indexterm" name="id536650"></a><a class="indexterm" name="id536662"></a><div class="orderedlist"><ol type="1"><li><p>
          Change location into the top-level directory of your MySQL
          installation, represented here by
          <em class="replaceable"><code>BASEDIR</code></em>:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd <em class="replaceable"><code>BASEDIR</code></em></code></strong>
</pre><p>
          <em class="replaceable"><code>BASEDIR</code></em> is the installation
          directory for your MySQL instance. It is likely to be
          something like <code class="filename">/usr/local/mysql</code> or
          <code class="filename">/usr/local</code>. The following steps assume
          that you have changed location to this directory.
        </p><p>
          You will find several files and subdirectories in the
          <em class="replaceable"><code>BASEDIR</code></em> directory. The most
          important for installation purposes are the
          <code class="filename">bin</code> and <code class="filename">scripts</code>
          subdirectories:
        </p><div class="itemizedlist"><a class="indexterm" name="id536748"></a><a class="indexterm" name="id536757"></a><ul type="disc"><li><p>
              The <code class="filename">bin</code> directory contains client
              programs and the server. You should add the full path name
              of this directory to your <code class="literal">PATH</code>
              environment variable so that your shell finds the MySQL
              programs properly. See
              <a href="installing.html#environment-variables" title="2.12. Environment Variables">Section 2.12, “Environment Variables”</a>.
            </p></li><li><p>
              The <code class="filename">scripts</code> directory contains the
              <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script used to
              initialize the <code class="literal">mysql</code> database
              containing the grant tables that store the server access
              permissions.
            </p></li></ul></div></li><li><p>
          If necessary, ensure that the distribution contents are
          accessible to <code class="literal">mysql</code>. If you installed the
          distribution as <code class="literal">mysql</code>, no further action is
          required. If you installed the distribution as
          <code class="literal">root</code>, its contents will be owned by
          <code class="literal">root</code>. Change its ownership to
          <code class="literal">mysql</code> by executing the following commands
          as <code class="literal">root</code> in the installation directory. The
          first command changes the owner attribute of the files to the
          <code class="literal">mysql</code> user. The second changes the group
          attribute to the <code class="literal">mysql</code> group.
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>chown -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
</pre></li><li><p>
          If necessary, run the <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>
          program to set up the initial MySQL grant tables containing
          the privileges that determine how users are permitted to
          connect to the server. You will need to do this if you used a
          distribution type for which the installation procedure does
          not run the program for you.
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
</pre><p>
          Typically, <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> needs to be run
          only the first time you install MySQL, so you can skip this
          step if you are upgrading an existing installation, However,
          <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> does not overwrite any
          existing privilege tables, so it should be safe to run in any
          circumstances.
        </p><p>
          It might be necessary to specify other options such as
          <a href="programs.html#option_mysql_install_db_basedir"><code class="option">--basedir</code></a> or
          <a href="programs.html#option_mysql_install_db_datadir"><code class="option">--datadir</code></a> if
          <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> does not identify the
          correct locations for the installation directory or data
          directory. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql \</code></strong>
         <strong class="userinput"><code>--basedir=/opt/mysql/mysql \</code></strong>
         <strong class="userinput"><code>--datadir=/opt/mysql/mysql/data</code></strong>
</pre><p>
          The <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script creates the
          server's data directory with <code class="literal">mysql</code> as the
          owner. Under the data directory, it creates directories for
          the <code class="literal">mysql</code> database that holds the grant
          tables and the <code class="literal">test</code> database that you can
          use to test MySQL. The script also creates privilege table
          entries for <code class="literal">root</code> and anonymous-user
          accounts. The accounts have no passwords initially.
          <a href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>, describes the initial
          privileges. Briefly, these privileges permit the MySQL
          <code class="literal">root</code> user to do anything, and permit
          anybody to create or use databases with a name of
          <code class="literal">test</code> or starting with
          <code class="literal">test_</code>. See
          <a href="server-administration.html#privilege-system" title="5.4. The MySQL Access Privilege System">Section 5.4, “The MySQL Access Privilege System”</a>, for a complete listing and
          description of the grant tables.
        </p><p>
          It is important to make sure that the database directories and
          files are owned by the <code class="literal">mysql</code> login account
          so that the server has read and write access to them when you
          run it later. To ensure this if you run
          <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> as
          <code class="literal">root</code>, include the
          <a href="programs.html#option_mysql_install_db_user"><code class="option">--user</code></a> option as
          shown. Otherwise, you should execute the script while logged
          in as <code class="literal">mysql</code>, in which case you can omit the
          <a href="programs.html#option_mysql_install_db_user"><code class="option">--user</code></a> option from
          the command.
        </p><p>
          If you do not want to have the <code class="literal">test</code>
          database, you can remove it after starting the server, using
          the instructions in <a href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>.
        </p><p>
          If you have trouble with <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>
          at this point, see
          <a href="installing.html#mysql-install-db-problems" title="2.10.1.1. Problems Running mysql_install_db">Section 2.10.1.1, “Problems Running <span><strong class="command">mysql_install_db</strong></span>”</a>.
        </p></li><li><p>
          Most of the MySQL installation can be owned by
          <code class="literal">root</code> if you like. The exception is that the
          data directory must be owned by <code class="literal">mysql</code>. To
          accomplish this, run the following commands as
          <code class="literal">root</code> in the installation directory:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data</code></strong>
</pre></li><li><p>
          If the plugin directory (the directory named by the
          <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> system variable)
          is writable by the server, it may be possible for a user to
          write executable code to a file in the directory using
          <a href="sql-syntax.html#select-into" title="12.2.9.1. SELECT ... INTO
        Syntax"><code class="literal">SELECT ... INTO
          DUMPFILE</code></a>. This can be prevented by making
          <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> read only to the
          server or by setting
          <a href="server-administration.html#option_mysqld_secure-file-priv"><code class="option">--secure-file-priv</code></a> to a
          directory where <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> writes
          can be made safely.
        </p></li><li><p>
          If you installed MySQL using a source distribution, you may
          want to optionally copy one of the provided configuration
          files from the <code class="filename">support-files</code> directory
          into your <code class="filename">/etc</code> directory. There are
          different sample configuration files for different use cases,
          server types, and CPU and RAM configurations. If you want to
          use one of these standard files, you should copy it to
          <code class="filename">/etc/my.cnf</code>, or
          <code class="filename">/etc/mysql/my.cnf</code> and edit and check the
          configuration before starting your MySQL server for the first
          time.
        </p><p>
          If you do not copy one of the standard configuration files,
          the MySQL server will be started with the default settings.
        </p><p>
          If you want MySQL to start automatically when you boot your
          machine, you can copy
          <code class="filename">support-files/mysql.server</code> to the
          location where your system has its startup files. More
          information can be found in the
          <code class="filename">mysql.server</code> script itself, and in
          <a href="installing.html#automatic-start" title="2.10.1.2. Starting and Stopping MySQL Automatically">Section 2.10.1.2, “Starting and Stopping MySQL Automatically”</a>.
        </p></li><li><p>
          Start the MySQL server:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
          It is important that the MySQL server be run using an
          unprivileged (non-<code class="literal">root</code>) login account. To
          ensure this if you run <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a> as
          <code class="literal">root</code>, include the
          <a href="programs.html#option_mysqld_safe_user"><code class="option">--user</code></a> option as shown.
          Otherwise, you should execute the script while logged in as
          <code class="literal">mysql</code>, in which case you can omit the
          <a href="programs.html#option_mysqld_safe_user"><code class="option">--user</code></a> option from the
          command.
        </p><p>
          For further instructions for running MySQL as an unprivileged
          user, see <a href="server-administration.html#changing-mysql-user" title="5.3.6. How to Run MySQL as a Normal User">Section 5.3.6, “How to Run MySQL as a Normal User”</a>.
        </p><p>
          If the command fails immediately and prints <code class="literal">mysqld
          ended</code>, look for information in the error log (which
          by default is the
          <code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code>
          file in the data directory).
        </p><p>
          If you neglected to create the grant tables by running
          <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> before proceeding to this
          step, the following message appears in the error log file when
          you start the server:
        </p><a class="indexterm" name="id537394"></a><pre class="programlisting">mysqld: Can't find file: 'host.frm'</pre><p>
          This error also occurs if you run
          <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> as <code class="literal">root</code>
          without the <a href="programs.html#option_mysql_install_db_user"><code class="option">--user</code></a>
          option. Remove the <code class="filename">data</code> directory and run
          <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> with the
          <a href="programs.html#option_mysql_install_db_user"><code class="option">--user</code></a> option as
          described previously.
        </p><p>
          If you have other problems starting the server, see
          <a href="installing.html#starting-server" title="2.10.1.3. Starting and Troubleshooting the MySQL Server">Section 2.10.1.3, “Starting and Troubleshooting the MySQL Server”</a>. For more information about
          <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a>, see
          <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script">Section 4.3.2, “<span><strong class="command">mysqld_safe</strong></span> — MySQL Server Startup Script”</a>.
        </p></li><li><p>
          Use <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a> to verify that the server is
          running. The following commands provide simple tests to check
          whether the server is up and responding to connections:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin version</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqladmin variables</code></strong>
</pre><p>
          The output from <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin version</strong></span></a> varies
          slightly depending on your platform and version of MySQL, but
          should be similar to that shown here:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin version</code></strong>
mysqladmin  Ver 14.12 Distrib 5.5.22, for pc-linux-gnu on i686
...

Server version          5.5.22
Protocol version        10
Connection              Localhost via UNIX socket
UNIX socket             /var/lib/mysql/mysql.sock
Uptime:                 14 days 5 hours 5 min 21 sec

Threads: 1  Questions: 366  Slow queries: 0
Opens: 0  Flush tables: 1  Open tables: 19
Queries per second avg: 0.000
</pre><p>
          To see what else you can do with
          <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a>, invoke it with the
          <a href="programs.html#option_mysqladmin_help"><code class="option">--help</code></a> option.
        </p></li><li><p>
          <a class="indexterm" name="id537560"></a>

          <a class="indexterm" name="id537572"></a>

          Verify that you can shut down the server:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root shutdown</code></strong>
</pre></li><li><p>
          Verify that you can start the server again. Do this by using
          <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a> or by invoking
          <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> directly. For example:
        </p><a class="indexterm" name="id537620"></a><a class="indexterm" name="id537632"></a><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
          If <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a> fails, see
          <a href="installing.html#starting-server" title="2.10.1.3. Starting and Troubleshooting the MySQL Server">Section 2.10.1.3, “Starting and Troubleshooting the MySQL Server”</a>.
        </p></li><li><p>
          Run some simple tests to verify that you can retrieve
          information from the server. The output should be similar to
          what is shown here:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqlshow</code></strong>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| test               |
+--------------------+

shell&gt; <strong class="userinput"><code>bin/mysqlshow mysql</code></strong>
Database: mysql
+---------------------------+
|          Tables           |
+---------------------------+
| columns_priv              |
| db                        |
| event                     |
| func                      |
| help_category             |
| help_keyword              |
| help_relation             |
| help_topic                |
| host                      |
| plugin                    |
| proc                      |
| procs_priv                |
| servers                   |
| tables_priv               |
| time_zone                 |
| time_zone_leap_second     |
| time_zone_name            |
| time_zone_transition      |
| time_zone_transition_type |
| user                      |
+---------------------------+

shell&gt; <strong class="userinput"><code>bin/mysql -e "SELECT Host,Db,User FROM db" mysql</code></strong>
+------+--------+------+
| host | db     | user |
+------+--------+------+
| %    | test   |      |
| %    | test_% |      |
+------+--------+------+
</pre></li><li><p>
          There is a benchmark suite in the
          <code class="filename">sql-bench</code> directory (under the MySQL
          installation directory) that you can use to compare how MySQL
          performs on different platforms. The benchmark suite is
          written in Perl. It requires the Perl DBI module that provides
          a database-independent interface to the various databases, and
          some other additional Perl modules:
        </p><pre class="programlisting">DBI
DBD::mysql
Data::Dumper
Data::ShowTable</pre><p>
          These modules can be obtained from CPAN
          (<a href="http://www.cpan.org/" target="_top">http://www.cpan.org/</a>). See also
          <a href="installing.html#perl-installation" title="2.13.1. Installing Perl on Unix">Section 2.13.1, “Installing Perl on Unix”</a>.
        </p><p>
          The <code class="filename">sql-bench/Results</code> directory contains
          the results from many runs against different databases and
          platforms. To run all tests, execute these commands:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd sql-bench</code></strong>
shell&gt; <strong class="userinput"><code>perl run-all-tests</code></strong>
</pre><p>
          If you do not have the <code class="filename">sql-bench</code>
          directory, you probably installed MySQL using RPM files other
          than the source RPM. (The source RPM includes the
          <code class="filename">sql-bench</code> benchmark directory.) In this
          case, you must first install the benchmark suite before you
          can use it. There are separate benchmark RPM files named
          <code class="filename">mysql-bench-<em class="replaceable"><code>VERSION</code></em>.i386.rpm</code>
          that contain benchmark code and data.
        </p><p>
          If you have a source distribution, there are also tests in its
          <code class="filename">tests</code> subdirectory that you can run. For
          example, to run <code class="filename">auto_increment.tst</code>,
          execute this command from the top-level directory of your
          source distribution:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -vvf test &lt; ./tests/auto_increment.tst</code></strong>
</pre><p>
          The expected result of the test can be found in the
          <code class="filename">./tests/auto_increment.res</code> file.
        </p></li><li><p>
          At this point, you should have the server running. However,
          none of the initial MySQL accounts have a password, and the
          server permits permissive access to test databases. To tighten
          security, follow the instructions in
          <a href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>.
        </p></li></ol></div><p>
      The MySQL 5.5 installation procedure creates time
      zone tables in the <code class="literal">mysql</code> database but does not
      populate them. To do so, use the instructions in
      <a href="globalization.html#time-zone-support" title="9.6. MySQL Server Time Zone Support">Section 9.6, “MySQL Server Time Zone Support”</a>.
    </p><p>
      To make it more convenient to invoke programs installed in the
      <code class="filename">bin</code> directory under the installation
      directory, you can add that directory to your
      <code class="literal">PATH</code> environment variable setting. That enables
      you to run a program by typing only its name, not its entire path
      name. See <a href="programs.html#setting-environment-variables" title="4.2.4. Setting Environment Variables">Section 4.2.4, “Setting Environment Variables”</a>.
    </p><p>
      <a class="indexterm" name="id537906"></a>

      <a class="indexterm" name="id537918"></a>

      <a class="indexterm" name="id537930"></a>

      You can set up new accounts using the
      <span><strong class="command">bin/mysql_setpermission</strong></span> script if you install
      the <code class="literal">DBI</code> and <code class="literal">DBD::mysql</code> Perl
      modules. See <a href="programs.html#mysql-setpermission" title="4.6.13. mysql_setpermission — Interactively Set Permissions in Grant
Tables">Section 4.6.13, “<span><strong class="command">mysql_setpermission</strong></span> — Interactively Set Permissions in Grant
Tables”</a>. For Perl
      module installation instructions, see
      <a href="installing.html#perl-support" title="2.13. Perl Installation Notes">Section 2.13, “Perl Installation Notes”</a>.
    </p><p>
      If you would like to use <a href="programs.html#mysqlaccess" title="4.6.6. mysqlaccess — Client for Checking Access Privileges"><span><strong class="command">mysqlaccess</strong></span></a> and have
      the MySQL distribution in some nonstandard location, you must
      change the location where <a href="programs.html#mysqlaccess" title="4.6.6. mysqlaccess — Client for Checking Access Privileges"><span><strong class="command">mysqlaccess</strong></span></a> expects
      to find the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client. Edit the
      <code class="filename">bin/mysqlaccess</code> script at approximately line
      18. Search for a line that looks like this:
    </p><pre class="programlisting">$MYSQL     = '/usr/local/bin/mysql';    # path to mysql executable</pre><p>
      Change the path to reflect the location where
      <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> actually is stored on your system. If you
      do not do this, a <code class="literal">Broken pipe</code> error will occur
      when you run <a href="programs.html#mysqlaccess" title="4.6.6. mysqlaccess — Client for Checking Access Privileges"><span><strong class="command">mysqlaccess</strong></span></a>.
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-install-db-problems"></a>2.10.1.1. Problems Running <span><strong class="command">mysql_install_db</strong></span></h4></div></div></div><a class="indexterm" name="id538048"></a><a class="indexterm" name="id538057"></a><p>
        The purpose of the <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script is
        to generate new MySQL privilege tables. It does not overwrite
        existing MySQL privilege tables, and it does not affect any
        other data.
      </p><p>
        If you want to re-create your privilege tables, first stop the
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server if it is running. Then rename
        the <code class="filename">mysql</code> directory under the data
        directory to save it, and then run
        <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>. Suppose that your current
        directory is the MySQL installation directory and that
        <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> is located in the
        <code class="filename">bin</code> directory and the data directory is
        named <code class="filename">data</code>. To rename the
        <code class="literal">mysql</code> database and re-run
        <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>, use these commands.
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mv data/mysql data/mysql.old</code></strong>
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
</pre><p>
        When you run <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>, you might
        encounter the following problems:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="bold"><strong><a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>
            fails to install the grant tables</strong></span>
          </p><p>
            You may find that <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> fails
            to install the grant tables and terminates after displaying
            the following messages:
          </p><pre class="programlisting">Starting mysqld daemon with databases from XXXXXX
mysqld ended</pre><p>
            In this case, you should examine the error log file very
            carefully. The log should be located in the directory
            <code class="filename">XXXXXX</code> named by the error message and
            should indicate why <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> did not start.
            If you do not understand what happened, include the log when
            you post a bug report. See <a href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
          </p></li><li><p>
            <span class="bold"><strong>There is a <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
            process running</strong></span>
          </p><p>
            This indicates that the server is running, in which case the
            grant tables have probably been created already. If so,
            there is no need to run <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>
            at all because it needs to be run only once (when you
            install MySQL the first time).
          </p></li><li><p>
            <span class="bold"><strong>Installing a second
            <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server does not work when one
            server is running</strong></span>
          </p><p>
            This can happen when you have an existing MySQL
            installation, but want to put a new installation in a
            different location. For example, you might have a production
            installation, but you want to create a second installation
            for testing purposes. Generally the problem that occurs when
            you try to run a second server is that it tries to use a
            network interface that is in use by the first server. In
            this case, you should see one of the following error
            messages:
          </p><pre class="programlisting">Can't start server: Bind on TCP/IP port:
Address already in use
Can't start server: Bind on unix socket...</pre><p>
            For instructions on setting up multiple servers, see
            <a href="server-administration.html#multiple-servers" title="5.6. Running Multiple MySQL Instances on One Machine">Section 5.6, “Running Multiple MySQL Instances on One Machine”</a>.
          </p></li><li><p>
            <a class="indexterm" name="id538309"></a>

            <a class="indexterm" name="id538321"></a>

            <a class="indexterm" name="id538334"></a>

            <span class="bold"><strong>You do not have write access to the
            <code class="filename">/tmp</code> directory</strong></span>
          </p><p>
            If you do not have write access to create temporary files or
            a Unix socket file in the default location (the
            <code class="filename">/tmp</code> directory) or the
            <code class="literal">TMP_DIR</code> environment variable, if it has
            been set, an error occurs when you run
            <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> or the
            <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server.
          </p><p>
            You can specify different locations for the temporary
            directory and Unix socket file by executing these commands
            prior to starting <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> or
            <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>, where
            <em class="replaceable"><code>some_tmp_dir</code></em> is the full path
            name to some directory for which you have write permission:
          </p><a class="indexterm" name="id538414"></a><a class="indexterm" name="id538423"></a><a class="indexterm" name="id538432"></a><a class="indexterm" name="id538444"></a><pre class="programlisting">shell&gt; <strong class="userinput"><code>TMPDIR=/<em class="replaceable"><code>some_tmp_dir</code></em>/</code></strong>
shell&gt; <strong class="userinput"><code>MYSQL_UNIX_PORT=/<em class="replaceable"><code>some_tmp_dir</code></em>/mysql.sock</code></strong>
shell&gt; <strong class="userinput"><code>export TMPDIR MYSQL_UNIX_PORT</code></strong>
</pre><p>
            Then you should be able to run
            <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> and start the server
            with these commands:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
            If <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> is located in the
            <code class="filename">scripts</code> directory, modify the first
            command to <code class="literal">scripts/mysql_install_db</code>.
          </p><p>
            See <a href="error-handling.html#problems-with-mysql-sock" title="C.5.4.5. How to Protect or Change the MySQL Unix Socket File">Section C.5.4.5, “How to Protect or Change the MySQL Unix Socket File”</a>, and
            <a href="installing.html#environment-variables" title="2.12. Environment Variables">Section 2.12, “Environment Variables”</a>.
          </p></li></ul></div><p>
        There are some alternatives to running the
        <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script provided in the MySQL
        distribution:
      </p><a class="indexterm" name="id538566"></a><a class="indexterm" name="id538579"></a><div class="itemizedlist"><ul type="disc"><li><p>
            If you want the initial privileges to be different from the
            standard defaults, you can modify
            <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> before you run it.
            However, it is preferable to use
            <a href="sql-syntax.html#grant" title="12.7.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> and
            <a href="sql-syntax.html#revoke" title="12.7.1.5. REVOKE Syntax"><code class="literal">REVOKE</code></a> to change the
            privileges <span class="emphasis"><em>after</em></span> the grant tables have
            been set up. In other words, you can run
            <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>, and then use
            <code class="literal">mysql -u root mysql</code> to connect to the
            server as the MySQL <code class="literal">root</code> user so that you
            can issue the necessary <a href="sql-syntax.html#grant" title="12.7.1.3. GRANT Syntax"><code class="literal">GRANT</code></a>
            and <a href="sql-syntax.html#revoke" title="12.7.1.5. REVOKE Syntax"><code class="literal">REVOKE</code></a> statements.
          </p><p>
            If you want to install MySQL on several machines with the
            same privileges, you can put the
            <a href="sql-syntax.html#grant" title="12.7.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> and
            <a href="sql-syntax.html#revoke" title="12.7.1.5. REVOKE Syntax"><code class="literal">REVOKE</code></a> statements in a file
            and execute the file as a script using
            <code class="literal">mysql</code> after running
            <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>. For example:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysql -u root &lt; your_script_file</code></strong>
</pre><p>
            By doing this, you can avoid having to issue the statements
            manually on each machine.
          </p></li><li><p>
            It is possible to re-create the grant tables completely
            after they have previously been created. You might want to
            do this if you are just learning how to use
            <a href="sql-syntax.html#grant" title="12.7.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> and
            <a href="sql-syntax.html#revoke" title="12.7.1.5. REVOKE Syntax"><code class="literal">REVOKE</code></a> and have made so many
            modifications after running
            <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> that you want to wipe
            out the tables and start over.
          </p><p>
            To re-create the grant tables, remove all the
            <code class="filename">.frm</code>, <code class="filename">.MYI</code>, and
            <code class="filename">.MYD</code> files in the
            <code class="literal">mysql</code> database directory. Then run the
            <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script again.
          </p></li><li><p>
            You can start <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> manually using the
            <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a> option
            and add the privilege information yourself using
            <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql --skip-grant-tables &amp;</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysql mysql</code></strong>
</pre><p>
            From <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>, manually execute the SQL
            commands contained in <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>.
            Make sure that you run <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin
            flush-privileges</strong></span></a> or <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin
            reload</strong></span></a> afterward to tell the server to reload the
            grant tables.
          </p><p>
            Note that by not using <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>,
            you not only have to populate the grant tables manually, you
            also have to create them first.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="automatic-start"></a>2.10.1.2. Starting and Stopping MySQL Automatically</h4></div></div></div><a class="indexterm" name="id538883"></a><a class="indexterm" name="id538896"></a><a class="indexterm" name="id538908"></a><p>
        Generally, you start the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server in one
        of these ways:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Invoke <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> directly. This works on any
            platform.
          </p></li><li><p>
            Run the MySQL server as a Windows service. The service can
            be set to start the server automatically when Windows
            starts, or as a manual service that you start on request.
            For instructions, see
            <a href="installing.html#windows-start-service" title="2.3.6.7. Starting MySQL as a Windows Service">Section 2.3.6.7, “Starting MySQL as a Windows Service”</a>.
          </p></li><li><p>
            Invoke <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a>, which tries to
            determine the proper options for <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
            and then runs it with those options. This script is used on
            Unix and Unix-like systems. See
            <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script">Section 4.3.2, “<span><strong class="command">mysqld_safe</strong></span> — MySQL Server Startup Script”</a>.
          </p></li><li><p>
            Invoke <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a>. This script is used
            primarily at system startup and shutdown on systems that use
            System V-style run directories (that is,
            <code class="filename">/etc/init.d</code> and run-level specific
            directories), where it usually is installed under the name
            <code class="literal">mysql</code>. The
            <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> script starts the server by
            invoking <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a>. See
            <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script">Section 4.3.3, “<span><strong class="command">mysql.server</strong></span> — MySQL Server Startup Script”</a>.
          </p></li><li><p>
            On Mac OS X, install a separate MySQL Startup Item package
            to enable the automatic startup of MySQL on system startup.
            The Startup Item starts the server by invoking
            <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a>. See
            <a href="installing.html#macosx-installation-startupitem" title="2.4.3. Installing the MySQL Startup Item">Section 2.4.3, “Installing the MySQL Startup Item”</a>, for
            details. A MySQL Preference Pane also provides control for
            starting and stopping MySQL through the System Preferences,
            see <a href="installing.html#macosx-installation-prefpane" title="2.4.4. Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>.
          </p></li><li><p>
            Use the Solaris/OpenSolaris service management framework
            (SMF) system to initiate and control MySQL startup. For more
            information, see
            <a href="installing.html#solaris-installation-opensolaris" title="2.6.2. Installing MySQL on OpenSolaris using IPS">Section 2.6.2, “Installing MySQL on OpenSolaris using IPS”</a>.
          </p></li></ul></div><p>
        The <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a> and
        <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> scripts, Windows server,
        Solaris/OpenSolaris SMF, and the Mac OS X Startup Item (or MySQL
        Preference Pane) can be used to start the server manually, or
        automatically at system startup time.
        <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> and the Startup Item also can be
        used to stop the server.
      </p><p>
        To start or stop the server manually using the
        <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> script, invoke it with
        <code class="literal">start</code> or <code class="literal">stop</code> arguments:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql.server start</code></strong>
shell&gt; <strong class="userinput"><code>mysql.server stop</code></strong>
</pre><p>
        Before <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> starts the server, it
        changes location to the MySQL installation directory, and then
        invokes <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a>. If you want the server
        to run as some specific user, add an appropriate
        <code class="literal">user</code> option to the
        <code class="literal">[mysqld]</code> group of the
        <code class="filename">/etc/my.cnf</code> option file, as shown later in
        this section. (It is possible that you will need to edit
        <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> if you've installed a binary
        distribution of MySQL in a nonstandard location. Modify it to
        change location into the proper directory before it runs
        <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a>. If you do this, your modified
        version of <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> may be overwritten if
        you upgrade MySQL in the future, so you should make a copy of
        your edited version that you can reinstall.)
      </p><p>
        <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server stop</strong></span></a> stops the server by sending
        a signal to it. You can also stop the server manually by
        executing <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin shutdown</strong></span></a>.
      </p><p>
        To start and stop MySQL automatically on your server, you need
        to add start and stop commands to the appropriate places in your
        <code class="filename">/etc/rc*</code> files.
      </p><p>
        If you use the Linux server RPM package
        (<code class="literal">MySQL-server-<em class="replaceable"><code>VERSION</code></em>.rpm</code>),
        or a native Linux package installation, the
        <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> script may be installed in the
        <code class="filename">/etc/init.d</code> directory with the name
        <code class="filename">mysql</code>. See
        <a href="installing.html#linux-installation-rpm" title="2.5.1. Installing MySQL from RPM Packages on Linux">Section 2.5.1, “Installing MySQL from RPM Packages on Linux”</a>, for more information
        on the Linux RPM packages.
      </p><p>
        Some vendors provide RPM packages that install a startup script
        under a different name such as <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>.
      </p><p>
        If you install MySQL from a source distribution or using a
        binary distribution format that does not install
        <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> automatically, you can install
        it manually. The script can be found in the
        <code class="filename">support-files</code> directory under the MySQL
        installation directory or in a MySQL source tree.
      </p><p>
        To install <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> manually, copy it to
        the <code class="filename">/etc/init.d</code> directory with the name
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>, and then make it executable. Do this
        by changing location into the appropriate directory where
        <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> is located and executing these
        commands:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cp mysql.server /etc/init.d/mysql</code></strong>
shell&gt; <strong class="userinput"><code>chmod +x /etc/init.d/mysql</code></strong>
</pre><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
          Older Red Hat systems use the
          <code class="filename">/etc/rc.d/init.d</code> directory rather than
          <code class="filename">/etc/init.d</code>. Adjust the preceding
          commands accordingly. Alternatively, first create
          <code class="filename">/etc/init.d</code> as a symbolic link that
          points to <code class="filename">/etc/rc.d/init.d</code>:
        </p></div><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /etc</code></strong>
shell&gt; <strong class="userinput"><code>ln -s rc.d/init.d .</code></strong>
</pre><p>
        After installing the script, the commands needed to activate it
        to run at system startup depend on your operating system. On
        Linux, you can use <span><strong class="command">chkconfig</strong></span>:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>chkconfig --add mysql</code></strong>
</pre><p>
        On some Linux systems, the following command also seems to be
        necessary to fully enable the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> script:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>chkconfig --level 345 mysql on</code></strong>
</pre><p>
        On FreeBSD, startup scripts generally should go in
        <code class="filename">/usr/local/etc/rc.d/</code>. The
        <code class="literal">rc(8)</code> manual page states that scripts in this
        directory are executed only if their basename matches the
        <code class="literal">*.sh</code> shell file name pattern. Any other files
        or directories present within the directory are silently
        ignored. In other words, on FreeBSD, you should install the
        <code class="filename">mysql.server</code> script as
        <code class="filename">/usr/local/etc/rc.d/mysql.server.sh</code> to
        enable automatic startup.
      </p><p>
        As an alternative to the preceding setup, some operating systems
        also use <code class="filename">/etc/rc.local</code> or
        <code class="filename">/etc/init.d/boot.local</code> to start additional
        services on startup. To start up MySQL using this method, you
        could append a command like the one following to the appropriate
        startup file:
      </p><pre class="programlisting">/bin/sh -c 'cd /usr/local/mysql; ./bin/mysqld_safe --user=mysql &amp;'</pre><p>
        For other systems, consult your operating system documentation
        to see how to install startup scripts.
      </p><a class="indexterm" name="id539511"></a><p>
        You can add options for <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> in a
        global <code class="filename">/etc/my.cnf</code> file. A typical
        <code class="filename">/etc/my.cnf</code> file might look like this:
      </p><pre class="programlisting">[mysqld]
datadir=/usr/local/mysql/var
socket=/var/tmp/mysql.sock
port=3306
user=mysql

[mysql.server]
basedir=/usr/local/mysql</pre><p>
        The <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> script supports the
        following options: <code class="option">basedir</code>,
        <code class="option">datadir</code>, and <code class="option">pid-file</code>. If
        specified, they <span class="emphasis"><em>must</em></span> be placed in an option
        file, not on the command line. <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a>
        supports only <code class="literal">start</code> and
        <code class="literal">stop</code> as command-line arguments.
      </p><p>
        The following table shows which option groups the server and
        each startup script read from option files.
      </p><div class="table"><a name="id539600"></a><p class="title"><b>Table 2.15. MySQL Startup scripts and supported server option groups</b></p><table summary="MySQL Startup scripts and supported server option groups" border="1"><colgroup><col><col></colgroup><thead><tr><th>Script</th><th>Option Groups</th></tr></thead><tbody><tr><td><a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a></td><td><code class="literal">[mysqld]</code>, <code class="literal">[server]</code>,
                <code class="literal">[mysqld-<em class="replaceable"><code>major_version</code></em>]</code></td></tr><tr><td><a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a></td><td><code class="literal">[mysqld]</code>, <code class="literal">[server]</code>,
                <code class="literal">[mysqld_safe]</code></td></tr><tr><td><a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a></td><td><code class="literal">[mysqld]</code>, <code class="literal">[mysql.server]</code>,
                <code class="literal">[server]</code></td></tr></tbody></table></div><p>
        <code class="literal">[mysqld-<em class="replaceable"><code>major_version</code></em>]</code>
        means that groups with names like
        <code class="literal">[mysqld-5.1]</code> and
        <code class="literal">[mysqld-5.5]</code> are read by servers
        having versions 5.1.x, 5.5.x, and so
        forth. This feature can be used to specify options that can be
        read only by servers within a given release series.
      </p><p>
        For backward compatibility, <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> also
        reads the <code class="literal">[mysql_server]</code> group and
        <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a> also reads the
        <code class="literal">[safe_mysqld]</code> group. However, you should
        update your option files to use the
        <code class="literal">[mysql.server]</code> and
        <code class="literal">[mysqld_safe]</code> groups instead when using MySQL
        5.5.
      </p><p>
        For more information on MySQL configuration files and their
        structure and contents, see <a href="programs.html#option-files" title="4.2.3.3. Using Option Files">Section 4.2.3.3, “Using Option Files”</a>.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="starting-server"></a>2.10.1.3. Starting and Troubleshooting the MySQL Server</h4></div></div></div><a class="indexterm" name="id539816"></a><a class="indexterm" name="id539829"></a><p>
        This section provides troubleshooting suggestions for problems
        starting the server on Unix. If you are using Windows, see
        <a href="installing.html#windows-troubleshooting" title="2.3.7. Troubleshooting a MySQL Installation Under Windows">Section 2.3.7, “Troubleshooting a MySQL Installation Under Windows”</a>.
      </p><p>
        If you have problems starting the server, here are some things
        to try:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Check the error log to see why the server does not start.
          </p></li><li><p>
            Specify any special options needed by the storage engines
            you are using.
          </p></li><li><p>
            Make sure that the server knows where to find the data
            directory.
          </p></li><li><p>
            Make sure that the server can access the data directory. The
            ownership and permissions of the data directory and its
            contents must be set such that the server can read and
            modify them.
          </p></li><li><p>
            Verify that the network interfaces the server wants to use
            are available.
          </p></li></ul></div><p>
        Some storage engines have options that control their behavior.
        You can create a <code class="filename">my.cnf</code> file and specify
        startup options for the engines that you plan to use. If you are
        going to use storage engines that support transactional tables
        (<code class="literal">InnoDB</code>, <a href="mysql-cluster.html" title="Chapter 16. MySQL Cluster NDB 7.2"><code class="literal">NDB</code></a>),
        be sure that you have them configured the way you want before
        starting the server:
      </p><p>
        If you are using <code class="literal">InnoDB</code> tables, see
        <a href="storage-engines.html#innodb-configuration" title="13.3.2. Configuring InnoDB">Section 13.3.2, “Configuring <code class="literal">InnoDB</code>”</a>.
      </p><p>
        Storage engines will use default option values if you specify
        none, but it is recommended that you review the available
        options and specify explicit values for those for which the
        defaults are not appropriate for your installation.
      </p><p>
        When the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server starts, it changes
        location to the data directory. This is where it expects to find
        databases and where it expects to write log files. The server
        also writes the pid (process ID) file in the data directory.
      </p><p>
        The data directory location is hardwired in when the server is
        compiled. This is where the server looks for the data directory
        by default. If the data directory is located somewhere else on
        your system, the server will not work properly. You can
        determine what the default path settings are by invoking
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with the
        <a href="server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a> and
        <a href="server-administration.html#option_mysqld_help"><code class="option">--help</code></a> options.
      </p><p>
        If the default locations do not match the MySQL installation
        layout on your system, you can override them by specifying
        options to <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> or
        <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a> on the command line or in an
        option file.
      </p><p>
        To specify the location of the data directory explicitly, use
        the <a href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option. However,
        normally you can tell <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> the location of
        the base directory under which MySQL is installed and it looks
        for the data directory there. You can do this with the
        <a href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a> option.
      </p><p>
        To check the effect of specifying path options, invoke
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with those options followed by the
        <a href="server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a> and
        <a href="server-administration.html#option_mysqld_help"><code class="option">--help</code></a> options. For example, if
        you change location into the directory where
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> is installed and then run the
        following command, it shows the effect of starting the server
        with a base directory of <code class="filename">/usr/local</code>:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./mysqld --basedir=/usr/local --verbose --help</code></strong>
</pre><p>
        You can specify other options such as
        <a href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> as well, but
        <a href="server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a> and
        <a href="server-administration.html#option_mysqld_help"><code class="option">--help</code></a> must be the last options.
      </p><p>
        Once you determine the path settings you want, start the server
        without <a href="server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a> and
        <a href="server-administration.html#option_mysqld_help"><code class="option">--help</code></a>.
      </p><p>
        If <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> is currently running, you can find
        out what path settings it is using by executing this command:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin variables</code></strong>
</pre><p>
        Or:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin -h <em class="replaceable"><code>host_name</code></em> variables</code></strong>
</pre><p>
        <em class="replaceable"><code>host_name</code></em> is the name of the MySQL
        server host.
      </p><p>
        If you get <code class="literal">Errcode 13</code> (which means
        <code class="literal">Permission denied</code>) when starting
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>, this means that the privileges of the
        data directory or its contents do not permit server access. In
        this case, you change the permissions for the involved files and
        directories so that the server has the right to use them. You
        can also start the server as <code class="literal">root</code>, but this
        raises security issues and should be avoided.
      </p><p>
        On Unix, change location into the data directory and check the
        ownership of the data directory and its contents to make sure
        the server has access. For example, if the data directory is
        <code class="filename">/usr/local/mysql/var</code>, use this command:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ls -la /usr/local/mysql/var</code></strong>
</pre><p>
        If the data directory or its files or subdirectories are not
        owned by the login account that you use for running the server,
        change their ownership to that account. If the account is named
        <code class="literal">mysql</code>, use these commands:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>chown -R mysql /usr/local/mysql/var</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql /usr/local/mysql/var</code></strong>
</pre><p>
        If it possible that even with correct ownership, MySQL may fail
        to start up if there is other security software running on your
        system that manages application access to various parts of the
        file system. In this case, you may need to reconfigure that
        software to enable <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to access the
        directories it uses during normal operation.
      </p><p>
        If the server fails to start up correctly, check the error log.
        Log files are located in the data directory (typically
        <code class="filename">C:\Program Files\MySQL\MySQL Server
        5.5\data</code> on Windows,
        <code class="filename">/usr/local/mysql/data</code> for a Unix binary
        distribution, and <code class="filename">/usr/local/var</code> for a Unix
        source distribution). Look in the data directory for files with
        names of the form
        <code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code>
        and
        <code class="filename"><em class="replaceable"><code>host_name</code></em>.log</code>,
        where <em class="replaceable"><code>host_name</code></em> is the name of your
        server host. Then examine the last few lines of these files. On
        Unix, you can use <code class="literal">tail</code> to display them:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>tail <em class="replaceable"><code>host_name</code></em>.err</code></strong>
shell&gt; <strong class="userinput"><code>tail <em class="replaceable"><code>host_name</code></em>.log</code></strong>
</pre><p>
        The error log should contain information that indicates why the
        server could not start.
      </p><p>
        If either of the following errors occur, it means that some
        other program (perhaps another <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server)
        is using the TCP/IP port or Unix socket file that
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> is trying to use:
      </p><pre class="programlisting">Can't start server: Bind on TCP/IP port: Address already in use
Can't start server: Bind on unix socket...</pre><p>
        Use <span><strong class="command">ps</strong></span> to determine whether you have another
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server running. If so, shut down the
        server before starting <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> again. (If
        another server is running, and you really want to run multiple
        servers, you can find information about how to do so in
        <a href="server-administration.html#multiple-servers" title="5.6. Running Multiple MySQL Instances on One Machine">Section 5.6, “Running Multiple MySQL Instances on One Machine”</a>.)
      </p><p>
        If no other server is running, try to execute the command
        <code class="literal">telnet <em class="replaceable"><code>your_host_name</code></em>
        <em class="replaceable"><code>tcp_ip_port_number</code></em></code>. (The
        default MySQL port number is 3306.) Then press Enter a couple of
        times. If you do not get an error message like <code class="literal">telnet:
        Unable to connect to remote host: Connection refused</code>,
        some other program is using the TCP/IP port that
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> is trying to use. You will need to
        track down what program this is and disable it, or else tell
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to listen to a different port with the
        <a href="server-administration.html#option_mysqld_port"><code class="option">--port</code></a> option. In this case, you
        will also need to specify the port number for client programs
        when connecting to the server using TCP/IP.
      </p><p>
        Another reason the port might be inaccessible is that you have a
        firewall running that blocks connections to it. If so, modify
        the firewall settings to permit access to the port.
      </p><p>
        If the server starts but you cannot connect to it, you should
        make sure that you have an entry in
        <code class="filename">/etc/hosts</code> that looks like this:
      </p><pre class="programlisting">127.0.0.1       localhost</pre><p>
        If you cannot get <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to start, you can
        try to make a trace file to find the problem by using the
        <a href="server-administration.html#option_mysqld_debug"><code class="option">--debug</code></a> option. See
        <a href="http://forge.mysql.com/wiki/MySQL_Internals_Porting" target="_top">MySQL
        Internals: Porting</a>.
      </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="default-privileges"></a>2.10.2. Securing the Initial MySQL Accounts</h3></div></div></div><a class="indexterm" name="id540513"></a><a class="indexterm" name="id540526"></a><a class="indexterm" name="id540538"></a><a class="indexterm" name="id540547"></a><a class="indexterm" name="id540556"></a><a class="indexterm" name="id540568"></a><a class="indexterm" name="id540577"></a><a class="indexterm" name="id540590"></a><a class="indexterm" name="id540602"></a><a class="indexterm" name="id540614"></a><a class="indexterm" name="id540623"></a><a class="indexterm" name="id540636"></a><a class="indexterm" name="id540648"></a><a class="indexterm" name="id540660"></a><a class="indexterm" name="id540673"></a><p>
      Part of the MySQL installation process is to set up the
      <code class="literal">mysql</code> database that contains the grant tables:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Windows distributions contain preinitialized grant tables.
        </p></li><li><p>
          On Unix, the <a href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> program
          populates the grant tables. Some installation methods run this
          program for you. Others require that you execute it manually.
          For details, see <a href="installing.html#unix-postinstallation" title="2.10.1. Unix Postinstallation Procedures">Section 2.10.1, “Unix Postinstallation Procedures”</a>.
        </p></li></ul></div><p>
      The <code class="literal">mysql.user</code> grant table defines the initial
      MySQL user accounts and their access privileges:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Some accounts have the user name <code class="literal">root</code>.
          These are superuser accounts that have all privileges and can
          do anything. The initial <code class="literal">root</code> account
          passwords are empty, so anyone can connect to the MySQL server
          as <code class="literal">root</code> <span class="emphasis"><em>without a
          password</em></span> and be granted all privileges.
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              On Windows, <code class="literal">root</code> accounts are created
              that permit connections from the local host only.
              Connections can be made by specifying the host name
              <code class="literal">localhost</code>, the IP address
              <code class="literal">127.0.0.1</code>, or the IPv6 address
              <code class="literal">::1</code>. If the user selects the
              <span class="guilabel">Enable root access from remote
              machines</span> option during installation, the
              Windows installer creates another <code class="literal">root</code>
              account that permits connections from any host.
            </p></li><li><p>
              On Unix, each <code class="literal">root</code> account permits
              connections from the local host. Connections can be made
              by specifying the host name <code class="literal">localhost</code>,
              the IP address <code class="literal">127.0.0.1</code>, the IPv6
              address <code class="literal">::1</code>, or the actual host name or
              IP address.
            </p></li></ul></div><a class="indexterm" name="id540848"></a><p>
          An attempt to connect to the host <code class="literal">127.0.0.1</code>
          normally resolves to the <code class="literal">localhost</code> account.
          However, this fails if the server is run with the
          <a href="server-administration.html#option_mysqld_skip-name-resolve"><code class="option">--skip-name-resolve</code></a> option, so
          the <code class="literal">127.0.0.1</code> account is useful in that
          case. The <code class="literal">::1</code> account is used for IPv6
          connections.
        </p></li><li><p>
          <a class="indexterm" name="id540898"></a>

          Some accounts are for anonymous users. These have an empty
          user name. The anonymous accounts have no password, so anyone
          can use them to connect to the MySQL server.
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              On Windows, there is one anonymous account that permits
              connections from the local host. Connections can be made
              by specifying a host name of <code class="literal">localhost</code>.
            </p></li><li><p>
              On Unix, each anonymous account permits connections from
              the local host. Connections can be made by specifying a
              host name of <code class="literal">localhost</code> for one of the
              accounts, or the actual host name or IP address for the
              other.
            </p></li></ul></div></li></ul></div><p>
      To display which accounts exist in the
      <code class="literal">mysql.user</code> table and check whether their
      passwords are empty, use the following statement:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT User, Host, Password FROM mysql.user;</code></strong>
+------+--------------------+----------+
| User | Host               | Password |
+------+--------------------+----------+
| root | localhost          |          |
| root | myhost.example.com |          |
| root | 127.0.0.1          |          |
| root | ::1                |          |
|      | localhost          |          |
|      | myhost.example.com |          |
+------+--------------------+----------+
</pre><p>
      This output indicates that there are several
      <code class="literal">root</code> and anonymous-user accounts, none of which
      have passwords. The output might differ on your system, but the
      presence of accounts with empty passwords means that your MySQL
      installation is unprotected until you do something about it:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          You should assign a password to each MySQL
          <code class="literal">root</code> account.
        </p></li><li><p>
          If you want to prevent clients from connecting as anonymous
          users without a password, you should either assign a password
          to each anonymous account or else remove the accounts.
        </p></li></ul></div><p>
      In addition, the <code class="literal">mysql.db</code> table contains rows
      that permit all accounts to access the <code class="literal">test</code>
      database and other databases with names that start with
      <code class="literal">test_</code>. This is true even for accounts that
      otherwise have no special privileges such as the default anonymous
      accounts. This is convenient for testing but inadvisable on
      production servers. Administrators who want database access
      restricted only to accounts that have permissions granted
      explicitly for that purpose should remove these
      <code class="literal">mysql.db</code> table rows.
    </p><p>
      The following instructions describe how to set up passwords for
      the initial MySQL accounts, first for the <code class="literal">root</code>
      accounts, then for the anonymous accounts. The instructions also
      cover how to remove the anonymous accounts, should you prefer not
      to permit anonymous access at all, and describe how to remove
      permissive access to test databases. Replace
      <em class="replaceable"><code>newpwd</code></em> in the examples with the
      password that you want to use. Replace
      <em class="replaceable"><code>host_name</code></em> with the name of the server
      host. You can determine this name from the output of the preceding
      <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statement. For the output
      shown, <em class="replaceable"><code>host_name</code></em> is
      <code class="literal">myhost.example.com</code>.
    </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        For additional information about setting passwords, see
        <a href="server-administration.html#assigning-passwords" title="5.5.5. Assigning Account Passwords">Section 5.5.5, “Assigning Account Passwords”</a>. If you forget your
        <code class="literal">root</code> password after setting it, see
        <a href="error-handling.html#resetting-permissions" title="C.5.4.1. How to Reset the Root Password">Section C.5.4.1, “How to Reset the Root Password”</a>.
      </p></div><p>
      You might want to defer setting the passwords until later, to
      avoid the need to specify them while you perform additional setup
      or testing. However, be sure to set them before using your
      installation for production purposes.
    </p><p>
      To set up additional accounts, see <a href="server-administration.html#adding-users" title="5.5.2. Adding User Accounts">Section 5.5.2, “Adding User Accounts”</a>.
    </p><h4><a name="id541113"></a>
      Assigning <code class="literal">root</code> Account Passwords
    </h4><p>
      The <code class="literal">root</code> account passwords can be set several
      ways. The following discussion demonstrates three methods:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Use the <a href="sql-syntax.html#set-password" title="12.7.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> statement
        </p></li><li><p>
          Use the <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement
        </p></li><li><p>
          Use the <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a> command-line client
          program
        </p></li></ul></div><p>
      To assign passwords using <a href="sql-syntax.html#set-password" title="12.7.1.6. SET PASSWORD Syntax"><code class="literal">SET
      PASSWORD</code></a>, connect to the server as
      <code class="literal">root</code> and issue a <a href="sql-syntax.html#set-password" title="12.7.1.6. SET PASSWORD Syntax"><code class="literal">SET
      PASSWORD</code></a> statement for each <code class="literal">root</code>
      account listed in the <code class="literal">mysql.user</code> table. Be sure
      to encrypt the password using the
      <a href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> function.
    </p><p>
      For Windows, do this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'127.0.0.1' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'::1' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'%' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
</pre><p>
      The last statement is unnecessary if the
      <code class="literal">mysql.user</code> table has no <code class="literal">root</code>
      account with a host value of <code class="literal">%</code>.
    </p><p>
      For Unix, do this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'127.0.0.1' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'::1' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'<em class="replaceable"><code>host_name</code></em>' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
</pre><p>
      You can also use a single statement that assigns a password to all
      <code class="literal">root</code> accounts by using
      <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> to modify the
      <code class="literal">mysql.user</code> table directly. This method works on
      any platform:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>UPDATE mysql.user SET Password = PASSWORD('<em class="replaceable"><code>newpwd</code></em>')</code></strong>
    -&gt;     <strong class="userinput"><code>WHERE User = 'root';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
      The <a href="sql-syntax.html#flush" title="12.7.6.3. FLUSH Syntax"><code class="literal">FLUSH</code></a> statement causes the
      server to reread the grant tables. Without it, the password change
      remains unnoticed by the server until you restart it.
    </p><p>
      To assign passwords to the <code class="literal">root</code> accounts using
      <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a>, execute the following commands:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin -u root password "<em class="replaceable"><code>newpwd</code></em>"</code></strong>
shell&gt; <strong class="userinput"><code>mysqladmin -u root -h <em class="replaceable"><code>host_name</code></em> password "<em class="replaceable"><code>newpwd</code></em>"</code></strong>
</pre><p>
      Those commands apply both to Windows and to Unix. The double
      quotation marks around the password are not always necessary, but
      you should use them if the password contains spaces or other
      characters that are special to your command interpreter.
    </p><p>
      The <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a> method of setting the
      <code class="literal">root</code> account passwords does not work for the
      <code class="literal">'root'@'127.0.0.1'</code> or
      <code class="literal">'root'@'::1'</code> account. Use the
      <a href="sql-syntax.html#set-password" title="12.7.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> method shown earlier.
    </p><p>
      After the <code class="literal">root</code> passwords have been set, you
      must supply the appropriate password whenever you connect as
      <code class="literal">root</code> to the server. For example, to shut down
      the server with <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a>, use this command:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin -u root -p shutdown</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
</pre><h4><a name="id541549"></a>
      Assigning Anonymous Account Passwords
    </h4><p>
      The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> commands in the following
      instructions include a <code class="option">-p</code> option based on the
      assumption that you have set the <code class="literal">root</code> account
      passwords using the preceding instructions and must specify that
      password when connecting to the server.
    </p><p>
      To assign passwords to the anonymous accounts, connect to the
      server as <code class="literal">root</code>, then use either
      <a href="sql-syntax.html#set-password" title="12.7.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> or
      <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>. Be sure to encrypt the
      password using the <a href="functions.html#function_password"><code class="literal">PASSWORD()</code></a>
      function.
    </p><p>
      To use <a href="sql-syntax.html#set-password" title="12.7.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> on Windows, do
      this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR ''@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
</pre><p>
      To use <a href="sql-syntax.html#set-password" title="12.7.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> on Unix, do
      this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR ''@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR ''@'<em class="replaceable"><code>host_name</code></em>' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
</pre><p>
      To set the anonymous-user account passwords with a single
      <a href="sql-syntax.html#update" title="12.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement, do this (on any
      platform):
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>UPDATE mysql.user SET Password = PASSWORD('<em class="replaceable"><code>newpwd</code></em>')</code></strong>
    -&gt;     <strong class="userinput"><code>WHERE User = '';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
      The <a href="sql-syntax.html#flush" title="12.7.6.3. FLUSH Syntax"><code class="literal">FLUSH</code></a> statement causes the
      server to reread the grant tables. Without it, the password change
      remains unnoticed by the server until you restart it.
    </p><h4><a name="id541751"></a>
      Removing Anonymous Accounts
    </h4><p>
      If you prefer to remove any anonymous accounts rather than
      assigning them passwords, do so as follows on Windows:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>DROP USER ''@'localhost';</code></strong>
</pre><p>
      On Unix, remove the anonymous accounts like this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>DROP USER ''@'localhost';</code></strong>
mysql&gt; <strong class="userinput"><code>DROP USER ''@'<em class="replaceable"><code>host_name</code></em>';</code></strong>
</pre><h4><a name="id541815"></a>
      Securing Test Databases
    </h4><p>
      By default, the <code class="literal">mysql.db</code> table contains rows
      that permit access by any user to the <code class="literal">test</code>
      database and other databases with names that start with
      <code class="literal">test_</code>. (These rows have an empty
      <code class="literal">User</code> column value, which for access-checking
      purposes matches any user name.) This means that such databases
      can be used even by accounts that otherwise possess no privileges.
      If you want to remove any-user access to test databases, do so as
      follows:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>DELETE FROM mysql.db WHERE Db LIKE 'test%';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
      The <a href="sql-syntax.html#flush" title="12.7.6.3. FLUSH Syntax"><code class="literal">FLUSH</code></a> statement causes the
      server to reread the grant tables. Without it, the privilege
      change remains unnoticed by the server until you restart it.
    </p><p>
      With the preceding change, only users who have global database
      privileges or privileges granted explicitly for the
      <code class="literal">test</code> database can use it. However, if you do
      not want the database to exist at all, drop it:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>DROP DATABASE test;</code></strong>
</pre><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        On Windows, you can also perform the process described in this
        section using the Configuration Wizard (see
        <a href="installing.html#mysql-config-wizard-security" title="2.3.5.11. The Security Options Dialog">Section 2.3.5.11, “The Security Options Dialog”</a>). On other
        platforms, the MySQL distribution includes
        <a href="programs.html#mysql-secure-installation" title="4.4.5. mysql_secure_installation — Improve MySQL Installation Security"><span><strong class="command">mysql_secure_installation</strong></span></a>, a command-line
        utility that automates much of the process of securing a MySQL
        installation.
      </p></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrading-downgrading"></a>2.11. Upgrading or Downgrading MySQL</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#upgrading">2.11.1. Upgrading MySQL</a></span></dt><dt><span class="section"><a href="installing.html#downgrading">2.11.2. Downgrading MySQL</a></span></dt><dt><span class="section"><a href="installing.html#checking-table-incompatibilities">2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt</a></span></dt><dt><span class="section"><a href="installing.html#rebuilding-tables">2.11.4. Rebuilding or Repairing Tables or Indexes</a></span></dt><dt><span class="section"><a href="installing.html#copying-databases">2.11.5. Copying MySQL Databases to Another Machine</a></span></dt></dl></div><a class="indexterm" name="id541942"></a><a class="indexterm" name="id541951"></a><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="upgrading"></a>2.11.1. Upgrading MySQL</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#upgrading-from-previous-series">2.11.1.1. Upgrading from MySQL 5.1 to 5.5</a></span></dt><dt><span class="section"><a href="installing.html#upgrading-from-5-4">2.11.1.2. Upgrading from MySQL 5.4 to 5.5</a></span></dt></dl></div><a class="indexterm" name="id541968"></a><p>
      As a general rule, to upgrade from one release series to another,
      you should go to the next series rather than skipping a series. To
      upgrade from a release series previous to MySQL 5.1,
      upgrade to each successive release series in turn until you have
      reached MySQL 5.1, and then proceed with the upgrade
      to MySQL 5.5. For example, if you currently are
      running MySQL 5.0 and wish to upgrade to a newer series, upgrade
      to MySQL 5.1 first before upgrading to 5.5, and so forth. For
      information on upgrading to MySQL 5.1, see the
      <em class="citetitle">MySQL 5.1 Reference Manual</em>.
    </p><p>
      There is a special case for upgrading to MySQL 5.5,
      which is that there was a short-lived MySQL 5.4 development
      series. This series is no longer being worked on, but to
      accommodate users of both series, this section includes one
      subsection for users upgrading from MySQL 5.1 to 5.5 and another
      for users upgrading from MySQL 5.4 to 5.5.
    </p><p>
      To upgrade to MySQL 5.5, use the items in the
      following checklist as a guide:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Before any upgrade, back up your databases, including the
          <code class="literal">mysql</code> database that contains the grant
          tables. See <a href="backup-and-recovery.html#backup-methods" title="6.2. Database Backup Methods">Section 6.2, “Database Backup Methods”</a>.
        </p></li><li><p>
          Read <span class="emphasis"><em>all</em></span> the notes in
          <a href="installing.html#upgrading-from-previous-series" title="2.11.1.1. Upgrading from MySQL 5.1 to 5.5">Section 2.11.1.1, “Upgrading from MySQL 5.1 to 5.5”</a>, or
          <a href="installing.html#upgrading-from-5-4" title="2.11.1.2. Upgrading from MySQL 5.4 to 5.5">Section 2.11.1.2, “Upgrading from MySQL 5.4 to 5.5”</a>, depending on whether you
          currently use MySQL 5.1 or 5.4. These notes enable you to
          identify upgrade issues that apply to your current MySQL
          installation. Some incompatibilities discussed in that section
          require your attention <span class="emphasis"><em>before</em></span> upgrading.
          Others should be dealt with <span class="emphasis"><em>after</em></span>
          upgrading.
        </p></li><li><p>
          Read <a href="news.html" title="Appendix D. MySQL Change History">Appendix D, <i>MySQL Change History</i></a> as well, which provides
          information about features that are new in MySQL
          5.5 or differ from those found in earlier MySQL
          releases.
        </p></li><li><p>
          After upgrading to a new version of MySQL, run
          <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> (see
          <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade">Section 4.4.7, “<span><strong class="command">mysql_upgrade</strong></span> — Check Tables for MySQL Upgrade”</a>). This program checks your
          tables, and attempts to repair them if necessary. It also
          updates your grant tables to make sure that they have the
          current structure so that you can take advantage of any new
          capabilities. (Some releases of MySQL introduce changes to the
          structure of the grant tables to add new privileges or
          features.)
        </p><p>
          <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> does not upgrade the contents
          of the help tables. For upgrade instructions, see
          <a href="server-administration.html#server-side-help-support" title="5.1.8. Server-Side Help">Section 5.1.8, “Server-Side Help”</a>.
        </p></li><li><p>
          If you run MySQL Server on Windows, see
          <a href="installing.html#windows-upgrading" title="2.3.8. Upgrading MySQL on Windows">Section 2.3.8, “Upgrading MySQL on Windows”</a>.
        </p></li><li><p>
          If you use replication, see
          <a href="replication.html#replication-upgrade" title="15.4.3. Upgrading a Replication Setup">Section 15.4.3, “Upgrading a Replication Setup”</a>, for information on
          upgrading your replication setup.
        </p></li><li><p>
          If you upgrade an installation originally produced by
          installing multiple RPM packages, it is best to upgrade all
          the packages, not just some. For example, if you previously
          installed the server and client RPMs, do not upgrade just the
          server RPM.
        </p></li><li><p>
          If you have created a user-defined function (UDF) with a given
          name and upgrade MySQL to a version that implements a new
          built-in function with the same name, the UDF becomes
          inaccessible. To correct this, use <a href="sql-syntax.html#drop-function" title="12.1.23. DROP FUNCTION Syntax"><code class="literal">DROP
          FUNCTION</code></a> to drop the UDF, and then use
          <a href="sql-syntax.html#create-function" title="12.1.12. CREATE FUNCTION Syntax"><code class="literal">CREATE FUNCTION</code></a> to re-create
          the UDF with a different nonconflicting name. The same is true
          if the new version of MySQL implements a built-in function
          with the same name as an existing stored function. See
          <a href="language-structure.html#function-resolution" title="8.2.4. Function Name Parsing and Resolution">Section 8.2.4, “Function Name Parsing and Resolution”</a>, for the rules
          describing how the server interprets references to different
          kinds of functions.
        </p></li></ul></div><p>
      You can always move the MySQL format files and data files between
      different versions on systems with the same architecture as long
      as you stay within versions for the same release series of MySQL.
    </p><p>
      If you are cautious about using new versions, you can always
      rename your old <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> before installing a
      newer one. For example, if you are using a version of MySQL
      5.1 and want to upgrade to 5.5, rename
      your current server from <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to
      <span><strong class="command">mysqld-5.1</strong></span>. If your new
      <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> then does something unexpected, you can
      simply shut it down and restart with your old
      <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>.
    </p><p>
      If, after an upgrade, you experience problems with compiled client
      programs, such as <code class="literal">Commands out of sync</code> or
      unexpected core dumps, you probably have used old header or
      library files when compiling your programs. In this case, you
      should check the date for your <code class="filename">mysql.h</code> file
      and <code class="filename">libmysqlclient.a</code> library to verify that
      they are from the new MySQL distribution. If not, recompile your
      programs with the new headers and libraries. Recompilation might
      also be necessary for programs compiled against the shared client
      library if the library major version number has changed (for
      example from <code class="filename">libmysqlclient.so.15</code> to
      <code class="filename">libmysqlclient.so.16</code>.
    </p><p>
      If problems occur, such as that the new <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
      server does not start or that you cannot connect without a
      password, verify that you do not have an old
      <code class="filename">my.cnf</code> file from your previous installation.
      You can check this with the
      <a href="programs.html#option_general_print-defaults"><code class="option">--print-defaults</code></a> option (for
      example, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld --print-defaults</strong></span></a>). If this
      command displays anything other than the program name, you have an
      active <code class="filename">my.cnf</code> file that affects server or
      client operation.
    </p><p>
      If your MySQL installation contains a large amount of data that
      might take a long time to convert after an in-place upgrade, you
      might find it useful to create a “<span class="quote">dummy</span>” database
      instance for assessing what conversions might be needed and the
      work involved to perform them. Make a copy of your MySQL instance
      that contains a full copy of the <code class="literal">mysql</code>
      database, plus all other databases without data. Run your upgrade
      procedure on this dummy instance to see what actions might be
      needed so that you can better evaluate the work involved when
      performing actual data conversion on your original database
      instance.
    </p><p>
      It is a good idea to rebuild and reinstall the Perl
      <code class="literal">DBD::mysql</code> module whenever you install a new
      release of MySQL. The same applies to other MySQL interfaces as
      well, such as PHP <code class="literal">mysql</code> extensions and the
      Python <code class="literal">MySQLdb</code> module.
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="upgrading-from-previous-series"></a>2.11.1.1. Upgrading from MySQL 5.1 to 5.5</h4></div></div></div><a class="indexterm" name="id542337"></a><a class="indexterm" name="id542350"></a><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
          It is good practice to back up your data before installing any
          new version of software. Although MySQL works very hard to
          ensure a high level of quality, you should protect your data
          by making a backup.
        </p><p xmlns="">
          To upgrade to 5.5 from any previous version,
          MySQL recommends that you dump your tables with
          <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> before upgrading and reload the
          dump file after upgrading.
        </p></div><p>
        In general, you should do the following when upgrading from
        MySQL 5.1 to 5.5:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Read <span class="emphasis"><em>all</em></span> the items in the following
            sections to see whether any of them might affect your
            applications:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                <a href="installing.html#upgrading" title="2.11.1. Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>, has general update
                information.
              </p></li><li><p>
                The items in the change lists found later in this
                section enable you to identify upgrade issues that apply
                to your current MySQL installation.
              </p></li><li><p>
                The MySQL 5.5 change history describes
                significant new features you can use in 5.5
                or that differ from those found in earlier MySQL
                releases. Some of these changes may result in
                incompatibilities. See <a href="news.html#news-5-5-x" title="D.1. Changes in Release 5.5.x (Production)">Section D.1, “Changes in Release 5.5.x (Production)”</a>.
              </p></li></ul></div><p>
            Note particularly any changes that are marked
            <span class="bold"><strong>Known issue</strong></span> or
            <span class="bold"><strong>Incompatible change</strong></span>. These
            incompatibilities with earlier versions of MySQL may require
            your attention <span class="emphasis"><em>before you upgrade</em></span>. Our
            aim is to avoid these changes, but occasionally they are
            necessary to correct problems that would be worse than an
            incompatibility between releases. If any upgrade issue
            applicable to your installation involves an incompatibility
            that requires special handling, follow the instructions
            given in the incompatibility description. Often this will
            involve dumping and reloading tables, or use of a statement
            such as <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> or
            <a href="sql-syntax.html#repair-table" title="12.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>.
          </p><p>
            For dump and reload instructions, see
            <a href="installing.html#rebuilding-tables" title="2.11.4. Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>. Any procedure that
            involves <a href="sql-syntax.html#repair-table" title="12.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> with
            the <code class="literal">USE_FRM</code> option
            <span class="emphasis"><em>must</em></span> be done before upgrading. Use of
            this statement with a version of MySQL different from the
            one used to create the table (that is, using it after
            upgrading) may damage the table. See
            <a href="sql-syntax.html#repair-table" title="12.7.2.5. REPAIR TABLE Syntax">Section 12.7.2.5, “<code class="literal">REPAIR TABLE</code> Syntax”</a>.
          </p></li><li><p>
            Before upgrading to a new version of MySQL,
            <a href="installing.html#checking-table-incompatibilities" title="2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Tables or Indexes Must Be Rebuilt”</a>, to see
            whether changes to table formats or to character sets or
            collations were made between your current version of MySQL
            and the version to which you are upgrading. If so and these
            changes result in an incompatibility between MySQL versions,
            you will need to upgrade the affected tables using the
            instructions in <a href="installing.html#rebuilding-tables" title="2.11.4. Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
          </p></li><li><p>
            After upgrading to a new version of MySQL, run
            <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> (see
            <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade">Section 4.4.7, “<span><strong class="command">mysql_upgrade</strong></span> — Check Tables for MySQL Upgrade”</a>). This program checks your
            tables, and attempts to repair them if necessary. It also
            updates your grant tables to make sure that they have the
            current structure so that you can take advantage of any new
            capabilities. (Some releases of MySQL introduce changes to
            the structure of the grant tables to add new privileges or
            features.)
          </p><p>
            <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> does not upgrade the
            contents of the help tables. For upgrade instructions, see
            <a href="server-administration.html#server-side-help-support" title="5.1.8. Server-Side Help">Section 5.1.8, “Server-Side Help”</a>.
          </p></li><li><p>
            If you run MySQL Server on Windows, see
            <a href="installing.html#windows-upgrading" title="2.3.8. Upgrading MySQL on Windows">Section 2.3.8, “Upgrading MySQL on Windows”</a>.
          </p></li><li><p>
            If you use replication, see
            <a href="replication.html#replication-upgrade" title="15.4.3. Upgrading a Replication Setup">Section 15.4.3, “Upgrading a Replication Setup”</a>, for information on
            upgrading your replication setup.
          </p></li></ul></div><p>
        If your MySQL installation contains a large amount of data that
        might take a long time to convert after an in-place upgrade, you
        might find it useful to create a “<span class="quote">dummy</span>” database
        instance for assessing what conversions might be needed and the
        work involved to perform them. Make a copy of your MySQL
        instance that contains a full copy of the
        <code class="literal">mysql</code> database, plus all other databases
        without data. Run your upgrade procedure on this dummy instance
        to see what actions might be needed so that you can better
        evaluate the work involved when performing actual data
        conversion on your original database instance.
      </p><p>
        The following lists describe changes that may affect
        applications and that you should watch out for when upgrading
        from MySQL 5.1 to 5.5.
      </p><h5><a name="id542614"></a>
        Configuration Changes
      </h5><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: The
            <code class="literal">InnoDB Plugin</code> is included in MySQL
            5.5 releases. It becomes the built-in version
            of <code class="literal">InnoDB</code> in MySQL Server, replacing the
            version previously included as the built-in
            <code class="literal">InnoDB</code> engine. <code class="literal">InnoDB
            Plugin</code> is also available in MySQL 5.1 as of
            5.1.38, but it is an optional storage engine that must be
            enabled explicitly using two server options:
          </p><pre class="programlisting">[mysqld]
ignore-builtin-innodb
plugin-load=innodb=ha_innodb_plugin.so</pre><p>
            If you were using <code class="literal">InnoDB Plugin</code> in MySQL
            5.1 by means of those options, you must remove them after an
            upgrade to 5.5 or the server will fail to
            start.
          </p><p>
            In addition, in <code class="literal">InnoDB Plugin</code>, the
            <code class="literal">innodb_file_io_threads</code> system variable
            has been removed and replaced with
            <a href="storage-engines.html#sysvar_innodb_read_io_threads"><code class="literal">innodb_read_io_threads</code></a> and
            <a href="storage-engines.html#sysvar_innodb_write_io_threads"><code class="literal">innodb_write_io_threads</code></a>. If
            you upgrade from MySQL 5.1 to MySQL 5.5 and
            previously explicitly set
            <code class="literal">innodb_file_io_threads</code> at server startup,
            you must change your configuration. Either remove any
            reference to <code class="literal">innodb_file_io_threads</code> or
            replace it with references to
            <a href="storage-engines.html#sysvar_innodb_read_io_threads"><code class="literal">innodb_read_io_threads</code></a> and
            <a href="storage-engines.html#sysvar_innodb_write_io_threads"><code class="literal">innodb_write_io_threads</code></a>.
          </p></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: In
            MySQL 5.5, the server includes a plugin
            services interface that complements the plugin API. The
            services interface enables server functionality to be
            exposed as a “<span class="quote">service</span>” that plugins can access
            through a function-call interface. The
            <code class="literal">libmysqlservices</code> library provides access
            to the available services and dynamic plugins now must be
            linked against this library (use the
            <code class="literal">-lmysqlservices</code> flag). For an example
            showing how to configure for <span><strong class="command">CMake</strong></span>, see
            <a href="extending-mysql.html#plugin-services" title="22.2.5. MySQL Services for Plugins">Section 22.2.5, “MySQL Services for Plugins”</a>.
          </p></li></ul></div><h5><a name="id542778"></a>
        Server Changes
      </h5><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.5.3, due to work done for Bug #989,
            <a href="sql-syntax.html#flush" title="12.7.6.3. FLUSH Syntax"><code class="literal">FLUSH
            TABLES</code></a> is not permitted when there is an active
            <a href="sql-syntax.html#lock-tables" title="12.3.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES ...
            READ</code></a>. To provide a workaround for this
            restriction, <a href="sql-syntax.html#flush" title="12.7.6.3. FLUSH Syntax"><code class="literal">FLUSH
            TABLES</code></a> has a new variant,
            <a href="sql-syntax.html#flush" title="12.7.6.3. FLUSH Syntax"><code class="literal">FLUSH TABLES
            <em class="replaceable"><code>tbl_list</code></em> WITH READ
            LOCK</code></a>, that enables tables to be flushed and locked
            in a single operation. As a result of this change,
            applications that previously used this statement sequence to
            lock and flush tables will fail:
          </p><pre class="programlisting">LOCK TABLES <em class="replaceable"><code>tbl_list</code></em> READ;
FLUSH TABLES <em class="replaceable"><code>tbl_list</code></em>;
</pre><p>
            Such applications should now use this statement instead:
          </p><pre class="programlisting">FLUSH TABLES <em class="replaceable"><code>tbl_list</code></em> WITH READ LOCK;
</pre></li><li><p>
            <a class="indexterm" name="id542863"></a>

            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.5.7, the server requires that a new grant table,
            <code class="literal">proxies_priv</code>, be present in the
            <code class="literal">mysql</code> database. If you are upgrading to
            5.5.7 from a previous MySQL release rather than performing a
            new installation, the server will find that this table is
            missing and exit during startup with the following message:
          </p><pre class="programlisting">Table 'mysql.proxies_priv' doesn't exist</pre><p>
            To create the <code class="literal">proxies_priv</code> table, start
            the server with the
            <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a> option to
            cause it to skip the normal grant table checks, then run
            <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>. For example:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqld --skip-grant-tables &amp;</code></strong>
shell&gt; <strong class="userinput"><code>mysql_upgrade</code></strong>
</pre><p>
            Then stop the server and restart it normally.
          </p><p>
            You can specify other options on the
            <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> command line if necessary.
            Alternatively, if your installation is configured so that
            the server normally reads options from an option file, use
            the <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option
            to specify the file (enter each command on a single line):
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqld --defaults-file=/usr/local/mysql/etc/my.cnf</code></strong>
         <strong class="userinput"><code>--skip-grant-tables &amp;</code></strong>
shell&gt; <strong class="userinput"><code>mysql_upgrade</code></strong>
</pre><p>
            With the <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>
            option, the server does no password or privilege checking,
            so any client can connect and effectively have all
            privilges. For additional security, use the
            <a href="server-administration.html#option_mysqld_skip-networking"><code class="option">--skip-networking</code></a> option as
            well to prevent remote clients from connecting.
          </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
              This problem is fixed in MySQL 5.5.8; the server treats a
              missing <code class="literal">proxies_priv</code> table as
              equivalent to an empty table. However, after starting the
              server, you should still run
              <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> to create the table.
            </p></div></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.5.7, <code class="literal">InnoDB</code> always uses the fast
            truncation technique, equivalent to
            <a href="sql-syntax.html#drop-table" title="12.1.28. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> and
            <a href="sql-syntax.html#create-table" title="12.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a>. It no longer
            performs a row-by-row delete for tables with parent-child
            foreign key relationships. <a href="sql-syntax.html#truncate-table" title="12.1.33. TRUNCATE TABLE Syntax"><code class="literal">TRUNCATE
            TABLE</code></a> returns an error for such tables. Modify
            your SQL to issue <code class="literal">DELETE FROM
            <em class="replaceable"><code>table_name</code></em></code> for such
            tables instead.
          </p></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: Prior
            to MySQL 5.5.7, if you flushed the logs using
            <a href="sql-syntax.html#flush" title="12.7.6.3. FLUSH Syntax"><code class="literal">FLUSH LOGS</code></a>
            or <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin flush-logs</strong></span></a> and
            <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> was writing the error log to a
            file (for example, if it was started with the
            <a href="server-administration.html#option_mysqld_log-error"><code class="option">--log-error</code></a> option), it
            renames the current log file with the suffix
            <code class="literal">-old</code>, then created a new empty log file.
            This had the problem that a second log-flushing operation
            thus caused the original error log file to be lost unless
            you saved it under a different name. For example, you could
            use the following commands to save the file:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin flush-logs</code></strong>
shell&gt; <strong class="userinput"><code>mv <em class="replaceable"><code>host_name</code></em>.err-old <em class="replaceable"><code>backup-directory</code></em></code></strong>
</pre><p>
            To avoid the preceding file-loss problem, no renaming occurs
            as of MySQL 5.5.7; the server merely closes and reopens the
            log file. To rename the file, you can do so manually before
            flushing. Then flushing the logs reopens a new file with the
            original file name. For example, you can rename the file and
            create a new one using the following commands:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mv <em class="replaceable"><code>host_name</code></em>.err <em class="replaceable"><code>host_name</code></em>.err-old</code></strong>
shell&gt; <strong class="userinput"><code>mysqladmin flush-logs</code></strong>
shell&gt; <strong class="userinput"><code>mv <em class="replaceable"><code>host_name</code></em>.err-old <em class="replaceable"><code>backup-directory</code></em></code></strong>
</pre></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.5.6, handling of
            <a href="sql-syntax.html#create-table-select" title="12.1.17.1. CREATE TABLE ...
        SELECT Syntax"><code class="literal">CREATE
            TABLE IF NOT EXISTS ... SELECT</code></a> statements has been
            changed for the case that the destination table already
            exists:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                Previously, for
                <a href="sql-syntax.html#create-table-select" title="12.1.17.1. CREATE TABLE ...
        SELECT Syntax"><code class="literal">CREATE
                TABLE IF NOT EXISTS ... SELECT</code></a>, MySQL produced
                a warning that the table exists, but inserted the rows
                and wrote the statement to the binary log anyway. By
                contrast,
                <a href="sql-syntax.html#create-table-select" title="12.1.17.1. CREATE TABLE ...
        SELECT Syntax"><code class="literal">CREATE
                TABLE ... SELECT</code></a> (without <code class="literal">IF NOT
                EXISTS</code>) failed with an error, but MySQL
                inserted no rows and did not write the statement to the
                binary log.
              </p></li><li><p>
                MySQL now handles both statements the same way when the
                destination table exists, in that neither statement
                inserts rows or is written to the binary log. The
                difference between them is that MySQL produces a warning
                when <code class="literal">IF NOT EXISTS</code> is present and an
                error when it is not.
              </p></li></ul></div><p>
            This change in handling of <code class="literal">IF NOT EXISTS</code>
            results in an incompatibility for statement-based
            replication from a MySQL 5.1 master with the original
            behavior and a MySQL 5.5 slave with the new behavior.
            Suppose that
            <a href="sql-syntax.html#create-table-select" title="12.1.17.1. CREATE TABLE ...
        SELECT Syntax"><code class="literal">CREATE
            TABLE IF NOT EXISTS ... SELECT</code></a> is executed on the
            master and the destination table exists. The result is that
            rows are inserted on the master but not on the slave.
            (Row-based replication does not have this problem.)
          </p><p>
            To address this issue, statement-based binary logging for
            <a href="sql-syntax.html#create-table-select" title="12.1.17.1. CREATE TABLE ...
        SELECT Syntax"><code class="literal">CREATE
            TABLE IF NOT EXISTS ... SELECT</code></a> is changed in MySQL
            5.1 as of 5.1.51:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                If the destination table does not exist, there is no
                change: The statement is logged as is.
              </p></li><li><p>
                If the destination table does exist, the statement is
                logged as the equivalent pair of
                <a href="sql-syntax.html#create-table-select" title="12.1.17.1. CREATE TABLE ...
        SELECT Syntax"><code class="literal">CREATE
                TABLE IF NOT EXISTS</code></a> and
                <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT
                ... SELECT</code></a> statements. (If the
                <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> in the original
                statement is preceded by <code class="literal">IGNORE</code> or
                <a href="sql-syntax.html#replace" title="12.2.8. REPLACE Syntax"><code class="literal">REPLACE</code></a>, the
                <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> becomes
                <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT
                IGNORE</code></a> or
                <a href="sql-syntax.html#replace" title="12.2.8. REPLACE Syntax"><code class="literal">REPLACE</code></a>, respectively.)
              </p></li></ul></div><p>
            This change provides forward compatibility for
            statement-based replication from MySQL 5.1 to 5.5 because
            when the destination table exists, the rows will be inserted
            on both the master and slave. To take advantage of this
            compatibility measure, the 5.1 server must be at least
            5.1.51 and the 5.5 server must be at least 5.5.6.
          </p><p>
            To upgrade an existing 5.1-to-5.5 replication scenario,
            upgrade the master first to 5.1.51 or higher. Note that this
            differs from the usual replication upgrade advice of
            upgrading the slave first.
          </p><p>
            A workaround for applications that wish to achieve the
            original effect (rows inserted regardless of whether the
            destination table exists) is to use
            <a href="sql-syntax.html#create-table-select" title="12.1.17.1. CREATE TABLE ...
        SELECT Syntax"><code class="literal">CREATE
            TABLE IF NOT EXISTS</code></a> and
            <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
            SELECT</code></a> statements rather than
            <a href="sql-syntax.html#create-table-select" title="12.1.17.1. CREATE TABLE ...
        SELECT Syntax"><code class="literal">CREATE
            TABLE IF NOT EXISTS ... SELECT</code></a> statements.
          </p><p>
            Along with the change just described, the following related
            change was made: Previously, if an existing view was named
            as the destination table for
            <a href="sql-syntax.html#create-table-select" title="12.1.17.1. CREATE TABLE ...
        SELECT Syntax"><code class="literal">CREATE
            TABLE IF NOT EXISTS ... SELECT</code></a>, rows were inserted
            into the underlying base table and the statement was written
            to the binary log. As of MySQL 5.1.51 and 5.5.6, nothing is
            inserted or logged.
          </p></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: Prior
            to MySQL 5.5.6, if the server was started with
            <code class="literal">character_set_server</code> set to
            <code class="literal">utf16</code>, it crashed during full-text
            stopword initialization. Now the stopword file is loaded and
            searched using <code class="literal">latin1</code> if
            <code class="literal">character_set_server</code> is
            <code class="literal">ucs2</code>, <code class="literal">utf16</code>, or
            <code class="literal">utf32</code>. If any table was created with
            <code class="literal">FULLTEXT</code> indexes while the server
            character set was <code class="literal">ucs2</code>,
            <code class="literal">utf16</code>, or <code class="literal">utf32</code>, it
            should be repaired using this statement:
          </p><pre class="programlisting">REPAIR TABLE <em class="replaceable"><code>tbl_name</code></em> QUICK;
</pre></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.5.5, all numeric operators and functions on integer,
            floating-point and <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>
            values throw an “<span class="quote">out of range</span>” error
            (<a href="error-handling.html#error_er_data_out_of_range"><code class="literal">ER_DATA_OUT_OF_RANGE</code></a>)
            rather than returning an incorrect value or
            <code class="literal">NULL</code>, when the result is out of the
            supported range for the corresponding data type. See
            <a href="data-types.html#out-of-range-and-overflow" title="10.2.6. Out-of-Range and Overflow Handling">Section 10.2.6, “Out-of-Range and Overflow Handling”</a>.
          </p></li><li><p>
            <a class="indexterm" name="id543571"></a>

            <a class="indexterm" name="id543583"></a>

            <a class="indexterm" name="id543595"></a>

            <a class="indexterm" name="id543608"></a>

            <a class="indexterm" name="id543620"></a>

            <span class="bold"><strong>Incompatible change</strong></span>: In
            very old versions of MySQL (prior to 4.1), the
            <a href="data-types.html#datetime" title="10.3.1. The DATE,
        DATETIME, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> data type supported
            a display width, which was silenty ignored beginning with
            MySQL 4.1. This is deprecated in MySQL 5.1, and removed
            altogether in MySQL 5.5. These changes in behavior can lead
            to two problem scenarios when trying to use
            <a href="data-types.html#datetime" title="10.3.1. The DATE,
        DATETIME, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP(<em class="replaceable"><code>N</code></em>)</code></a>
            columns with a MySQL 5.5 or later server:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                When importing a dump file (for example, one created
                using <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>) created in a MySQL
                5.0 or earlier server into a server from a newer release
                series, a <a href="sql-syntax.html#create-table" title="12.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> or
                <a href="sql-syntax.html#alter-table" title="12.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement
                containing
                <a href="data-types.html#datetime" title="10.3.1. The DATE,
        DATETIME, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP(<em class="replaceable"><code>N</code></em>)</code></a>
                causes the import to fail with a syntax error.
              </p><p>
                To fix this problem, edit the dump file in a text editor
                to replace any instances of
                <a href="data-types.html#datetime" title="10.3.1. The DATE,
        DATETIME, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP(<em class="replaceable"><code>N</code></em>)</code></a>
                with <a href="data-types.html#datetime" title="10.3.1. The DATE,
        DATETIME, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> prior to
                importing the file. Be sure to use a plain text editor
                for this, and not a word processor; otherwise, the
                result is almost certain to be unusable for importing
                into the MySQL server.
              </p></li><li><p>
                When trying replicate any <a href="sql-syntax.html#create-table" title="12.1.17. CREATE TABLE Syntax"><code class="literal">CREATE
                TABLE</code></a> or <a href="sql-syntax.html#alter-table" title="12.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
                TABLE</code></a> statement containing
                <a href="data-types.html#datetime" title="10.3.1. The DATE,
        DATETIME, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP(<em class="replaceable"><code>N</code></em>)</code></a>
                from a master MySQL server that supports the
                <a href="data-types.html#datetime" title="10.3.1. The DATE,
        DATETIME, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP(<em class="replaceable"><code>N</code></em>)</code></a>
                syntax to a MySQL 5.5.3 or newer slave, the statement
                causes replication to fail. Similarly, when you try to
                restore from a binary log written by a server that
                supports
                <a href="data-types.html#datetime" title="10.3.1. The DATE,
        DATETIME, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP(<em class="replaceable"><code>N</code></em>)</code></a>
                to a MySQL 5.5.3 or newer server, any
                <a href="sql-syntax.html#create-table" title="12.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> or
                <a href="sql-syntax.html#alter-table" title="12.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement
                containing
                <a href="data-types.html#datetime" title="10.3.1. The DATE,
        DATETIME, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP(<em class="replaceable"><code>N</code></em>)</code></a>
                causes the backup to fail. This holds true regardless of
                the logging format.
              </p><p>
                It may be possible to fix such issues using a hex
                editor, by replacing any width arguments used with
                <a href="data-types.html#datetime" title="10.3.1. The DATE,
        DATETIME, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>, and the
                parentheses containing them, with space characters
                (hexadecimal <code class="literal">20</code>).

                


                Be sure to use a programmer's binary hex editor and
                not a regular text editor or word processor for this;
                otherwise, the result is almost certain to be a
                corrupted binary log file. To guard against accidental
                corruption of the binary log, you should always work on
                a copy of the file rather than the original.
              </p></li></ul></div><p>
            You should try to handle potential issues of these types
            proactively by updating with <a href="sql-syntax.html#alter-table" title="12.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
            TABLE</code></a> any
            <a href="data-types.html#datetime" title="10.3.1. The DATE,
        DATETIME, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP(N)</code></a> columns in your
            databases so that they use
            <a href="data-types.html#datetime" title="10.3.1. The DATE,
        DATETIME, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> instead, before
            performing any upgrades.
          </p></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.5.3, the Unicode implementation has been extended to
            provide support for supplementary characters that lie
            outside the Basic Multilingual Plane (BMP). Noteworthy
            features:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                <code class="literal">utf16</code> and <code class="literal">utf32</code>
                character sets have been added. These correspond to the
                UTF-16 and UTF-32 encodings of the Unicode character
                set, and they both support supplementary characters.
              </p></li><li><p>
                The <code class="literal">utf8mb4</code> character set has been
                added. This is similar to <code class="literal">utf8</code>, but
                its encoding allows up to four bytes per character to
                enable support for supplementary characters.
              </p></li><li><p>
                The <code class="literal">ucs2</code> character set is essentially
                unchanged except for the inclusion of some newer BMP
                characters.
              </p></li></ul></div><p>
            In most respects, upgrading to MySQL 5.5 should
            present few problems with regard to Unicode usage, although
            there are some potential areas of incompatibility. These are
            the primary areas of concern:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                For the variable-length character data types
                (<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> and the
                <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> types), the maximum
                length in characters is less for
                <code class="literal">utf8mb4</code> columns than for
                <code class="literal">utf8</code> columns.
              </p></li><li><p>
                For all character data types
                (<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>,
                <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>, and the
                <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> types), the maximum
                number of characters that can be indexed is less for
                <code class="literal">utf8mb4</code> columns than for
                <code class="literal">utf8</code> columns.
              </p></li></ul></div><p>
            Consequently, if you want to upgrade tables from
            <code class="literal">utf8</code> to <code class="literal">utf8mb4</code> to
            take advantage of supplementary-character support, it may be
            necessary to change some column or index definitions.
          </p><p>
            For additional details about the new Unicode character sets
            and potential incompatibilities, see
            <a href="globalization.html#charset-unicode" title="9.1.10. Unicode Support">Section 9.1.10, “Unicode Support”</a>, and
            <a href="globalization.html#charset-unicode-upgrading" title="9.1.11. Upgrading from Previous to Current Unicode Support">Section 9.1.11, “Upgrading from Previous to Current Unicode Support”</a>.
          </p></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.5.3, the server includes <code class="literal">dtoa</code>, a
            library for conversion between strings and numbers by David
            M. Gay. In MySQL, this library provides the basis for
            improved conversion between string or
            <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> values and
            approximate-value (<a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a> or
            <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a>) numbers.
          </p><p>
            Because the conversions produced by this library differ in
            some cases from previous results, the potential exists for
            incompatibilities in applications that rely on previous
            results. For example, applications that depend on a specific
            exact result from previous conversions might need adjustment
            to accommodate additional precision.
          </p><p>
            For additional information about the properties of
            <code class="literal">dtoa</code> conversions, see
            <a href="functions.html#type-conversion" title="11.2. Type Conversion in Expression Evaluation">Section 11.2, “Type Conversion in Expression Evaluation”</a>.
          </p></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: In
            MySQL 5.5, several changes were made regarding the language
            and character set of error messages:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                The <a href="server-administration.html#option_mysqld_language"><code class="option">--language</code></a> option for
                specifying the directory for the error message file is
                now deprecated. The new
                <a href="server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a> and
                <a href="server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a> system
                variables should be used instead, and the server treats
                <a href="server-administration.html#option_mysqld_language"><code class="option">--language</code></a> as an alias
                for <a href="server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a>.
              </p></li><li><p>
                The <a href="server-administration.html#sysvar_language"><code class="literal">language</code></a> system
                variable has been removed and replaced with the new
                <a href="server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a> and
                <a href="server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a> system
                variables.
                <a href="server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a> has
                only a global value and is read only.
                <a href="server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a> has global
                and session values and can be modified at runtime, so
                the error message language can be changed while the
                server is running, and individual clients each can have
                a different error message language by changing their
                session <a href="server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a>
                value to a different locale name.
              </p></li><li><p>
                Error messages previously were constructed in a mix of
                character sets. This issue is resolved by constructing
                error messages internally within the server using UTF-8
                and returning them to the client in the character set
                specified by the
                <a href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>
                system variable. The content of error messages therefore
                may in some cases differ from the messags returned
                previously.
              </p></li></ul></div><p>
            For more information, see
            <a href="globalization.html#error-message-language" title="9.2. Setting the Error Message Language">Section 9.2, “Setting the Error Message Language”</a>, and
            <a href="globalization.html#charset-errors" title="9.1.6. Character Set for Error Messages">Section 9.1.6, “Character Set for Error Messages”</a>.
          </p></li></ul></div><h5><a name="id544265"></a>
        SQL Changes
      </h5><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>:
            Previously, the parser accepted an <code class="literal">INTO</code>
            clause in nested <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>
            statements, which is invalid because such statements must
            return their results to the outer context. As of MySQL
            5.5.3, this syntax is no longer permitted and statements
            that use it must be changed.
          </p></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: In
            MySQL 5.5.3, several changes were made to alias resolution
            in multiple-table <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>
            statements so that it is no longer possible to have
            inconsistent or ambiguous table aliases.
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                In MySQL 5.1.23, alias declarations outside the
                <em class="replaceable"><code>table_references</code></em> part of the
                statement were disallowed for the
                <code class="literal">USING</code> variant of multiple-table
                <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> syntax, to reduce
                the possibility of ambiguous aliases that could lead to
                ambiguous statements that have unexpected results such
                as deleting rows from the wrong table.
              </p><p>
                As of MySQL 5.5.3, alias declarations outside
                <em class="replaceable"><code>table_references</code></em> are
                disallowed for all multiple-table
                <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements. Alias
                declarations are permitted only in the
                <em class="replaceable"><code>table_references</code></em> part.
              </p><p>
                Incorrect:
              </p><pre class="programlisting">DELETE FROM t1 AS a2 USING t1 AS a1 INNER JOIN t2 AS a2;
DELETE t1 AS a2 FROM t1 AS a1 INNER JOIN t2 AS a2;</pre><p>
                Correct:
              </p><pre class="programlisting">DELETE FROM t1 USING t1 AS a1 INNER JOIN t2 AS a2;
DELETE t1 FROM t1 AS a1 INNER JOIN t2 AS a2;</pre></li><li><p>
                Previously, for alias references in the list of tables
                from which to delete rows in a multiple-table delete,
                the default database is used unless one is specified
                explicitly. For example, if the default database is
                <code class="literal">db1</code>, the following statement does not
                work because the unqualified alias reference
                <code class="literal">a2</code> is interpreted as having a
                database of <code class="literal">db1</code>:
              </p><pre class="programlisting">DELETE a1, a2 FROM db1.t1 AS a1 INNER JOIN db2.t2 AS a2
WHERE a1.id=a2.id;</pre><p>
                To correctly match an alias that refers to a table
                outside the default database, you must explicitly
                qualify the reference with the name of the proper
                database:
              </p><pre class="programlisting">DELETE a1, db2.a2 FROM db1.t1 AS a1 INNER JOIN db2.t2 AS a2
WHERE a1.id=a2.id;</pre><p>
                As of MySQL 5.5.3, alias resolution does not require
                qualification and alias references should not be
                qualified with the database name. Qualified names are
                interpreted as referring to tables, not aliases.
              </p></li></ul></div><p>
            Statements containing alias constructs that are no longer
            permitted must be rewritten.
          </p></li><li><p>
            Some keywords may be reserved in MySQL 5.5 that
            were not reserved in MySQL 5.1. See
            <a href="language-structure.html#reserved-words" title="8.3. Reserved Words">Section 8.3, “Reserved Words”</a>.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="upgrading-from-5-4"></a>2.11.1.2. Upgrading from MySQL 5.4 to 5.5</h4></div></div></div><a class="indexterm" name="id544472"></a><a class="indexterm" name="id544484"></a><p>
        This section is for the special case of upgrading to MySQL
        5.5 from the short-lived MySQL 5.4 development
        series, which is no longer being worked on.
      </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
          It is good practice to back up your data before installing any
          new version of software. Although MySQL works very hard to
          ensure a high level of quality, you should protect your data
          by making a backup.
        </p><p xmlns="">
          To upgrade to 5.5 from any previous version,
          MySQL recommends that you dump your tables with
          <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> before upgrading and reload the
          dump file after upgrading.
        </p></div><p>
        In general, you should do the following when upgrading from
        MySQL 5.4 to 5.5:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Read <span class="emphasis"><em>all</em></span> the items in the following
            sections to see whether any of them might affect your
            applications:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                <a href="installing.html#upgrading" title="2.11.1. Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>, has general update
                information.
              </p></li><li><p>
                The items in the change lists found later in this
                section enable you to identify upgrade issues that apply
                to your current MySQL installation.
              </p></li><li><p>
                The MySQL 5.5 change history describes
                significant new features you can use in 5.5
                or that differ from those found in earlier MySQL
                releases. Some of these changes may result in
                incompatibilities. See <a href="news.html#news-5-5-x" title="D.1. Changes in Release 5.5.x (Production)">Section D.1, “Changes in Release 5.5.x (Production)”</a>.
              </p></li></ul></div><p>
            Note particularly any changes that are marked
            <span class="bold"><strong>Known issue</strong></span> or
            <span class="bold"><strong>Incompatible change</strong></span>. These
            incompatibilities with earlier versions of MySQL may require
            your attention <span class="emphasis"><em>before you upgrade</em></span>. Our
            aim is to avoid these changes, but occasionally they are
            necessary to correct problems that would be worse than an
            incompatibility between releases. If any upgrade issue
            applicable to your installation involves an incompatibility
            that requires special handling, follow the instructions
            given in the incompatibility description. Often this will
            involve dumping and reloading tables, or use of a statement
            such as <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> or
            <a href="sql-syntax.html#repair-table" title="12.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>.
          </p><p>
            For dump and reload instructions, see
            <a href="installing.html#rebuilding-tables" title="2.11.4. Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>. Any procedure that
            involves <a href="sql-syntax.html#repair-table" title="12.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> with
            the <code class="literal">USE_FRM</code> option
            <span class="emphasis"><em>must</em></span> be done before upgrading. Use of
            this statement with a version of MySQL different from the
            one used to create the table (that is, using it after
            upgrading) may damage the table. See
            <a href="sql-syntax.html#repair-table" title="12.7.2.5. REPAIR TABLE Syntax">Section 12.7.2.5, “<code class="literal">REPAIR TABLE</code> Syntax”</a>.
          </p></li><li><p>
            Before upgrading to a new version of MySQL,
            <a href="installing.html#checking-table-incompatibilities" title="2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Tables or Indexes Must Be Rebuilt”</a>, to see
            whether changes to table formats or to character sets or
            collations were made between your current version of MySQL
            and the version to which you are upgrading. If so and these
            changes result in an incompatibility between MySQL versions,
            you will need to upgrade the affected tables using the
            instructions in <a href="installing.html#rebuilding-tables" title="2.11.4. Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
          </p></li><li><p>
            After upgrading to a new version of MySQL, run
            <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> (see
            <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade">Section 4.4.7, “<span><strong class="command">mysql_upgrade</strong></span> — Check Tables for MySQL Upgrade”</a>). This program checks your
            tables, and attempts to repair them if necessary. It also
            updates your grant tables to make sure that they have the
            current structure so that you can take advantage of any new
            capabilities. (Some releases of MySQL introduce changes to
            the structure of the grant tables to add new privileges or
            features.)
          </p><p>
            <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> does not upgrade the
            contents of the help tables. For upgrade instructions, see
            <a href="server-administration.html#server-side-help-support" title="5.1.8. Server-Side Help">Section 5.1.8, “Server-Side Help”</a>.
          </p></li><li><p>
            If you run MySQL Server on Windows, see
            <a href="installing.html#windows-upgrading" title="2.3.8. Upgrading MySQL on Windows">Section 2.3.8, “Upgrading MySQL on Windows”</a>.
          </p></li><li><p>
            If you use replication, see
            <a href="replication.html#replication-upgrade" title="15.4.3. Upgrading a Replication Setup">Section 15.4.3, “Upgrading a Replication Setup”</a>, for information on
            upgrading your replication setup.
          </p></li></ul></div><p>
        If your MySQL installation contains a large amount of data that
        might take a long time to convert after an in-place upgrade, you
        might find it useful to create a “<span class="quote">dummy</span>” database
        instance for assessing what conversions might be needed and the
        work involved to perform them. Make a copy of your MySQL
        instance that contains a full copy of the
        <code class="literal">mysql</code> database, plus all other databases
        without data. Run your upgrade procedure on this dummy instance
        to see what actions might be needed so that you can better
        evaluate the work involved when performing actual data
        conversion on your original database instance.
      </p><p>
        The following lists describe changes that may affect
        applications and that you should watch out for when upgrading
        from MySQL 5.4 to 5.5.
      </p><h5><a name="id544753"></a>
        Configuration Changes
      </h5><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: In
            MySQL 5.5, the server includes a plugin
            services interface that complements the plugin API. The
            services interface enables server functionality to be
            exposed as a “<span class="quote">service</span>” that plugins can access
            through a function-call interface. The
            <code class="literal">libmysqlservices</code> library provides access
            to the available services and dynamic plugins now must be
            linked against this library (use the
            <code class="literal">-lmysqlservices</code> flag). For an example
            showing how to configure for <span><strong class="command">CMake</strong></span>, see
            <a href="extending-mysql.html#plugin-services" title="22.2.5. MySQL Services for Plugins">Section 22.2.5, “MySQL Services for Plugins”</a>.
          </p></li></ul></div><h5><a name="id544803"></a>
        Server Changes
      </h5><div class="itemizedlist"><ul type="disc"><li><p>
            <a class="indexterm" name="id544813"></a>

            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.5.7, the server requires that a new grant table,
            <code class="literal">proxies_priv</code>, be present in the
            <code class="literal">mysql</code> database. If you are upgrading from
            a previous MySQL release rather than performing a new
            installation, the server will find that this table is
            missing and exit during startup with the following message:
          </p><pre class="programlisting">Table 'mysql.proxies_priv' doesn't exist</pre><p>
            To create the <code class="literal">proxies_priv</code> table, start
            the server with the
            <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a> option to
            cause it to skip the normal grant table checks, then run
            <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>. For example:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqld --skip-grant-tables &amp;</code></strong>
shell&gt; <strong class="userinput"><code>mysql_upgrade</code></strong>
</pre><p>
            Then stop the server and restart it normally.
          </p><p>
            You can specify other options on the
            <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> command line if necessary.
            Alternatively, if your installation is configured so that
            the server normally reads options from an option file, use
            the <a href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option
            to specify the file (enter each command on a single line):
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqld --defaults-file=/usr/local/mysql/etc/my.cnf</code></strong>
         <strong class="userinput"><code>--skip-grant-tables &amp;</code></strong>
shell&gt; <strong class="userinput"><code>mysql_upgrade</code></strong>
</pre><p>
            With the <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>
            option, the server does no password or privilege checking,
            so any client can connect and effectively have all
            privilges. For additional security, use the
            <a href="server-administration.html#option_mysqld_skip-networking"><code class="option">--skip-networking</code></a> option as
            well to prevent remote clients from connecting.
          </p></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.5.3, the Unicode implementation has been extended to
            provide support for supplementary characters that lie
            outside the Basic Multilingual Plane (BMP). Noteworthy
            features:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                <code class="literal">utf16</code> and <code class="literal">utf32</code>
                character sets have been added. These correspond to the
                UTF-16 and UTF-32 encodings of the Unicode character
                set, and they both support supplementary characters.
              </p></li><li><p>
                The <code class="literal">utf8mb4</code> character set has been
                added. This is similar to <code class="literal">utf8</code>, but
                its encoding allows up to four bytes per character to
                enable support for supplementary characters.
              </p></li><li><p>
                The <code class="literal">ucs2</code> character set is essentially
                unchanged except for the inclusion of some newer BMP
                characters.
              </p></li></ul></div><p>
            In most respects, upgrading to MySQL 5.5 should
            present few problems with regard to Unicode usage, although
            there are some potential areas of incompatibility. These are
            the primary areas of concern:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                For the variable-length character data types
                (<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> and the
                <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> types), the maximum
                length in characters is less for
                <code class="literal">utf8mb4</code> columns than for
                <code class="literal">utf8</code> columns.
              </p></li><li><p>
                For all character data types
                (<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>,
                <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>, and the
                <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> types), the maximum
                number of characters that can be indexed is less for
                <code class="literal">utf8mb4</code> columns than for
                <code class="literal">utf8</code> columns.
              </p></li></ul></div><p>
            Consequently, if you want to upgrade tables from
            <code class="literal">utf8</code> to <code class="literal">utf8mb4</code> to
            take advantage of supplementary-character support, it may be
            necessary to change some column or index definitions.
          </p><p>
            For additional details about the new Unicode character sets
            and potential incompatibilities, see
            <a href="globalization.html#charset-unicode" title="9.1.10. Unicode Support">Section 9.1.10, “Unicode Support”</a>, and
            <a href="globalization.html#charset-unicode-upgrading" title="9.1.11. Upgrading from Previous to Current Unicode Support">Section 9.1.11, “Upgrading from Previous to Current Unicode Support”</a>.
          </p></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.5.3, the server includes <code class="literal">dtoa</code>, a
            library for conversion between strings and numbers by David
            M. Gay. In MySQL, this library provides the basis for
            improved conversion between string or
            <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> values and
            approximate-value
            (<a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a>/<a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a>)
            numbers.
          </p><p>
            Because the conversions produced by this library differ in
            some cases from previous results, the potential exists for
            incompatibilities in applications that rely on previous
            results. For example, applications that depend on a specific
            exact result from previous conversions might need adjustment
            to accommodate additional precision.
          </p><p>
            For additional information about the properties of
            <code class="literal">dtoa</code> conversions, see
            <a href="functions.html#type-conversion" title="11.2. Type Conversion in Expression Evaluation">Section 11.2, “Type Conversion in Expression Evaluation”</a>.
          </p></li><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>: In
            MySQL 5.5, several changes were made regarding the language
            and character set of error messages:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                The <a href="server-administration.html#option_mysqld_language"><code class="option">--language</code></a> option for
                specifying the directory for the error message file is
                now deprecated. The new
                <a href="server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a> and
                <a href="server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a> system
                variables should be used instead, and the server treats
                <a href="server-administration.html#option_mysqld_language"><code class="option">--language</code></a> as an alias
                for <a href="server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a>.
              </p></li><li><p>
                The <a href="server-administration.html#sysvar_language"><code class="literal">language</code></a> system
                variable has been removed and replaced with the new
                <a href="server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a> and
                <a href="server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a> system
                variables.
                <a href="server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a> has
                only a global value and is read only.
                <a href="server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a> has global
                and session values and can be modified at runtime, so
                the error message language can be changed while the
                server is running, and individual clients each can have
                a different error message language by changing their
                session <a href="server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a>
                value to a different locale name.
              </p></li><li><p>
                Error messages previously were constructed in a mix of
                character sets. This issue is resolved by constructing
                error messages internally within the server using UTF-8
                and returning them to the client in the character set
                specified by the
                <a href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>
                system variable. The content of error messages therefore
                may in some cases differ from the messags returned
                previously.
              </p></li></ul></div><p>
            For more information, see
            <a href="globalization.html#error-message-language" title="9.2. Setting the Error Message Language">Section 9.2, “Setting the Error Message Language”</a>, and
            <a href="globalization.html#charset-errors" title="9.1.6. Character Set for Error Messages">Section 9.1.6, “Character Set for Error Messages”</a>.
          </p></li><li><p>
            Before MySQL 5.1.36, plugin options were boolean options
            (see <a href="programs.html#option-modifiers" title="4.2.3.2. Program Option Modifiers">Section 4.2.3.2, “Program Option Modifiers”</a>). If you upgrade to
            MySQL 5.5 from a version older than 5.1.36 and
            previously used options of the form
            <code class="option">--<em class="replaceable"><code>plugin_name</code></em>=0</code>
            or
            <code class="option">--<em class="replaceable"><code>plugin_name</code></em>=1</code>,
            the equivalent options are now
            <code class="option">--<em class="replaceable"><code>plugin_name</code></em>=OFF</code>
            and
            <code class="option">--<em class="replaceable"><code>plugin_name</code></em>=ON</code>,
            respectively. You also have the choice of requiring plugins
            to start successfully by using
            <code class="option">--<em class="replaceable"><code>plugin_name</code></em>=FORCE</code>
            or
            <code class="option">--<em class="replaceable"><code>plugin_name</code></em>=FORCE_PLUS_PERMANENT</code>.
          </p></li></ul></div><h5><a name="id545419"></a>
        SQL Changes
      </h5><div class="itemizedlist"><ul type="disc"><li><p>
            <span class="bold"><strong>Incompatible change</strong></span>:
            Previously, the parser accepted an <code class="literal">INTO</code>
            clause in nested <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>
            statements, which is invalid because such statements must
            return their results to the outer context. As of MySQL
            5.5.3, this syntax is no longer permitted and statements
            that use it must be changed.
          </p></li><li><p>
            Some keywords may be reserved in MySQL 5.5 that
            were not reserved in MySQL 5.4. See
            <a href="language-structure.html#reserved-words" title="8.3. Reserved Words">Section 8.3, “Reserved Words”</a>.
          </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="downgrading"></a>2.11.2. Downgrading MySQL</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#downgrading-to-previous-series">2.11.2.1. Downgrading to MySQL 5.1</a></span></dt></dl></div><a class="indexterm" name="id545480"></a><p>
      This section describes what you should do to downgrade to an older
      MySQL version in the unlikely case that the previous version
      worked better than the new one.
    </p><p>
      If you are downgrading within the same release series (for
      example, from 5.1.13 to 5.1.12) the
      general rule is that you just have to install the new binaries on
      top of the old ones. There is no need to do anything with the
      databases. As always, however, it is always a good idea to make a
      backup.
    </p><p>
      The following items form a checklist of things you should do
      whenever you perform a downgrade:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Read the upgrading section for the release series from which
          you are downgrading to be sure that it does not have any
          features you really need. See <a href="installing.html#upgrading" title="2.11.1. Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>.
        </p></li><li><p>
          If there is a downgrading section for that version, you should
          read that as well.
        </p></li><li><p>
          To see which new features were added between the version to
          which you are downgrading and your current version, see the
          change logs (<a href="news.html" title="Appendix D. MySQL Change History">Appendix D, <i>MySQL Change History</i></a>).
        </p></li><li><p>
          Check <a href="installing.html#checking-table-incompatibilities" title="2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Tables or Indexes Must Be Rebuilt”</a>, to
          see whether changes to table formats or to character sets or
          collations were made between your current version of MySQL and
          the version to which you are downgrading. If so and these
          changes result in an incompatibility between MySQL versions,
          you will need to downgrade the affected tables using the
          instructions in <a href="installing.html#rebuilding-tables" title="2.11.4. Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
        </p></li></ul></div><p>
      In most cases, you can move the MySQL format files and data files
      between different versions on the same architecture as long as you
      stay within versions for the same release series of MySQL.
    </p><p>
      If you downgrade from one release series to another, there may be
      incompatibilities in table storage formats. In this case, use
      <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to dump your tables before
      downgrading. After downgrading, reload the dump file using
      <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> or <a href="programs.html#mysqlimport" title="4.5.5. mysqlimport — A Data Import Program"><span><strong class="command">mysqlimport</strong></span></a> to
      re-create your tables. For examples, see
      <a href="installing.html#copying-databases" title="2.11.5. Copying MySQL Databases to Another Machine">Section 2.11.5, “Copying MySQL Databases to Another Machine”</a>.
    </p><p>
      A typical symptom of a downward-incompatible table format change
      when you downgrade is that you cannot open tables. In that case,
      use the following procedure:
    </p><div class="orderedlist"><ol type="1"><li><p>
          Stop the older MySQL server that you are downgrading to.
        </p></li><li><p>
          Restart the newer MySQL server you are downgrading from.
        </p></li><li><p>
          Dump any tables that were inaccessible to the older server by
          using <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to create a dump file.
        </p></li><li><p>
          Stop the newer MySQL server and restart the older one.
        </p></li><li><p>
          Reload the dump file into the older server. Your tables should
          be accessible.
        </p></li></ol></div><p>
      It might also be the case that system tables in the
      <code class="literal">mysql</code> database have changed and that
      downgrading introduces some loss of functionality or requires some
      adjustments. Here are some examples:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Trigger creation requires the <code class="literal">TRIGGER</code>
          privilege as of MySQL 5.1. In MySQL 5.0, there is no
          <code class="literal">TRIGGER</code> privilege and
          <code class="literal">SUPER</code> is required instead. If you downgrade
          from MySQL 5.1 to 5.0, you will need to give the
          <code class="literal">SUPER</code> privilege to those accounts that had
          the <code class="literal">TRIGGER</code> privilege in 5.1.
        </p></li><li><p>
          Triggers were added in MySQL 5.0, so if you downgrade from 5.0
          to 4.1, you cannot use triggers at all.
        </p></li><li><p>
          The <code class="literal">mysql.proc.comment</code> column definition
          changed between MySQL 5.1 and 5.5. After a downgrade from 5.5
          to 5.1, this table is seen as corrupt and in need of repair.
          To workaround this problem, execute
          <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> from the version of MySQL to
          which you downgraded.
        </p></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="downgrading-to-previous-series"></a>2.11.2.1. Downgrading to MySQL 5.1</h4></div></div></div><p>
        When downgrading to MySQL 5.1 from MySQL 5.5, you
        should keep in mind the following issues relating to features
        found in MySQL 5.5, but not in MySQL 5.1:
      </p><div class="itemizedlist"><ul type="disc"><li><p><b>InnoDB. </b>
              MySQL 5.5 uses <code class="literal">InnoDB Plugin</code> as the
              built-in version of <code class="literal">InnoDB</code>. MySQL
              5.1 includes <code class="literal">InnoDB
              Plugin</code> as of 5.1.38, but as an option that must
              be enabled explicitly. See <a href="http://dev.mysql.com/doc/refman/5.1/en/news-5-1-x.html#news-5-1-38" target="_top">Changes in MySQL 5.1.38</a>.
            </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="checking-table-incompatibilities"></a>2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt</h3></div></div></div><p>
      A binary upgrade or downgrade is one that installs one version of
      MySQL “<span class="quote">in place</span>” over an existing version, without
      dumping and reloading tables:
    </p><div class="orderedlist"><ol type="1"><li><p>
          Stop the server for the existing version if it is running.
        </p></li><li><p>
          Install a different version of MySQL. This is an upgrade if
          the new version is higher than the original version, a
          downgrade if the version is lower.
        </p></li><li><p>
          Start the server for the new version.
        </p></li></ol></div><p>
      In many cases, the tables from the previous version of MySQL can
      be used without problem by the new version. However, sometimes
      changes occur that require tables or table indexes to be rebuilt,
      as described in this section. If you have tables that are affected
      by any of the issues described here, rebuild the tables or indexes
      as necessary using the instructions given in
      <a href="installing.html#rebuilding-tables" title="2.11.4. Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
    </p><h4><a name="id545850"></a>
      Table Incompatibilities
    </h4><p>
      After a binary upgrade to MySQL 5.1 from a MySQL 5.0 installation
      that contains <a href="storage-engines.html#archive-storage-engine" title="13.8. The ARCHIVE Storage Engine"><code class="literal">ARCHIVE</code></a> tables,
      accessing those tables causes the server to crash, even if you
      have run <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> or
      <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
      UPGRADE</code></a>. To work around this problem, use
      <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to dump all
      <a href="storage-engines.html#archive-storage-engine" title="13.8. The ARCHIVE Storage Engine"><code class="literal">ARCHIVE</code></a> tables before upgrading, and
      reload them into MySQL 5.1 after upgrading. The same problem
      occurs for binary downgrades from MySQL 5.1 to 5.0.
    </p><p>
      The upgrade problem is fixed in MySQL 5.6.4: The server can open
      <a href="storage-engines.html#archive-storage-engine" title="13.8. The ARCHIVE Storage Engine"><code class="literal">ARCHIVE</code></a> tables created in MySQL 5.0.
      However, it remains the recommended upgrade procedure to dump 5.0
      <a href="storage-engines.html#archive-storage-engine" title="13.8. The ARCHIVE Storage Engine"><code class="literal">ARCHIVE</code></a> tables before upgrading and
      reload them after upgrading.
    </p><h4><a name="id545915"></a>
      Index Incompatibilities
    </h4><p>
      In MySQL 5.5.14, the length limit for index prefix keys is
      increased from 767 bytes to 3072 bytes, for
      <code class="literal">InnoDB</code> tables using
      <code class="literal">ROW_FORMAT=DYNAMIC</code> or
      <code class="literal">ROW_FORMAT=COMPRESSED</code>. See
      <a href="storage-engines.html#innodb-restrictions" title="13.3.15. Limits on InnoDB Tables">Section 13.3.15, “Limits on <code class="literal">InnoDB</code> Tables”</a> for details. This change is
      also backported to MySQL 5.5.14. If you downgrade from one of
      these releases or higher, to an earlier release with a lower
      length limit, the index prefix keys could be truncated at 767
      bytes or the downgrade could fail. This issue could only occur if
      the configuration option
      <a href="storage-engines.html#sysvar_innodb_large_prefix"><code class="literal">innodb_large_prefix</code></a> was enabled
      on the server being downgraded.



    </p><p>
      If you perform a binary upgrade without dumping and reloading
      tables, you cannot upgrade directly from MySQL 4.1 to 5.1 or
      higher. This occurs due to an incompatible change in the
      <code class="literal">MyISAM</code> table index format in MySQL 5.0. Upgrade
      from MySQL 4.1 to 5.0 and repair all <code class="literal">MyISAM</code>
      tables. Then upgrade from MySQL 5.0 to 5.1 and check and repair
      your tables.
    </p><p>
      Modifications to the handling of character sets or collations
      might change the character sort order, which causes the ordering
      of entries in any index that uses an affected character set or
      collation to be incorrect. Such changes result in several possible
      problems:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Comparison results that differ from previous results
        </p></li><li><p>
          Inability to find some index values due to misordered index
          entries
        </p></li><li><p>
          Misordered <code class="literal">ORDER BY</code> results
        </p></li><li><p>
          Tables that <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> reports
          as being in need of repair
        </p></li></ul></div><p>
      The solution to these problems is to rebuild any indexes that use
      an affected character set or collation, either by dropping and
      re-creating the indexes, or by dumping and reloading the entire
      table. For information about rebuilding indexes, see
      <a href="installing.html#rebuilding-tables" title="2.11.4. Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
    </p><p>
      To check whether a table has indexes that must be rebuilt, consult
      the following list. It indicates which versions of MySQL
      introduced character set or collation changes that require indexes
      to be rebuilt. Each entry indicates the version in which the
      change occurred and the character sets or collations that the
      change affects. If the change is associated with a particular bug
      report, the bug number is given.
    </p><p>
      The list applies both for binary upgrades and downgrades. For
      example, Bug #27877 was fixed in MySQL 5.1.24 and 5.4.0, so it
      applies to upgrades from versions older than 5.1.24 to 5.1.24 or
      newer, and to downgrades from 5.1.24 or newer to versions older
      than 5.1.24.
    </p><p>
      In many cases, you can use
      <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
      UPGRADE</code></a> to identify tables for which index rebuilding is
      required. (It will report: <code class="literal">Table upgrade required. Please
      do "REPAIR TABLE `tbl_name`" or dump/reload to fix it!</code>)
      In these cases, you can also use <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck
      --check-upgrade</strong></span></a> or <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>,
      which execute <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>. However,
      the use of <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> applies only
      after upgrades, not downgrades. Also, <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK
      TABLE</code></a> is not applicable to all storage engines. For
      details about which storage engines <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK
      TABLE</code></a> supports, see <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax">Section 12.7.2.2, “<code class="literal">CHECK TABLE</code> Syntax”</a>.
    </p><p>
      Changes that cause index rebuilding to be necessary:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          MySQL 5.0.48, 5.1.21 (Bug #29461)
        </p><p>
          Affects indexes for columns that use any of these character
          sets: <code class="literal">eucjpms</code>, <code class="literal">euc_kr</code>,
          <code class="literal">gb2312</code>, <code class="literal">latin7</code>,
          <code class="literal">macce</code>, <code class="literal">ujis</code>
        </p><p>
          Affected tables can be detected by
          <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ...
          FOR UPGRADE</code></a> as of MySQL 5.1.29, 5.4.0 (see Bug
          #39585).
        </p></li><li><p>
          MySQL 5.0.48, 5.1.23 (Bug #27562)
        </p><p>
          Affects indexes that use the
          <code class="literal">ascii_general_ci</code> collation for columns that
          contain any of these characters: <code class="literal">'`'</code> GRAVE
          ACCENT, <code class="literal">'['</code> LEFT SQUARE BRACKET,
          <code class="literal">'\'</code> REVERSE SOLIDUS, <code class="literal">']'</code>
          RIGHT SQUARE BRACKET, <code class="literal">'~'</code> TILDE
        </p><p>
          Affected tables can be detected by
          <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ...
          FOR UPGRADE</code></a> as of MySQL 5.1.29, 5.4.0 (see Bug
          #39585).
        </p></li><li><p>
          MySQL 5.1.24, 5.4.0 (Bug #27877)
        </p><p>
          Affects indexes that use the
          <code class="literal">utf8_general_ci</code> or
          <code class="literal">ucs2_general_ci</code> collation for columns that
          contain <code class="literal">'ß'</code> LATIN SMALL LETTER SHARP S
          (German).
        </p><p>
          Affected tables can be detected by
          <a href="sql-syntax.html#check-table" title="12.7.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ...
          FOR UPGRADE</code></a> as of MySQL 5.1.30, 5.4.0 (see Bug
          #40053).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="rebuilding-tables"></a>2.11.4. Rebuilding or Repairing Tables or Indexes</h3></div></div></div><a class="indexterm" name="id546287"></a><a class="indexterm" name="id546299"></a><a class="indexterm" name="id546311"></a><p>
      This section describes how to rebuild a table. This can be
      necessitated by changes to MySQL such as how data types are
      handled or changes to character set handling. For example, an
      error in a collation might have been corrected, necessitating a
      table rebuild to update the indexes for character columns that use
      the collation. (For examples, see
      <a href="installing.html#checking-table-incompatibilities" title="2.11.3. Checking Whether Tables or Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Tables or Indexes Must Be Rebuilt”</a>.) It might also
      be that a table repair or upgrade should be done as indicated by a
      table check operation such as that performed by <code class="literal">CHECK
      TABLE</code>, <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a>, or
      <a href="programs.html#mysql-upgrade" title="4.4.7. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>.
    </p><p>
      Methods for rebuilding a table include dumping and reloading it,
      or using <a href="sql-syntax.html#alter-table" title="12.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> or
      <a href="sql-syntax.html#repair-table" title="12.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>.
    </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
        If you are rebuilding tables because a different version of
        MySQL will not handle them after a binary (in-place) upgrade or
        downgrade, you must use the dump-and-reload method. Dump the
        tables <span class="emphasis"><em>before</em></span> upgrading or downgrading
        using your original version of MySQL. Then reload the tables
        <span class="emphasis"><em>after</em></span> upgrading or downgrading.
      </p><p xmlns="">
        If you use the dump-and-reload method of rebuilding tables only
        for the purpose of rebuilding indexes, you can perform the dump
        either before or after upgrading or downgrading. Reloading still
        must be done afterward.
      </p></div><p>
      To rebuild a table by dumping and reloading it, use
      <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to create a dump file and
      <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to reload the file:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> t1 &gt; dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em> &lt; dump.sql</code></strong>
</pre><p>
      To rebuild all the tables in a single database, specify the
      database name without any following table name:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> &gt; dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em> &lt; dump.sql</code></strong>
</pre><p>
      To rebuild all tables in all databases, use the
      <a href="programs.html#option_mysqldump_all-databases"><code class="option">--all-databases</code></a> option:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqldump --all-databases &gt; dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql &lt; dump.sql</code></strong>
</pre><p>
      To rebuild a table with <a href="sql-syntax.html#alter-table" title="12.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
      TABLE</code></a>, use a “<span class="quote">null</span>” alteration; that is, an
      <a href="sql-syntax.html#alter-table" title="12.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement that
      “<span class="quote">changes</span>” the table to use the storage engine that it
      already has. For example, if <code class="literal">t1</code> is a
      <code class="literal">MyISAM</code> table, use this statement:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER TABLE t1 ENGINE = MyISAM;</code></strong>
</pre><p>
      If you are not sure which storage engine to specify in the
      <a href="sql-syntax.html#alter-table" title="12.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement, use
      <a href="sql-syntax.html#show-create-table" title="12.7.5.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> to display the
      table definition.
    </p><p>
      If you must rebuild a table because a table checking operation
      indicates that the table is corrupt or needs an upgrade, you can
      use <a href="sql-syntax.html#repair-table" title="12.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> if that statement
      supports the table's storage engine. For example, to repair a
      <code class="literal">MyISAM</code> table, use this statement:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>REPAIR TABLE t1;</code></strong>
</pre><p>
      For storage engines such as <code class="literal">InnoDB</code> that
      <a href="sql-syntax.html#repair-table" title="12.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> does not support, use
      <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to create a dump file and
      <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to reload the file, as described earlier.
    </p><p>
      For specifics about which storage engines
      <a href="sql-syntax.html#repair-table" title="12.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> supports, see
      <a href="sql-syntax.html#repair-table" title="12.7.2.5. REPAIR TABLE Syntax">Section 12.7.2.5, “<code class="literal">REPAIR TABLE</code> Syntax”</a>.
    </p><p>
      <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck --repair</strong></span></a> provides command-line
      access to the <a href="sql-syntax.html#repair-table" title="12.7.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>
      statement. This can be a more convenient means of repairing tables
      because you can use the
      <a href="programs.html#option_mysqlcheck_databases"><code class="option">--databases</code></a> or
      <a href="programs.html#option_mysqlcheck_all-databases"><code class="option">--all-databases</code></a> option to
      repair all tables in specific databases or all databases,
      respectively:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqlcheck --repair --databases <em class="replaceable"><code>db_name</code></em> ...</code></strong>
shell&gt; <strong class="userinput"><code>mysqlcheck --repair --all-databases</code></strong>
</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="copying-databases"></a>2.11.5. Copying MySQL Databases to Another Machine</h3></div></div></div><a class="indexterm" name="id546707"></a><a class="indexterm" name="id546720"></a><a class="indexterm" name="id546728"></a><p>
      You can copy the <code class="filename">.frm</code>,
      <code class="filename">.MYI</code>, and <code class="filename">.MYD</code> files for
      <code class="literal">MyISAM</code> tables between different architectures
      that support the same floating-point format. (MySQL takes care of
      any byte-swapping issues.) See
      <a href="storage-engines.html#myisam-storage-engine" title="13.5. The MyISAM Storage Engine">Section 13.5, “The <code class="literal">MyISAM</code> Storage Engine”</a>.
    </p><p>
      In cases where you need to transfer databases between different
      architectures, you can use <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to create
      a file containing SQL statements. You can then transfer the file
      to the other machine and feed it as input to the
      <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client.
    </p><p>
      Use <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --help</strong></span></a> to see what options are
      available.
    </p><p>
      The easiest (although not the fastest) way to move a database
      between two machines is to run the following commands on the
      machine on which the database is located:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin -h '<em class="replaceable"><code>other_hostname</code></em>' create <em class="replaceable"><code>db_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> | mysql -h '<em class="replaceable"><code>other_hostname</code></em>' <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
      If you want to copy a database from a remote machine over a slow
      network, you can use these commands:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin create <em class="replaceable"><code>db_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysqldump -h '<em class="replaceable"><code>other_hostname</code></em>' --compress <em class="replaceable"><code>db_name</code></em> | mysql <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
      You can also store the dump in a file, transfer the file to the
      target machine, and then load the file into the database there.
      For example, you can dump a database to a compressed file on the
      source machine like this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqldump --quick <em class="replaceable"><code>db_name</code></em> | gzip &gt; <em class="replaceable"><code>db_name</code></em>.gz</code></strong>
</pre><p>
      Transfer the file containing the database contents to the target
      machine and run these commands there:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin create <em class="replaceable"><code>db_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>gunzip &lt; <em class="replaceable"><code>db_name</code></em>.gz | mysql <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><a class="indexterm" name="id546932"></a><a class="indexterm" name="id546940"></a><p>
      You can also use <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> and
      <a href="programs.html#mysqlimport" title="4.5.5. mysqlimport — A Data Import Program"><span><strong class="command">mysqlimport</strong></span></a> to transfer the database. For large
      tables, this is much faster than simply using
      <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>. In the following commands,
      <em class="replaceable"><code>DUMPDIR</code></em> represents the full path name
      of the directory you use to store the output from
      <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>.
    </p><p>
      First, create the directory for the output files and dump the
      database:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mkdir <em class="replaceable"><code>DUMPDIR</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysqldump --tab=<em class="replaceable"><code>DUMPDIR</code></em> <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
      Then transfer the files in the <em class="replaceable"><code>DUMPDIR</code></em>
      directory to some corresponding directory on the target machine
      and load the files into MySQL there:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin create <em class="replaceable"><code>db_name</code></em>           # create database</code></strong>
shell&gt; <strong class="userinput"><code>cat <em class="replaceable"><code>DUMPDIR</code></em>/*.sql | mysql <em class="replaceable"><code>db_name</code></em>   # create tables in database</code></strong>
shell&gt; <strong class="userinput"><code>mysqlimport <em class="replaceable"><code>db_name</code></em> <em class="replaceable"><code>DUMPDIR</code></em>/*.txt   # load data into tables</code></strong>
</pre><p>
      Do not forget to copy the <code class="literal">mysql</code> database
      because that is where the grant tables are stored. You might have
      to run commands as the MySQL <code class="literal">root</code> user on the
      new machine until you have the <code class="literal">mysql</code> database
      in place.
    </p><p>
      After you import the <code class="literal">mysql</code> database on the new
      machine, execute <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin flush-privileges</strong></span></a> so
      that the server reloads the grant table information.
    </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="environment-variables"></a>2.12. Environment Variables</h2></div></div></div><a class="indexterm" name="id547117"></a><p>
    This section lists all the environment variables that are used
    directly or indirectly by MySQL. Most of these can also be found in
    other places in this manual.
  </p><p>
    Note that any options on the command line take precedence over
    values specified in option files and environment variables, and
    values in option files take precedence over values in environment
    variables.
  </p><p>
    In many cases, it is preferable to use an option file instead of
    environment variables to modify the behavior of MySQL. See
    <a href="programs.html#option-files" title="4.2.3.3. Using Option Files">Section 4.2.3.3, “Using Option Files”</a>.
  </p><a class="indexterm" name="id547149"></a><a class="indexterm" name="id547158"></a><a class="indexterm" name="id547170"></a><a class="indexterm" name="id547179"></a><a class="indexterm" name="id547191"></a><a class="indexterm" name="id547200"></a><a class="indexterm" name="id547212"></a><a class="indexterm" name="id547221"></a><a class="indexterm" name="id547234"></a><a class="indexterm" name="id547243"></a><a class="indexterm" name="id547255"></a><a class="indexterm" name="id547264"></a><a class="indexterm" name="id547277"></a><a class="indexterm" name="id547286"></a><a class="indexterm" name="id547298"></a><a class="indexterm" name="id547307"></a><a class="indexterm" name="id547320"></a><a class="indexterm" name="id547329"></a><a class="indexterm" name="id547341"></a><a class="indexterm" name="id547350"></a><a class="indexterm" name="id547363"></a><a class="indexterm" name="id547372"></a><a class="indexterm" name="id547384"></a><a class="indexterm" name="id547393"></a><a class="indexterm" name="id547406"></a><a class="indexterm" name="id547415"></a><a class="indexterm" name="id547427"></a><a class="indexterm" name="id547436"></a><a class="indexterm" name="id547448"></a><a class="indexterm" name="id547458"></a><a class="indexterm" name="id547470"></a><a class="indexterm" name="id547479"></a><a class="indexterm" name="id547491"></a><a class="indexterm" name="id547500"></a><a class="indexterm" name="id547513"></a><a class="indexterm" name="id547522"></a><a class="indexterm" name="id547534"></a><a class="indexterm" name="id547543"></a><a class="indexterm" name="id547556"></a><a class="indexterm" name="id547565"></a><a class="indexterm" name="id547577"></a><a class="indexterm" name="id547586"></a><a class="indexterm" name="id547598"></a><a class="indexterm" name="id547607"></a><a class="indexterm" name="id547620"></a><a class="indexterm" name="id547629"></a><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code class="literal">CXX</code></td><td>The name of your C++ compiler (for running <span><strong class="command">CMake</strong></span>).</td></tr><tr><td><code class="literal">CC</code></td><td>The name of your C compiler (for running <span><strong class="command">CMake</strong></span>).</td></tr><tr><td><code class="literal">CFLAGS</code></td><td>Flags for your C compiler (for running <span><strong class="command">CMake</strong></span>).</td></tr><tr><td><code class="literal">CXXFLAGS</code></td><td>Flags for your C++ compiler (for running <span><strong class="command">CMake</strong></span>).</td></tr><tr><td><code class="literal">DBI_USER</code></td><td>The default user name for Perl DBI.</td></tr><tr><td><code class="literal">DBI_TRACE</code></td><td>Trace options for Perl DBI.</td></tr><tr><td><code class="literal">HOME</code></td><td>The default path for the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> history file is
            <code class="filename">$HOME/.mysql_history</code>.</td></tr><tr><td><code class="literal">LD_RUN_PATH</code></td><td>Used to specify the location of <code class="filename">libmysqlclient.so</code>.</td></tr><tr><td><code class="literal">MYSQL_DEBUG</code></td><td>Debug trace options when debugging.</td></tr><tr><td><code class="literal">MYSQL_GROUP_SUFFIX</code></td><td>Option group suffix value (like specifying
            <a href="programs.html#option_general_defaults-group-suffix"><code class="option">--defaults-group-suffix</code></a>).</td></tr><tr><td><code class="literal">MYSQL_HISTFILE</code></td><td>The path to the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> history file. If this variable
            is set, its value overrides the default for
            <code class="filename">$HOME/.mysql_history</code>.</td></tr><tr><td><code class="literal">MYSQL_HOME</code></td><td>The path to the directory in which the server-specific
            <code class="filename">my.cnf</code> file resides (as of MySQL
            5.0.3).</td></tr><tr><td><code class="literal">MYSQL_HOST</code></td><td>The default host name used by the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> command-line
            client.</td></tr><tr><td><code class="literal">MYSQL_PS1</code></td><td>The command prompt to use in the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> command-line
            client.</td></tr><tr><td><code class="literal">MYSQL_PWD</code></td><td>The default password when connecting to <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>. Note
            that using this is insecure. See
            <a href="server-administration.html#password-security-user" title="5.3.2.2. End-User Guidelines for Password Security">Section 5.3.2.2, “End-User Guidelines for Password Security”</a>.</td></tr><tr><td><code class="literal">MYSQL_TCP_PORT</code></td><td>The default TCP/IP port number.</td></tr><tr><td><code class="literal">MYSQL_UNIX_PORT</code></td><td>The default Unix socket file name; used for connections to
            <code class="literal">localhost</code>.</td></tr><tr><td><code class="literal">PATH</code></td><td>Used by the shell to find MySQL programs.</td></tr><tr><td><code class="literal">TMPDIR</code></td><td>The directory where temporary files are created.</td></tr><tr><td><code class="literal">TZ</code></td><td>This should be set to your local time zone. See
            <a href="error-handling.html#timezone-problems" title="C.5.4.6. Time Zone Problems">Section C.5.4.6, “Time Zone Problems”</a>.</td></tr><tr><td><code class="literal">UMASK</code></td><td>The user-file creation mode when creating files. See note following
            table.</td></tr><tr><td><code class="literal">UMASK_DIR</code></td><td>The user-directory creation mode when creating directories. See note
            following table.</td></tr><tr><td><code class="literal">USER</code></td><td>The default user name on Windows when connecting to
            <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>.</td></tr></tbody></table></div><p>
    For information about the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> history file, see
    <a href="programs.html#mysql-history-file" title="4.5.1.3. mysql History File">Section 4.5.1.3, “<span><strong class="command">mysql</strong></span> History File”</a>.
  </p><p>
    The <code class="literal">UMASK</code> and <code class="literal">UMASK_DIR</code>
    variables, despite their names, are used as modes, not masks:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        If <code class="literal">UMASK</code> is set, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        uses <code class="literal">($UMASK | 0600)</code> as the mode for file
        creation, so that newly created files have a mode in the range
        from 0600 to 0666 (all values octal).
      </p></li><li><p>
        If <code class="literal">UMASK_DIR</code> is set,
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> uses <code class="literal">($UMASK_DIR |
        0700)</code> as the base mode for directory creation, which
        then is AND-ed with <code class="literal">~(~$UMASK &amp; 0666)</code>, so
        that newly created directories have a mode in the range from
        0700 to 0777 (all values octal). The AND operation may remove
        read and write permissions from the directory mode, but not
        execute permissions.
      </p></li></ul></div><p>
    MySQL assumes that the value for <code class="literal">UMASK</code> or
    <code class="literal">UMASK_DIR</code> is in octal if it starts with a zero.
  </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="perl-support"></a>2.13. Perl Installation Notes</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installing.html#perl-installation">2.13.1. Installing Perl on Unix</a></span></dt><dt><span class="section"><a href="installing.html#activestate-perl">2.13.2. Installing ActiveState Perl on Windows</a></span></dt><dt><span class="section"><a href="installing.html#perl-support-problems">2.13.3. Problems Using the Perl <code class="literal">DBI</code>/<code class="literal">DBD</code>
      Interface</a></span></dt></dl></div><a class="indexterm" name="id548221"></a><a class="indexterm" name="id548233"></a><p>
    The Perl <code class="literal">DBI</code> module provides a generic interface
    for database access. You can write a <code class="literal">DBI</code> script
    that works with many different database engines without change. To
    use <code class="literal">DBI</code>, you must install the
    <code class="literal">DBI</code> module, as well as a DataBase Driver (DBD)
    module for each type of databas server you want to access. For
    MySQL, this driver is the <code class="literal">DBD::mysql</code> module.
  </p><p>
    Perl, and the <code class="literal">DBD::MySQL</code> module for
    <code class="literal">DBI</code> must be installed if you want to run the
    MySQL benchmark scripts; see <a href="optimization.html#mysql-benchmarks" title="7.12.2. The MySQL Benchmark Suite">Section 7.12.2, “The MySQL Benchmark Suite”</a>.
    They are also required for the MySQL Cluster
    <a href="mysql-cluster.html#mysql-cluster-programs-ndb-size-pl" title="16.4.21. ndb_size.pl — NDBCLUSTER Size Requirement Estimator"><span><strong class="command">ndb_size.pl</strong></span></a> utility; see
    <a href="mysql-cluster.html#mysql-cluster-programs-ndb-size-pl" title="16.4.21. ndb_size.pl — NDBCLUSTER Size Requirement Estimator">Section 16.4.21, “<span><strong class="command">ndb_size.pl</strong></span> — NDBCLUSTER Size Requirement Estimator”</a>.
  </p><div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">Note</div><p xmlns="">
      Perl support is not included with MySQL distributions. You can
      obtain the necessary modules from
      <a href="http://search.cpan.org" target="_top">http://search.cpan.org</a> for Unix, or by using the
      ActiveState <span><strong class="command">ppm</strong></span> program on Windows. The
      following sections describe how to do this.
    </p></div><p>
    The <code class="literal">DBI</code>/<code class="literal">DBD</code> interface requires
    Perl 5.6.0, and 5.6.1 or later is preferred. DBI <span class="emphasis"><em>does not
    work</em></span> if you have an older version of Perl. You should use
    <code class="literal">DBD::mysql</code> 4.009 or higher. Although earlier
    versions are available, they do not support the full functionality
    of MySQL 5.5.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="perl-installation"></a>2.13.1. Installing Perl on Unix</h3></div></div></div><p>
      MySQL Perl support requires that you have installed MySQL client
      programming support (libraries and header files). Most
      installation methods install the necessary files. If you install
      MySQL from RPM files on Linux, be sure to install the developer
      RPM as well. The client programs are in the client RPM, but client
      programming support is in the developer RPM.
    </p><p>
      The files you need for Perl support can be obtained from the CPAN
      (Comprehensive Perl Archive Network) at
      <a href="http://search.cpan.org" target="_top">http://search.cpan.org</a>.
    </p><p>
      The easiest way to install Perl modules on Unix is to use the
      <code class="literal">CPAN</code> module. For example:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>perl -MCPAN -e shell</code></strong>
cpan&gt; <strong class="userinput"><code>install DBI</code></strong>
cpan&gt; <strong class="userinput"><code>install DBD::mysql</code></strong>
</pre><p>
      The <code class="literal">DBD::mysql</code> installation runs a number of
      tests. These tests attempt to connect to the local MySQL server
      using the default user name and password. (The default user name
      is your login name on Unix, and <code class="literal">ODBC</code> on
      Windows. The default password is “<span class="quote">no password.</span>”) If
      you cannot connect to the server with those values (for example,
      if your account has a password), the tests fail. You can use
      <code class="literal">force install DBD::mysql</code> to ignore the failed
      tests.
    </p><p>
      <code class="literal">DBI</code> requires the
      <code class="literal">Data::Dumper</code> module. It may be installed; if
      not, you should install it before installing
      <code class="literal">DBI</code>.
    </p><p>
      It is also possible to download the module distributions in the
      form of compressed <span><strong class="command">tar</strong></span> archives and build the
      modules manually. For example, to unpack and build a DBI
      distribution, use a procedure such as this:
    </p><div class="orderedlist"><ol type="1"><li><p>
          Unpack the distribution into the current directory:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gunzip &lt; DBI-<em class="replaceable"><code>VERSION</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p>
          This command creates a directory named
          <code class="filename">DBI-<em class="replaceable"><code>VERSION</code></em></code>.
        </p></li><li><p>
          Change location into the top-level directory of the unpacked
          distribution:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd DBI-<em class="replaceable"><code>VERSION</code></em></code></strong>
</pre></li><li><p>
          Build the distribution and compile everything:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>perl Makefile.PL</code></strong>
shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make test</code></strong>
shell&gt; <strong class="userinput"><code>make install</code></strong>
</pre></li></ol></div><p>
      The <span><strong class="command">make test</strong></span> command is important because it
      verifies that the module is working. Note that when you run that
      command during the <code class="literal">DBD::mysql</code> installation to
      exercise the interface code, the MySQL server must be running or
      the test fails.
    </p><p>
      It is a good idea to rebuild and reinstall the
      <code class="literal">DBD::mysql</code> distribution whenever you install a
      new release of MySQL. This ensures that the latest versions of the
      MySQL client libraries are installed correctly.
    </p><p>
      If you do not have access rights to install Perl modules in the
      system directory or if you want to install local Perl modules, the
      following reference may be useful:
      <a href="http://servers.digitaldaze.com/extensions/perl/modules.html#modules" target="_top">http://servers.digitaldaze.com/extensions/perl/modules.html#modules</a>
    </p><p>
      Look under the heading “<span class="quote">Installing New Modules that Require
      Locally Installed Modules.</span>”
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="activestate-perl"></a>2.13.2. Installing ActiveState Perl on Windows</h3></div></div></div><a class="indexterm" name="id548631"></a><a class="indexterm" name="id548643"></a><a class="indexterm" name="id548656"></a><p>
      On Windows, you should do the following to install the MySQL
      <code class="literal">DBD</code> module with ActiveState Perl:
    </p><div class="orderedlist"><ol type="1"><li><p>
          Get ActiveState Perl from
          <a href="http://www.activestate.com/Products/ActivePerl/" target="_top">http://www.activestate.com/Products/ActivePerl/</a>
          and install it.
        </p></li><li><p>
          Open a console window.
        </p></li><li><p>
          If necessary, set the <code class="literal">HTTP_proxy</code> variable.
          For example, you might try a setting like this:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>set HTTP_proxy=my.proxy.com:3128</code></strong>
</pre></li><li><p>
          Start the PPM program:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\perl\bin\ppm.pl</code></strong>
</pre></li><li><p>
          If you have not previously done so, install
          <code class="literal">DBI</code>:
        </p><pre class="programlisting">ppm&gt; <strong class="userinput"><code>install DBI</code></strong>
</pre></li><li><p>
          If this succeeds, run the following command:
        </p><pre class="programlisting">ppm&gt; <strong class="userinput"><code>install DBD-mysql</code></strong>
</pre></li></ol></div><p>
      This procedure should work with ActiveState Perl 5.6 or newer.
    </p><p>
      If you cannot get the procedure to work, you should install the
      ODBC driver instead and connect to the MySQL server through ODBC:
    </p><pre class="programlisting">use DBI;
$dbh= DBI-&gt;connect("DBI:ODBC:$dsn",$user,$password) ||
  die "Got error $DBI::errstr when connecting to $dsn\n";</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="perl-support-problems"></a>2.13.3. Problems Using the Perl <code class="literal">DBI</code>/<code class="literal">DBD</code>
      Interface</h3></div></div></div><a class="indexterm" name="id548824"></a><a class="indexterm" name="id548837"></a><p>
      If Perl reports that it cannot find the
      <code class="filename">../mysql/mysql.so</code> module, the problem is
      probably that Perl cannot locate the
      <code class="filename">libmysqlclient.so</code> shared library. You should
      be able to fix this problem by one of the following methods:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Copy <code class="filename">libmysqlclient.so</code> to the directory
          where your other shared libraries are located (probably
          <code class="filename">/usr/lib</code> or <code class="filename">/lib</code>).
        </p></li><li><p>
          Modify the <code class="option">-L</code> options used to compile
          <code class="literal">DBD::mysql</code> to reflect the actual location
          of <code class="filename">libmysqlclient.so</code>.
        </p></li><li><p>
          On Linux, you can add the path name of the directory where
          <code class="filename">libmysqlclient.so</code> is located to the
          <code class="filename">/etc/ld.so.conf</code> file.
        </p></li><li><p>
          <a class="indexterm" name="id548940"></a>

          <a class="indexterm" name="id548949"></a>

          <a class="indexterm" name="id548961"></a>

          <a class="indexterm" name="id548970"></a>

          Add the path name of the directory where
          <code class="filename">libmysqlclient.so</code> is located to the
          <code class="literal">LD_RUN_PATH</code> environment variable. Some
          systems use <code class="literal">LD_LIBRARY_PATH</code> instead.
        </p></li></ul></div><p>
      Note that you may also need to modify the <code class="option">-L</code>
      options if there are other libraries that the linker fails to
      find. For example, if the linker cannot find
      <code class="literal">libc</code> because it is in <code class="filename">/lib</code>
      and the link command specifies <code class="option">-L/usr/lib</code>, change
      the <code class="option">-L</code> option to <code class="option">-L/lib</code> or add
      <code class="option">-L/lib</code> to the existing link command.
    </p><p>
      If you get the following errors from
      <code class="literal">DBD::mysql</code>, you are probably using
      <span><strong class="command">gcc</strong></span> (or using an old binary compiled with
      <span><strong class="command">gcc</strong></span>):
    </p><pre class="programlisting">/usr/bin/perl: can't resolve symbol '__moddi3'
/usr/bin/perl: can't resolve symbol '__divdi3'</pre><p>
      Add <code class="option">-L/usr/lib/gcc-lib/... -lgcc</code> to the link
      command when the <code class="filename">mysql.so</code> library gets built
      (check the output from <span><strong class="command">make</strong></span> for
      <code class="filename">mysql.so</code> when you compile the Perl client).
      The <code class="option">-L</code> option should specify the path name of the
      directory where <code class="filename">libgcc.a</code> is located on your
      system.
    </p><p>
      Another cause of this problem may be that Perl and MySQL are not
      both compiled with <span><strong class="command">gcc</strong></span>. In this case, you can
      solve the mismatch by compiling both with <span><strong class="command">gcc</strong></span>.
    </p><p>
      You may see the following error from <code class="literal">DBD::mysql</code>
      when you run the tests:
    </p><pre class="programlisting">t/00base............install_driver(mysql) failed:
Can't load '../blib/arch/auto/DBD/mysql/mysql.so' for module DBD::mysql:
../blib/arch/auto/DBD/mysql/mysql.so: undefined symbol:
uncompress at /usr/lib/perl5/5.00503/i586-linux/DynaLoader.pm line 169.</pre><p>
      This means that you need to include the <code class="option">-lz</code>
      compression library on the link line. That can be done by changing
      the following line in the file
      <code class="filename">lib/DBD/mysql/Install.pm</code>:
    </p><pre class="programlisting">$sysliblist .= " -lm";</pre><p>
      Change that line to:
    </p><pre class="programlisting">$sysliblist .= " -lm -lz";</pre><p>
      After this, you <span class="emphasis"><em>must</em></span> run <span><strong class="command">make
      realclean</strong></span> and then proceed with the installation from
      the beginning.
    </p></div></div></div><div class="copyright-footer">
    Copyright © 1997, 2012, Oracle and/or its affiliates. All
    rights reserved.
  <a href="preface.html#legalnotice">Legal Notices</a></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="introduction.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="tutorial.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 1. General Information </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 3. Tutorial</td></tr></table></div></body></html>
