  <div id="C00000412">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />SQLiteAdapter<br/>
  In:
<a href="#" onclick="jsHref('files/activerecord/lib/active_record/connection_adapters/sqlite_adapter_rb.html');">activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb</a>

Parent:&nbsp;
AbstractAdapter
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
The SQLite adapter works with both the 2.x and 3.x series of SQLite with
the sqlite-ruby drivers (available both as gems and from <a
href="http://rubyforge.org/projects/sqlite-ruby"
target="_blank">http://rubyforge.org/projects/sqlite-ruby</a>/).
</p>
<p>
Options:
</p>
<ul>
<li><tt>:database</tt> &#8212; Path to the database file.

</li>
</ul>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M001289&name=catch_schema_changes" >catch_schema_changes</a></li>
  <li><a href="index.html?a=M001287&name=rename_table" >rename_table</a></li>
  <li><a href="index.html?a=M001286&name=requires_reloading?" >requires_reloading?</a></li>
  <li><a href="index.html?a=M001288&name=table_structure" >table_structure</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M001287" class="method">
  <div id="M001287_title" class="title">
    <b>rename_table</b>(name, new_name)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001287_source')" id="l_M001287_source">show source</a> ]</p>
  <div id="M001287_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb, line 233</span>
233:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rename_table</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">new_name</span>)
234:         <span class="ruby-identifier">execute</span> <span class="ruby-node">&quot;ALTER TABLE #{name} RENAME TO #{new_name}&quot;</span>
235:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001286" class="method">
  <div id="M001286_title" class="title">
    <b>requires_reloading?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001286_source')" id="l_M001286_source">show source</a> ]</p>
  <div id="M001286_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb, line 105</span>
105:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">requires_reloading?</span>
106:         <span class="ruby-keyword kw">true</span>
107:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M001289" class="method">
  <div id="M001289_title" class="title">
    <b>catch_schema_changes</b>() {|| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001289_source')" id="l_M001289_source">show source</a> ]</p>
  <div id="M001289_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb, line 345</span>
345:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">catch_schema_changes</span>
346:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">yield</span>
347:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">StatementInvalid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exception</span>
348:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">message</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/database schema has changed/</span>
349:             <span class="ruby-identifier">reconnect!</span>
350:             <span class="ruby-keyword kw">retry</span>
351:           <span class="ruby-keyword kw">else</span>
352:             <span class="ruby-identifier">raise</span>
353:           <span class="ruby-keyword kw">end</span>
354:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001288" class="method">
  <div id="M001288_title" class="title">
    <b>table_structure</b>(table_name)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001288_source')" id="l_M001288_source">show source</a> ]</p>
  <div id="M001288_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb, line 272</span>
272:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">table_structure</span>(<span class="ruby-identifier">table_name</span>)
273:           <span class="ruby-identifier">returning</span> <span class="ruby-identifier">structure</span> = <span class="ruby-identifier">execute</span>(<span class="ruby-node">&quot;PRAGMA table_info(#{table_name})&quot;</span>) <span class="ruby-keyword kw">do</span>
274:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">StatementInvalid</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">structure</span>.<span class="ruby-identifier">empty?</span>
275:           <span class="ruby-keyword kw">end</span>
276:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>