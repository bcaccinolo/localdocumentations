  <div id="C00000385">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />InstanceMethods<br/>
  In:
<a href="#" onclick="jsHref('files/activerecord/lib/active_record/acts/list_rb.html');">activerecord/lib/active_record/acts/list.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
All the methods available to a record that has had <tt>acts_as_list</tt>
specified. Each method works by assuming the object to be the item in the
list, so <tt>chapter.move_lower</tt> would move that chapter lower in the
list of all chapters. Likewise, <tt>chapter.first?</tt> would return true
if that chapter is the first in the list of all chapters.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M001149&name=decrement_position" >decrement_position</a></li>
  <li><a href="index.html?a=M001150&name=first?" >first?</a></li>
  <li><a href="index.html?a=M001152&name=higher_item" >higher_item</a></li>
  <li><a href="index.html?a=M001154&name=in_list?" >in_list?</a></li>
  <li><a href="index.html?a=M001148&name=increment_position" >increment_position</a></li>
  <li><a href="index.html?a=M001142&name=insert_at" >insert_at</a></li>
  <li><a href="index.html?a=M001151&name=last?" >last?</a></li>
  <li><a href="index.html?a=M001153&name=lower_item" >lower_item</a></li>
  <li><a href="index.html?a=M001144&name=move_higher" >move_higher</a></li>
  <li><a href="index.html?a=M001143&name=move_lower" >move_lower</a></li>
  <li><a href="index.html?a=M001145&name=move_to_bottom" >move_to_bottom</a></li>
  <li><a href="index.html?a=M001146&name=move_to_top" >move_to_top</a></li>
  <li><a href="index.html?a=M001147&name=remove_from_list" >remove_from_list</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M001149" class="method">
  <div id="M001149_title" class="title">
    <b>decrement_position</b>()
  </div>
  <div class="description">
  <p>
Decrease the position of this item without adjusting the rest of the list.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001149_source')" id="l_M001149_source">show source</a> ]</p>
  <div id="M001149_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 138</span>
138:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">decrement_position</span>
139:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">in_list?</span>
140:           <span class="ruby-identifier">update_attribute</span> <span class="ruby-identifier">position_column</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">position_column</span>).<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
141:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001150" class="method">
  <div id="M001150_title" class="title">
    <b>first?</b>()
  </div>
  <div class="description">
  <p>
Return true if this object is the first in the list.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001150_source')" id="l_M001150_source">show source</a> ]</p>
  <div id="M001150_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 144</span>
144:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">first?</span>
145:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">in_list?</span>
146:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">position_column</span>) <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
147:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001152" class="method">
  <div id="M001152_title" class="title">
    <b>higher_item</b>()
  </div>
  <div class="description">
  <p>
Return the next higher item in the list.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001152_source')" id="l_M001152_source">show source</a> ]</p>
  <div id="M001152_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 156</span>
156:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">higher_item</span>
157:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">in_list?</span>
158:           <span class="ruby-identifier">acts_as_list_class</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>
159:             <span class="ruby-node">&quot;#{scope_condition} AND #{position_column} = #{(send(position_column).to_i - 1).to_s}&quot;</span>
160:           )
161:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001154" class="method">
  <div id="M001154_title" class="title">
    <b>in_list?</b>()
  </div>
  <div class="description">
  <p>
Test if this record is in a list
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001154_source')" id="l_M001154_source">show source</a> ]</p>
  <div id="M001154_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 172</span>
172:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">in_list?</span>
173:           <span class="ruby-operator">!</span><span class="ruby-identifier">send</span>(<span class="ruby-identifier">position_column</span>).<span class="ruby-identifier">nil?</span>
174:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001148" class="method">
  <div id="M001148_title" class="title">
    <b>increment_position</b>()
  </div>
  <div class="description">
  <p>
Increase the position of this item without adjusting the rest of the list.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001148_source')" id="l_M001148_source">show source</a> ]</p>
  <div id="M001148_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 132</span>
132:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">increment_position</span>
133:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">in_list?</span>
134:           <span class="ruby-identifier">update_attribute</span> <span class="ruby-identifier">position_column</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">position_column</span>).<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
135:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001142" class="method">
  <div id="M001142_title" class="title">
    <b>insert_at</b>(position = 1)
  </div>
  <div class="description">
  <p>
Insert the item at the given position (defaults to the top position of 1).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001142_source')" id="l_M001142_source">show source</a> ]</p>
  <div id="M001142_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 79</span>
79:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">insert_at</span>(<span class="ruby-identifier">position</span> = <span class="ruby-value">1</span>)
80:           <span class="ruby-identifier">insert_at_position</span>(<span class="ruby-identifier">position</span>)
81:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001151" class="method">
  <div id="M001151_title" class="title">
    <b>last?</b>()
  </div>
  <div class="description">
  <p>
Return true if this object is the last in the list.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001151_source')" id="l_M001151_source">show source</a> ]</p>
  <div id="M001151_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 150</span>
150:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">last?</span>
151:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">in_list?</span>
152:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">position_column</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">bottom_position_in_list</span>
153:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001153" class="method">
  <div id="M001153_title" class="title">
    <b>lower_item</b>()
  </div>
  <div class="description">
  <p>
Return the next lower item in the list.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001153_source')" id="l_M001153_source">show source</a> ]</p>
  <div id="M001153_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 164</span>
164:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lower_item</span>
165:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">in_list?</span>
166:           <span class="ruby-identifier">acts_as_list_class</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>
167:             <span class="ruby-node">&quot;#{scope_condition} AND #{position_column} = #{(send(position_column).to_i + 1).to_s}&quot;</span>
168:           )
169:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001144" class="method">
  <div id="M001144_title" class="title">
    <b>move_higher</b>()
  </div>
  <div class="description">
  <p>
Swap positions with the next higher item, if one exists.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001144_source')" id="l_M001144_source">show source</a> ]</p>
  <div id="M001144_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 94</span>
 94:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">move_higher</span>
 95:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">higher_item</span>
 96: 
 97:           <span class="ruby-identifier">acts_as_list_class</span>.<span class="ruby-identifier">transaction</span> <span class="ruby-keyword kw">do</span>
 98:             <span class="ruby-identifier">higher_item</span>.<span class="ruby-identifier">increment_position</span>
 99:             <span class="ruby-identifier">decrement_position</span>
100:           <span class="ruby-keyword kw">end</span>
101:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001143" class="method">
  <div id="M001143_title" class="title">
    <b>move_lower</b>()
  </div>
  <div class="description">
  <p>
Swap positions with the next lower item, if one exists.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001143_source')" id="l_M001143_source">show source</a> ]</p>
  <div id="M001143_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 84</span>
84:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">move_lower</span>
85:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">lower_item</span>
86: 
87:           <span class="ruby-identifier">acts_as_list_class</span>.<span class="ruby-identifier">transaction</span> <span class="ruby-keyword kw">do</span>
88:             <span class="ruby-identifier">lower_item</span>.<span class="ruby-identifier">decrement_position</span>
89:             <span class="ruby-identifier">increment_position</span>
90:           <span class="ruby-keyword kw">end</span>
91:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001145" class="method">
  <div id="M001145_title" class="title">
    <b>move_to_bottom</b>()
  </div>
  <div class="description">
  <p>
Move to the bottom of the list. If the item is already in the list, the
items below it have their position adjusted accordingly.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001145_source')" id="l_M001145_source">show source</a> ]</p>
  <div id="M001145_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 105</span>
105:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">move_to_bottom</span>
106:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">in_list?</span>
107:           <span class="ruby-identifier">acts_as_list_class</span>.<span class="ruby-identifier">transaction</span> <span class="ruby-keyword kw">do</span>
108:             <span class="ruby-identifier">decrement_positions_on_lower_items</span>
109:             <span class="ruby-identifier">assume_bottom_position</span>
110:           <span class="ruby-keyword kw">end</span>
111:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001146" class="method">
  <div id="M001146_title" class="title">
    <b>move_to_top</b>()
  </div>
  <div class="description">
  <p>
Move to the top of the list. If the item is already in the list, the items
above it have their position adjusted accordingly.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001146_source')" id="l_M001146_source">show source</a> ]</p>
  <div id="M001146_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 115</span>
115:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">move_to_top</span>
116:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">in_list?</span>
117:           <span class="ruby-identifier">acts_as_list_class</span>.<span class="ruby-identifier">transaction</span> <span class="ruby-keyword kw">do</span>
118:             <span class="ruby-identifier">increment_positions_on_higher_items</span>
119:             <span class="ruby-identifier">assume_top_position</span>
120:           <span class="ruby-keyword kw">end</span>
121:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001147" class="method">
  <div id="M001147_title" class="title">
    <b>remove_from_list</b>()
  </div>
  <div class="description">
  <p>
Removes the item from the list.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001147_source')" id="l_M001147_source">show source</a> ]</p>
  <div id="M001147_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/lib/active_record/acts/list.rb, line 124</span>
124:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_from_list</span>
125:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">in_list?</span>
126:             <span class="ruby-identifier">decrement_positions_on_lower_items</span>
127:             <span class="ruby-identifier">update_attribute</span> <span class="ruby-identifier">position_column</span>, <span class="ruby-keyword kw">nil</span>
128:           <span class="ruby-keyword kw">end</span>
129:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>