  <div id="C00000090">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />ClassMethods<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/lib/action_controller/macros/auto_complete_rb.html');">actionpack/lib/action_controller/macros/auto_complete.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
DEPRECATION WARNING: This method will become a separate plugin when Rails
2.0 ships.
</p>
<p>
Example:
</p>
<pre>
  # Controller
  class BlogController &lt; ApplicationController
    auto_complete_for :post, :title
  end

  # View
  &lt;%= text_field_with_auto_complete :post, title %&gt;
</pre>
<p>
By default, <a
href="index.html?a=M000260&name=auto_complete_for">auto_complete_for</a>
limits the results to 10 entries, and sorts by the given field.
</p>
<p>
<a href="index.html?a=M000260&name=auto_complete_for">auto_complete_for</a>
takes a third parameter, an options hash to the find method used to search
for the records:
</p>
<pre>
  auto_complete_for :post, :title, :limit =&gt; 15, :order =&gt; 'created_at DESC'
</pre>
<p>
For help on defining text input fields with autocompletion, see <a
href="index.html?a=C00000574&name=ActionView::Helpers::JavaScriptHelper">ActionView::Helpers::JavaScriptHelper</a>.
</p>
<p>
For more examples, see script.aculo.us:
</p>
<ul>
<li><a href="http://script.aculo.us/demos/ajax/autocompleter"
target="_blank">http://script.aculo.us/demos/ajax/autocompleter</a>

</li>
<li><a href="http://script.aculo.us/demos/ajax/autocompleter_customized"
target="_blank">http://script.aculo.us/demos/ajax/autocompleter_customized</a>

</li>
</ul>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000260&name=auto_complete_for" >auto_complete_for</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000260" class="method">
  <div id="M000260_title" class="title">
    <b>auto_complete_for</b>(object, method, options = {})
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000260_source')" id="l_M000260_source">show source</a> ]</p>
  <div id="M000260_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/lib/action_controller/macros/auto_complete.rb, line 38</span>
38:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">auto_complete_for</span>(<span class="ruby-identifier">object</span>, <span class="ruby-identifier">method</span>, <span class="ruby-identifier">options</span> = {})
39:           <span class="ruby-identifier">define_method</span>(<span class="ruby-node">&quot;auto_complete_for_#{object}_#{method}&quot;</span>) <span class="ruby-keyword kw">do</span>
40:             <span class="ruby-identifier">find_options</span> = { 
41:               <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-node">&quot;LOWER(#{method}) LIKE ?&quot;</span>, <span class="ruby-value str">'%'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">object</span>][<span class="ruby-identifier">method</span>].<span class="ruby-identifier">downcase</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'%'</span> ], 
42:               <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{method} ASC&quot;</span>,
43:               <span class="ruby-identifier">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)
44:             
45:             <span class="ruby-ivar">@items</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">camelize</span>.<span class="ruby-identifier">constantize</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">find_options</span>)
46: 
47:             <span class="ruby-identifier">render</span> <span class="ruby-identifier">:inline</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;&lt;%= auto_complete_result @items, '#{method}' %&gt;&quot;</span>
48:           <span class="ruby-keyword kw">end</span>
49:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>