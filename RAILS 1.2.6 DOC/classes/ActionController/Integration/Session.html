  <div id="C00000103">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Session<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/lib/action_controller/integration_rb.html');">actionpack/lib/action_controller/integration.rb</a>

Parent:&nbsp;
Object
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
An integration <a href="index.html?a=C00000103&name=Session">Session</a>
instance represents a set of requests and responses performed sequentially
by some virtual user. Becase you can instantiate multiple sessions and run
them side-by-side, you can also mimic (to some limited extent) multiple
simultaneous users interacting with your system.
</p>
<p>
Typically, you will instantiate a new session using <a
href="index.html?a=M000438&name=IntegrationTest#open_session">IntegrationTest#open_session</a>,
rather than instantiating <a
href="index.html?a=C00000103&name=Integration::Session">Integration::Session</a>
directly.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000286&name=delete" >delete</a></li>
  <li><a href="index.html?a=M000279&name=follow_redirect!" >follow_redirect!</a></li>
  <li><a href="index.html?a=M000283&name=get" >get</a></li>
  <li><a href="index.html?a=M000280&name=get_via_redirect" >get_via_redirect</a></li>
  <li><a href="index.html?a=M000287&name=head" >head</a></li>
  <li><a href="index.html?a=M000278&name=host!" >host!</a></li>
  <li><a href="index.html?a=M000276&name=https!" >https!</a></li>
  <li><a href="index.html?a=M000277&name=https?" >https?</a></li>
  <li><a href="index.html?a=M000274&name=new" >new</a></li>
  <li><a href="index.html?a=M000284&name=post" >post</a></li>
  <li><a href="index.html?a=M000281&name=post_via_redirect" >post_via_redirect</a></li>
  <li><a href="index.html?a=M000285&name=put" >put</a></li>
  <li><a href="index.html?a=M000282&name=redirect?" >redirect?</a></li>
  <li><a href="index.html?a=M000275&name=reset!" >reset!</a></li>
  <li><a href="index.html?a=M000290&name=url_for" >url_for</a></li>
  <li><a href="index.html?a=M000289&name=xhr" >xhr</a></li>
  <li><a href="index.html?a=M000288&name=xml_http_request" >xml_http_request</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('');">Test::Unit::Assertions</a></li>
  <li><a href="#" onclick="jsHref('');">ActionController::Assertions</a></li>
  <li><a href="#" onclick="jsHref('');">ActionController::TestProcess</a></li>
</ul>




  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>accept</td>
    <td class='attr-desc'>
The Accept header to send.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>controller</td>
    <td class='attr-desc'>
A reference to the controller instance used by the last request.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>cookies</td>
    <td class='attr-desc'>
A map of the cookies returned by the last response, and which will be sent
with the next request.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>headers</td>
    <td class='attr-desc'>
A map of the headers returned by the last response.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>host</td>
    <td class='attr-desc'>
The hostname used in the last request.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>path</td>
    <td class='attr-desc'>
The URI of the last request.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>remote_addr</td>
    <td class='attr-desc'>
The remote_addr used in the last request.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>request</td>
    <td class='attr-desc'>
A reference to the request instance used by the last request.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>response</td>
    <td class='attr-desc'>
A reference to the response instance used by the last request.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>status</td>
    <td class='attr-desc'>
The integer HTTP status code of the last request.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>status_message</td>
    <td class='attr-desc'>
The status message that accompanied the status code of the last request.

</td>
  </tr>
  </table>

<div class="sectiontitle">Public Class methods</div>
<div id="M000274" class="method">
  <div id="M000274_title" class="title">
    <b>new</b>()
  </div>
  <div class="description">
  <p>
Create an initialize a new <a
href="index.html?a=C00000103&name=Session">Session</a> instance.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000274_source')" id="l_M000274_source">show source</a> ]</p>
  <div id="M000274_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 55</span>
55:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
56:         <span class="ruby-identifier">reset!</span>
57:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M000286" class="method">
  <div id="M000286_title" class="title">
    <b>delete</b>(path, parameters=nil, headers=nil)
  </div>
  <div class="description">
  <p>
Performs a DELETE request with the given parameters. See get() for more
details.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000286_source')" id="l_M000286_source">show source</a> ]</p>
  <div id="M000286_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 166</span>
166:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">headers</span>=<span class="ruby-keyword kw">nil</span>)
167:         <span class="ruby-identifier">process</span> <span class="ruby-identifier">:delete</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>, <span class="ruby-identifier">headers</span>
168:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000279" class="method">
  <div id="M000279_title" class="title">
    <b>follow_redirect!</b>()
  </div>
  <div class="description">
  <p>
Follow a single redirect response. If the last response was not a redirect,
an exception will be raised. Otherwise, the redirect is performed on the
location header.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000279_source')" id="l_M000279_source">show source</a> ]</p>
  <div id="M000279_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 114</span>
114:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">follow_redirect!</span>
115:         <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;not a redirect! #{@status} #{@status_message}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">redirect?</span>
116:         <span class="ruby-identifier">get</span>(<span class="ruby-identifier">interpret_uri</span>(<span class="ruby-identifier">headers</span>[<span class="ruby-value str">'location'</span>].<span class="ruby-identifier">first</span>))
117:         <span class="ruby-identifier">status</span>
118:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000283" class="method">
  <div id="M000283_title" class="title">
    <b>get</b>(path, parameters=nil, headers=nil)
  </div>
  <div class="description">
  <p>
Performs a GET request with the given parameters. The parameters may be
<tt>nil</tt>, a Hash, or a string that is appropriately encoded
(application/x-www-form-urlencoded or multipart/form-data). The headers
should be a hash. The keys will automatically be upcased, with the prefix
&#8216;HTTP_&#8217; added if needed.
</p>
<p>
You can also perform POST, PUT, DELETE, and HEAD requests with <a
href="index.html?a=M000284&name=post">post</a>, <a
href="index.html?a=M000285&name=put">put</a>, <a
href="index.html?a=M000286&name=delete">delete</a>, and <a
href="index.html?a=M000287&name=head">head</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000283_source')" id="l_M000283_source">show source</a> ]</p>
  <div id="M000283_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 151</span>
151:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">headers</span>=<span class="ruby-keyword kw">nil</span>)
152:         <span class="ruby-identifier">process</span> <span class="ruby-identifier">:get</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>, <span class="ruby-identifier">headers</span>
153:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000280" class="method">
  <div id="M000280_title" class="title">
    <b>get_via_redirect</b>(path, args={})
  </div>
  <div class="description">
  <p>
Performs a GET request, following any subsequent redirect. Note that the
redirects are followed until the response is not a redirect&#8212;this
means you may run into an infinite loop if your redirect loops back to
itself.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000280_source')" id="l_M000280_source">show source</a> ]</p>
  <div id="M000280_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 124</span>
124:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_via_redirect</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>={})
125:         <span class="ruby-identifier">get</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>
126:         <span class="ruby-identifier">follow_redirect!</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">redirect?</span>
127:         <span class="ruby-identifier">status</span>
128:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000287" class="method">
  <div id="M000287_title" class="title">
    <b>head</b>(path, parameters=nil, headers=nil)
  </div>
  <div class="description">
  <p>
Performs a HEAD request with the given parameters. See get() for more
details.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000287_source')" id="l_M000287_source">show source</a> ]</p>
  <div id="M000287_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 171</span>
171:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">head</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">headers</span>=<span class="ruby-keyword kw">nil</span>)
172:         <span class="ruby-identifier">process</span> <span class="ruby-identifier">:head</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>, <span class="ruby-identifier">headers</span>
173:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000278" class="method">
  <div id="M000278_title" class="title">
    <b>host!</b>(name)
  </div>
  <div class="description">
  <p>
Set the host name to use in the next request.
</p>
<pre>
  session.host! &quot;www.example.com&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000278_source')" id="l_M000278_source">show source</a> ]</p>
  <div id="M000278_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 107</span>
107:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">host!</span>(<span class="ruby-identifier">name</span>)
108:         <span class="ruby-ivar">@host</span> = <span class="ruby-identifier">name</span>
109:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000276" class="method">
  <div id="M000276_title" class="title">
    <b>https!</b>(flag=true)
  </div>
  <div class="description">
  <p>
Specify whether or not the session should mimic a secure HTTPS request.
</p>
<pre>
  session.https!
  session.https!(false)
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000276_source')" id="l_M000276_source">show source</a> ]</p>
  <div id="M000276_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 91</span>
91:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">https!</span>(<span class="ruby-identifier">flag</span>=<span class="ruby-keyword kw">true</span>)
92:         <span class="ruby-ivar">@https</span> = <span class="ruby-identifier">flag</span>
93:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000277" class="method">
  <div id="M000277_title" class="title">
    <b>https?</b>()
  </div>
  <div class="description">
  <p>
Return <tt>true</tt> if the session is mimicing a secure HTTPS request.
</p>
<pre>
  if session.https?
    ...
  end
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000277_source')" id="l_M000277_source">show source</a> ]</p>
  <div id="M000277_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 100</span>
100:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">https?</span>
101:         <span class="ruby-ivar">@https</span>
102:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000284" class="method">
  <div id="M000284_title" class="title">
    <b>post</b>(path, parameters=nil, headers=nil)
  </div>
  <div class="description">
  <p>
Performs a POST request with the given parameters. See get() for more
details.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000284_source')" id="l_M000284_source">show source</a> ]</p>
  <div id="M000284_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 156</span>
156:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">post</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">headers</span>=<span class="ruby-keyword kw">nil</span>)
157:         <span class="ruby-identifier">process</span> <span class="ruby-identifier">:post</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>, <span class="ruby-identifier">headers</span>
158:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000281" class="method">
  <div id="M000281_title" class="title">
    <b>post_via_redirect</b>(path, args={})
  </div>
  <div class="description">
  <p>
Performs a POST request, following any subsequent redirect. This is
vulnerable to infinite loops, the same as <a
href="index.html?a=M000280&name=get_via_redirect">get_via_redirect</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000281_source')" id="l_M000281_source">show source</a> ]</p>
  <div id="M000281_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 132</span>
132:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">post_via_redirect</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>={})
133:         <span class="ruby-identifier">post</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>
134:         <span class="ruby-identifier">follow_redirect!</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">redirect?</span>
135:         <span class="ruby-identifier">status</span>
136:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000285" class="method">
  <div id="M000285_title" class="title">
    <b>put</b>(path, parameters=nil, headers=nil)
  </div>
  <div class="description">
  <p>
Performs a PUT request with the given parameters. See get() for more
details.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000285_source')" id="l_M000285_source">show source</a> ]</p>
  <div id="M000285_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 161</span>
161:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">put</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">headers</span>=<span class="ruby-keyword kw">nil</span>)
162:         <span class="ruby-identifier">process</span> <span class="ruby-identifier">:put</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>, <span class="ruby-identifier">headers</span>
163:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000282" class="method">
  <div id="M000282_title" class="title">
    <b>redirect?</b>()
  </div>
  <div class="description">
  <p>
Returns <tt>true</tt> if the last response was a redirect.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000282_source')" id="l_M000282_source">show source</a> ]</p>
  <div id="M000282_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 139</span>
139:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">redirect?</span>
140:         <span class="ruby-identifier">status</span><span class="ruby-operator">/</span><span class="ruby-value">100</span> <span class="ruby-operator">==</span> <span class="ruby-value">3</span>
141:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000275" class="method">
  <div id="M000275_title" class="title">
    <b>reset!</b>()
  </div>
  <div class="description">
  <p>
Resets the instance. This can be used to reset the state information in an
existing session instance, so it can be used from a clean-slate condition.
</p>
<pre>
  session.reset!
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000275_source')" id="l_M000275_source">show source</a> ]</p>
  <div id="M000275_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 64</span>
64:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset!</span>
65:         <span class="ruby-ivar">@status</span> = <span class="ruby-ivar">@path</span> = <span class="ruby-ivar">@headers</span> = <span class="ruby-keyword kw">nil</span>
66:         <span class="ruby-ivar">@result</span> = <span class="ruby-ivar">@status_message</span> = <span class="ruby-keyword kw">nil</span>
67:         <span class="ruby-ivar">@https</span> = <span class="ruby-keyword kw">false</span>
68:         <span class="ruby-ivar">@cookies</span> = {}
69:         <span class="ruby-ivar">@controller</span> = <span class="ruby-ivar">@request</span> = <span class="ruby-ivar">@response</span> = <span class="ruby-keyword kw">nil</span>
70: 
71:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span>        = <span class="ruby-value str">&quot;www.example.com&quot;</span>
72:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">remote_addr</span> = <span class="ruby-value str">&quot;127.0.0.1&quot;</span>
73:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">accept</span>      = <span class="ruby-value str">&quot;text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5&quot;</span>
74: 
75:         <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@named_routes_configured</span>
76:           <span class="ruby-comment cmt"># install the named routes in this session instance.</span>
77:           <span class="ruby-identifier">klass</span> = <span class="ruby-keyword kw">class</span><span class="ruby-operator">&lt;&lt;</span><span class="ruby-keyword kw">self</span>; <span class="ruby-keyword kw">self</span>; <span class="ruby-keyword kw">end</span>
78:           <span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">named_routes</span>.<span class="ruby-identifier">install</span>(<span class="ruby-identifier">klass</span>)
79: 
80:           <span class="ruby-comment cmt"># the helpers are made protected by default--we make them public for</span>
81:           <span class="ruby-comment cmt"># easier access during testing and troubleshooting.</span>
82:           <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:public</span>, <span class="ruby-operator">*</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">named_routes</span>.<span class="ruby-identifier">helpers</span>)
83:           <span class="ruby-ivar">@named_routes_configured</span> = <span class="ruby-keyword kw">true</span>
84:         <span class="ruby-keyword kw">end</span>
85:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000290" class="method">
  <div id="M000290_title" class="title">
    <b>url_for</b>(options)
  </div>
  <div class="description">
  <p>
Returns the URL for the given options, according to the rules specified in
the application&#8217;s routes.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000290_source')" id="l_M000290_source">show source</a> ]</p>
  <div id="M000290_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 202</span>
202:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)
203:         <span class="ruby-identifier">controller</span> <span class="ruby-value">? </span><span class="ruby-identifier">controller</span>.<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">generic_url_rewriter</span>.<span class="ruby-identifier">rewrite</span>(<span class="ruby-identifier">options</span>)
204:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000289" class="method">
  <div id="M000289_title" class="title">
    <b>xhr</b>(request_method, path, parameters = nil, headers = nil)
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M000288&name=xml_http_request">xml_http_request</a>
</p>
  </div>
</div>
<div id="M000288" class="method">
  <div id="M000288_title" class="title">
    <b>xml_http_request</b>(request_method, path, parameters = nil, headers = nil)
  </div>
  <div class="description">
  <p>
Performs an XMLHttpRequest request with the given parameters, mirroring a
request from the Prototype library.
</p>
<p>
The request_method is :get, :post, :put, :delete or :head; the parameters
are <tt>nil</tt>, a hash, or a url-encoded or multipart string; the headers
are a hash. Keys are automatically upcased and prefixed with
&#8216;HTTP_&#8217; if not already.
</p>
<p>
This method used to omit the request_method parameter, assuming it was
:post. This was deprecated in Rails 1.2.4. Always pass the request method
as the first argument.
</p>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M000289&name=xhr">xhr</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000288_source')" id="l_M000288_source">show source</a> ]</p>
  <div id="M000288_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/lib/action_controller/integration.rb, line 186</span>
186:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">request_method</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">headers</span> = <span class="ruby-keyword kw">nil</span>)
187:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">request_method</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>)
188:           <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span> <span class="ruby-value str">'xml_http_request now takes the request_method (:get, :post, etc.) as the first argument. It used to assume :post, so add the :post argument to your existing method calls to silence this warning.'</span>
189:           <span class="ruby-identifier">request_method</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>, <span class="ruby-identifier">headers</span> = <span class="ruby-identifier">:post</span>, <span class="ruby-identifier">request_method</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>
190:         <span class="ruby-keyword kw">end</span>
191: 
192:         <span class="ruby-identifier">headers</span> <span class="ruby-operator">||=</span> {}
193:         <span class="ruby-identifier">headers</span>[<span class="ruby-value str">'X-Requested-With'</span>] = <span class="ruby-value str">'XMLHttpRequest'</span>
194:         <span class="ruby-identifier">headers</span>[<span class="ruby-value str">'Accept'</span>] = <span class="ruby-value str">'text/javascript, text/html, application/xml, text/xml, */*'</span>
195: 
196:         <span class="ruby-identifier">process</span>(<span class="ruby-identifier">request_method</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">parameters</span>, <span class="ruby-identifier">headers</span>)
197:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>