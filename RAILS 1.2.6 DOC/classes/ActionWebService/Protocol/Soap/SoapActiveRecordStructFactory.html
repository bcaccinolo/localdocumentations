  <div id="C00000497">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />SoapActiveRecordStructFactory<br/>
  In:
<a href="#" onclick="jsHref('files/actionwebservice/lib/action_web_service/protocol/soap_protocol/marshaler_rb.html');">actionwebservice/lib/action_web_service/protocol/soap_protocol/marshaler.rb</a>

Parent:&nbsp;
SOAP::Mapping::Factory
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M001570&name=obj2soap" >obj2soap</a></li>
  <li><a href="index.html?a=M001571&name=soap2obj" >soap2obj</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M001570" class="method">
  <div id="M001570_title" class="title">
    <b>obj2soap</b>(soap_class, obj, info, map)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001570_source')" id="l_M001570_source">show source</a> ]</p>
  <div id="M001570_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionwebservice/lib/action_web_service/protocol/soap_protocol/marshaler.rb, line 178</span>
178:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">soap_class</span>, <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">info</span>, <span class="ruby-identifier">map</span>)
179:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
180:             <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
181:           <span class="ruby-keyword kw">end</span>
182:           <span class="ruby-identifier">soap_obj</span> = <span class="ruby-identifier">soap_class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">obj</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">'@qname'</span>))
183:           <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">columns</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">column</span><span class="ruby-operator">|</span>
184:             <span class="ruby-identifier">key</span> = <span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
185:             <span class="ruby-identifier">value</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">key</span>)
186:             <span class="ruby-identifier">soap_obj</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-constant">SOAP</span><span class="ruby-operator">::</span><span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">_obj2soap</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">map</span>)
187:           <span class="ruby-keyword kw">end</span>
188:           <span class="ruby-identifier">soap_obj</span>
189:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001571" class="method">
  <div id="M001571_title" class="title">
    <b>soap2obj</b>(obj_class, node, info, map)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001571_source')" id="l_M001571_source">show source</a> ]</p>
  <div id="M001571_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionwebservice/lib/action_web_service/protocol/soap_protocol/marshaler.rb, line 191</span>
191:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">soap2obj</span>(<span class="ruby-identifier">obj_class</span>, <span class="ruby-identifier">node</span>, <span class="ruby-identifier">info</span>, <span class="ruby-identifier">map</span>)
192:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">obj_class</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">'@qname'</span>)
193:             <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>
194:           <span class="ruby-keyword kw">end</span>
195:           <span class="ruby-identifier">obj</span> = <span class="ruby-identifier">obj_class</span>.<span class="ruby-identifier">new</span>
196:           <span class="ruby-identifier">node</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
197:             <span class="ruby-identifier">obj</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">data</span>
198:           <span class="ruby-keyword kw">end</span>
199:           <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value str">'@new_record'</span>, <span class="ruby-keyword kw">false</span>)
200:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">obj</span>
201:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>