  <div id="fileHeader">
    <h1>pushgems.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>pushgems.rb
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Sep 11 18:09:52 -0700 2006</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>#!/usr/local/bin/ruby

unless ARGV.first == &quot;no_build&quot;
  build_number = build_number = `svn log -q -rhead http://dev.rubyonrails.org/svn/rails`.scan(/r([0-9]*)/).first.first.to_i
end

%w( actionwebservice actionmailer actionpack activerecord railties activesupport ).each do |pkg|
  puts &quot;Pushing: #{pkg} (#{build_number})&quot;
  if build_number
    `cd #{pkg} &amp;&amp; rm -rf pkg &amp;&amp; PKG_BUILD=#{build_number} rake pgem &amp;&amp; cd ..`
  else
    `cd #{pkg} &amp;&amp; rm -rf pkg &amp;&amp; rake pgem &amp;&amp; cd ..`
  end
end

</pre>
    </div>