  <div id="fileHeader">
    <h1>response.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>actionpack/lib/action_controller/response.rb
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sat Nov 25 21:04:57 -0800 2006</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>module ActionController
  class AbstractResponse #:nodoc:
    DEFAULT_HEADERS = { &quot;Cache-Control&quot; =&gt; &quot;no-cache&quot; }
    attr_accessor :body, :headers, :session, :cookies, :assigns, :template, :redirected_to, :redirected_to_method_params, :layout

    def initialize
      @body, @headers, @session, @assigns = &quot;&quot;, DEFAULT_HEADERS.merge(&quot;cookie&quot; =&gt; []), [], []
    end

    def content_type=(mime_type)
      @headers[&quot;Content-Type&quot;] = charset ? &quot;#{mime_type}; charset=#{charset}&quot; : mime_type
    end
    
    def content_type
      content_type = String(@headers[&quot;Content-Type&quot;]).split(&quot;;&quot;)[0]
      content_type.blank? ? nil : content_type
    end
    
    def charset=(encoding)
      @headers[&quot;Content-Type&quot;] = &quot;#{content_type || &quot;text/html&quot;}; charset=#{encoding}&quot;
    end
    
    def charset
      charset = String(@headers[&quot;Content-Type&quot;]).split(&quot;;&quot;)[1]
      charset.blank? ? nil : charset.strip.split(&quot;=&quot;)[1]
    end

    def redirect(to_url, permanently = false)
      @headers[&quot;Status&quot;]   = &quot;302 Found&quot; unless @headers[&quot;Status&quot;] == &quot;301 Moved Permanently&quot;
      @headers[&quot;Location&quot;] = to_url

      @body = &quot;&lt;html&gt;&lt;body&gt;You are being &lt;a href=\&quot;#{to_url}\&quot;&gt;redirected&lt;/a&gt;.&lt;/body&gt;&lt;/html&gt;&quot;
    end
  end
end</pre>
    </div>