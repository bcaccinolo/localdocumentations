  <div id="fileHeader">
    <h1>schema.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>activerecord/lib/active_record/schema.rb
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sat Feb 25 15:22:04 -0800 2006</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>module ActiveRecord
  # Allows programmers to programmatically define a schema in a portable
  # DSL. This means you can define tables, indexes, etc. without using SQL
  # directly, so your applications can more easily support multiple
  # databases.
  #
  # Usage:
  #
  #   ActiveRecord::Schema.define do
  #     create_table :authors do |t|
  #       t.column :name, :string, :null =&gt; false
  #     end
  #
  #     add_index :authors, :name, :unique
  #
  #     create_table :posts do |t|
  #       t.column :author_id, :integer, :null =&gt; false
  #       t.column :subject, :string
  #       t.column :body, :text
  #       t.column :private, :boolean, :default =&gt; false
  #     end
  #
  #     add_index :posts, :author_id
  #   end
  #
  # ActiveRecord::Schema is only supported by database adapters that also
  # support migrations, the two features being very similar.
  class Schema &lt; Migration
    private_class_method :new

    # Eval the given block. All methods available to the current connection
    # adapter are available within the block, so you can easily use the
    # database definition DSL to build up your schema (#create_table,
    # #add_index, etc.).
    #
    # The +info+ hash is optional, and if given is used to define metadata
    # about the current schema (like the schema's version):
    #
    #   ActiveRecord::Schema.define(:version =&gt; 15) do
    #     ...
    #   end
    def self.define(info={}, &amp;block)
      instance_eval(&amp;block)

      unless info.empty?
        initialize_schema_information
        cols = columns('schema_info')

        info = info.map do |k,v|
          v = Base.connection.quote(v, cols.detect { |c| c.name == k.to_s })
          &quot;#{k} = #{v}&quot;
        end

        Base.connection.update &quot;UPDATE #{Migrator.schema_info_table_name} SET #{info.join(&quot;, &quot;)}&quot;
      end
    end
  end
end
</pre>
    </div>